(this["webpackJsonpnode-dashboard"]=this["webpackJsonpnode-dashboard"]||[]).push([[0],[,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(3),a=s(4),i=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"register",value:function(e,t){this._services[e]=t}},{key:"unregister",value:function(e){delete this._services[e]}},{key:"get",value:function(e){return!this._instances[e]&&this._services[e]&&(this._instances[e]=this._services[e](e)),this._instances[e]}}]),e}();i._services={},i._instances={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return o}));var n=s(15),a=s(3),i=s(4),r=s(11),c=s(6),o=function(){function t(){Object(a.a)(this,t),this._reconnectTimer=void 0,this._lastMessage=void 0,this._webSocket=void 0,this._subscriptions=void 0,this._authService=void 0,this._authService=c.a.get("auth"),this._subscriptions={},this._lastMessage=0}return Object(i.a)(t,[{key:"subscribe",value:function(e,t,s){this._subscriptions[e]||(this._subscriptions[e]={requiresAuth:t,isSubscribed:!1,subs:[]});var n=r.Converter.bytesToHex(r.RandomHelper.generate(32));return this._subscriptions[e].subs.push({subscriptionId:n,callback:s}),this._webSocket&&this._webSocket.readyState===WebSocket.OPEN?this.subscribeTopic(e):this._webSocket||this.connectSocket(),n}},{key:"unsubscribe",value:function(e){var t,s=Object(n.a)(Object.keys(this._subscriptions).map((function(e){return Number(e)})));try{for(s.s();!(t=s.n()).done;){var a=t.value,i=this._subscriptions[a].subs.findIndex((function(t){return t.subscriptionId===e}));if(i>=0&&(this._subscriptions[a].subs.splice(i,1),0===this._subscriptions[a].subs.length)){this.unsubscribeTopic(a),delete this._subscriptions[a];break}}}catch(r){s.e(r)}finally{s.f()}0===Object.keys(this._subscriptions).length&&(this.clearTimer(),this.disconnectSocket())}},{key:"resubscribe",value:function(){var e,t=Object.keys(this._subscriptions).map((function(e){return Number(e)})),s=Object(n.a)(t);try{for(s.s();!(e=s.n()).done;){var a=e.value;this.unsubscribeTopic(a)}}catch(o){s.e(o)}finally{s.f()}if(this._webSocket&&this._webSocket.readyState===WebSocket.OPEN){var i,r=Object(n.a)(t);try{for(r.s();!(i=r.n()).done;){var c=i.value;this.subscribeTopic(c)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"connectSocket",value:function(){var e,t=this;this.clearTimer(),this.disconnectSocket();var s="ws:";"https:"===window.location.protocol&&(s="wss:"),s+="//".concat(window.location.hostname,":").concat(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BRAND_ID:"hornet"}).REACT_APP_SOCKET)&&void 0!==e?e:window.location.port,"/ws"),this._webSocket=new WebSocket(s),this._webSocket.onopen=function(){var e,s=Object(n.a)(Object.keys(t._subscriptions).map((function(e){return Number(e)})));try{for(s.s();!(e=s.n()).done;){var a=e.value;t.subscribeTopic(a)}}catch(i){s.e(i)}finally{s.f()}},this._webSocket.onclose=function(){t.disconnectSocket()},this._webSocket.onerror=function(e){console.error("Socket error",e)},this._webSocket.onmessage=function(e){t._lastMessage=Date.now(),t.handleMessage(e.data)},this._lastMessage=Date.now(),this._reconnectTimer=setInterval((function(){return t.reconnect()}),5e3)}},{key:"disconnectSocket",value:function(){if(this._webSocket){try{this._webSocket.readyState===WebSocket.OPEN&&this._webSocket.close()}catch(e){}this._webSocket=void 0}}},{key:"clearTimer",value:function(){this._reconnectTimer&&(clearInterval(this._reconnectTimer),this._reconnectTimer=void 0)}},{key:"subscribeTopic",value:function(t){if(this._subscriptions[t]){var s=this._subscriptions[t].requiresAuth,n=this._authService.isLoggedIn();if(!s||s&&n){this._subscriptions[t].isSubscribed=!0;var a=new ArrayBuffer(2+(n&&s?n.length:0)),i=new Uint8Array(a);i[0]=0,i[1]=t,n&&s&&i.set(e.from(n),2),this._webSocket&&this._webSocket.send(a)}}}},{key:"unsubscribeTopic",value:function(e){var t;if(null!==(t=this._subscriptions[e])&&void 0!==t&&t.isSubscribed){this._subscriptions[e].isSubscribed=!1;var s=new ArrayBuffer(2),n=new Uint8Array(s);n[0]=1,n[1]=e,this._webSocket&&this._webSocket.readyState===WebSocket.OPEN&&this._webSocket.send(s)}}},{key:"handleMessage",value:function(e){var t=JSON.parse(e);if(this._subscriptions[t.type]){var s,a=Object(n.a)(this._subscriptions[t.type].subs);try{for(a.s();!(s=a.n()).done;){s.value.callback(t.data)}}catch(i){a.e(i)}finally{a.f()}}}},{key:"reconnect",value:function(){Object.keys(this._subscriptions)&&(Date.now()-this._lastMessage>1e4&&this.connectSocket())}}]),t}()}).call(this,s(56).Buffer)},,,,,function(e,t,s){var n={"./bee/brand.json":87,"./hornet/brand.json":88};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=86},function(e){e.exports=JSON.parse('{"name":"Bee"}')},function(e){e.exports=JSON.parse('{"name":"Hornet"}')},function(e,t,s){var n={"./bee/themes/dark/logo-navigation.svg":[182,4],"./bee/themes/light/logo-navigation.svg":[183,6],"./hornet/themes/dark/logo-navigation.svg":[184,8],"./hornet/themes/light/logo-navigation.svg":[185,10]};function a(e){if(!s.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return s.e(t[1]).then((function(){return s(a)}))}a.keys=function(){return Object.keys(n)},a.id=89,e.exports=a},function(e,t,s){var n={"./bee/themes/dark/banner.svg":[186,3],"./bee/themes/light/banner.svg":[187,5],"./hornet/themes/dark/banner.svg":[188,7],"./hornet/themes/light/banner.svg":[189,9]};function a(e){if(!s.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return s.e(t[1]).then((function(){return s(a)}))}a.keys=function(){return Object.keys(n)},a.id=90,e.exports=a},function(e,t,s){},,,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n,a=s(2),i=s(9),r=s(1),c=s.n(r),o=s(78),l=s.n(o),d=s(14),u=s(16),h=s(3),p=s(4),b=s(13),v=s(12),j=s(7),m=s(8),f=s(17),O=["title","titleId"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},g.apply(this,arguments)}function x(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function y(e,t){var s=e.title,a=e.titleId,i=x(e,O);return r.createElement("svg",g({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?r.createElement("title",{id:a},s):null,n||(n=r.createElement("path",{d:"M2.252 8C2.08416 8.6534 1.99949 9.32538 2 10C2 10.69 2.088 11.36 2.252 12H5.1C4.96518 10.6701 4.96518 9.32993 5.1 8H2.252ZM3.07 6H5.416C5.682 4.783 6.066 3.693 6.537 2.786C5.08518 3.48542 3.87722 4.60523 3.07 6ZM17.748 8H14.9C15.0348 9.32993 15.0348 10.6701 14.9 12H17.748C17.912 11.36 18 10.69 18 10C18 9.31 17.912 8.64 17.748 8ZM16.93 6C16.1228 4.60523 14.9148 3.48542 13.463 2.786C13.935 3.693 14.318 4.783 14.584 6H16.93ZM7.112 8C7.03708 8.66403 6.99968 9.33176 7 10C7 10.685 7.038 11.355 7.112 12H12.888C13.0386 10.6709 13.0386 9.32908 12.888 8H7.112ZM7.47 6H12.53C12.348 5.2483 12.0855 4.51841 11.747 3.823C11.119 2.568 10.447 2 10 2C9.552 2 8.881 2.568 8.253 3.823C7.938 4.455 7.673 5.19 7.47 6ZM3.07 14C3.87722 15.3948 5.08518 16.5146 6.537 17.214C6.065 16.307 5.682 15.217 5.416 14H3.07ZM16.93 14H14.584C14.318 15.217 13.934 16.307 13.463 17.214C14.9148 16.5146 16.1228 15.3948 16.93 14ZM7.47 14C7.673 14.81 7.938 15.545 8.253 16.177C8.881 17.432 9.553 18 10 18C10.448 18 11.119 17.432 11.747 16.177C12.062 15.545 12.327 14.81 12.53 14H7.47ZM10 20C4.477 20 0 15.523 0 10C0 4.477 4.477 0 10 0C15.523 0 20 4.477 20 10C20 15.523 15.523 20 10 20Z",fill:"currentColor"})))}var k,_=r.forwardRef(y),S=(s.p,["title","titleId"]);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},w.apply(this,arguments)}function N(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function C(e,t){var s=e.title,n=e.titleId,a=N(e,S);return r.createElement("svg",w({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,k||(k=r.createElement("path",{d:"M18 18V6.80002L10 2.00002L2 6.80002V18H6V14.918C6 13.8572 6.42143 12.8397 7.17157 12.0896C7.92172 11.3394 8.93913 10.918 10 10.918C11.0609 10.918 12.0783 11.3394 12.8284 12.0896C13.5786 12.8397 14 13.8572 14 14.918V18H18ZM12 20V14.918C12 14.3876 11.7893 13.8789 11.4142 13.5038C11.0391 13.1287 10.5304 12.918 10 12.918C9.46957 12.918 8.96086 13.1287 8.58579 13.5038C8.21071 13.8789 8 14.3876 8 14.918V20H2C1.46957 20 0.960859 19.7893 0.585786 19.4142C0.210714 19.0391 0 18.5304 0 18L0 6.80002C-3.32274e-06 6.45465 0.0894306 6.11516 0.259593 5.81462C0.429755 5.51407 0.674847 5.26271 0.971 5.08502L8.971 0.285019C9.28183 0.0985175 9.63751 0 10 0C10.3625 0 10.7182 0.0985175 11.029 0.285019L19.029 5.08502C19.3252 5.26271 19.5702 5.51407 19.7404 5.81462C19.9106 6.11516 20 6.45465 20 6.80002V18C20 18.5304 19.7893 19.0391 19.4142 19.4142C19.0391 19.7893 18.5304 20 18 20H12Z",fill:"currentColor"})))}var I,T=r.forwardRef(C),E=(s.p,["title","titleId"]);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},P.apply(this,arguments)}function M(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function D(e,t){var s=e.title,n=e.titleId,a=M(e,E);return r.createElement("svg",P({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,I||(I=r.createElement("path",{d:"m19.49261,11.36231c-0.20411,-0.05103 -0.40822,0 -0.58682,0.12757c-0.66336,0.56131 -1.42878,1.02056 -2.27074,1.32672c-0.79093,0.30617 -1.6584,0.45925 -2.5769,0.45925c-2.06662,0 -3.95465,-0.84196 -5.30689,-2.19419c-1.35224,-1.35224 -2.19419,-3.24026 -2.19419,-5.30689c0,-0.86747 0.15308,-1.70943 0.40822,-2.47485c0.28065,-0.81644 0.68887,-1.55635 1.22467,-2.19419c0.22962,-0.28065 0.1786,-0.68887 -0.10206,-0.9185c-0.1786,-0.12757 -0.38271,-0.1786 -0.58682,-0.12757c-2.16868,0.58682 -4.05671,1.88803 -5.40894,3.62297c-1.30121,1.70943 -2.09214,3.82708 -2.09214,6.14885c0,2.78101 1.12261,5.30689 2.95961,7.14389s4.36287,2.95961 7.14389,2.95961c2.34728,0 4.51596,-0.81644 6.2509,-2.16868c1.76046,-1.37775 3.03615,-3.34232 3.57194,-5.58754c0.12757,-0.38271 -0.07654,-0.7399 -0.43374,-0.81644zm-3.90362,5.3324c-1.47981,1.17364 -3.36783,1.88803 -5.43446,1.88803c-2.42382,0 -4.61801,-0.99504 -6.19987,-2.5769c-1.58186,-1.58186 -2.5769,-3.77605 -2.5769,-6.19987c0,-2.0156 0.66336,-3.8526 1.81149,-5.3324c0.79093,-1.02056 1.78597,-1.86251 2.9341,-2.44933c-0.12757,0.28065 -0.25514,0.56131 -0.35719,0.86747c-0.33168,0.9185 -0.48476,1.88803 -0.48476,2.90858c0,2.42382 0.99504,4.64353 2.5769,6.22539s3.80157,2.5769 6.22539,2.5769c1.07158,0 2.09214,-0.1786 3.03615,-0.53579c0.33168,-0.12757 0.66336,-0.25514 0.96953,-0.40822c-0.61233,1.17364 -1.45429,2.21971 -2.50036,3.03615z",fill:"currentColor"})))}var B,A,L,R,U=r.forwardRef(D),H=(s.p,["title","titleId"]);function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},F.apply(this,arguments)}function z(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function V(e,t){var s=e.title,n=e.titleId,a=z(e,H);return r.createElement("svg",F({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,B||(B=r.createElement("path",{d:"m21.87281,24l-12.02632,0c-1.10464,0 -2.00439,-1.009 -2.00439,-2.25l0,-10.5c0,-1.241 0.89975,-2.25 2.00439,-2.25l12.02632,0c1.10464,0 2.00439,1.009 2.00439,2.25l0,10.5c0,1.241 -0.89975,2.25 -2.00439,2.25zm-12.02632,-13.5c-0.36792,0 -0.66813,0.336 -0.66813,0.75l0,10.5c0,0.414 0.30021,0.75 0.66813,0.75l12.02632,0c0.36792,0 0.66813,-0.336 0.66813,-0.75l0,-10.5c0,-0.414 -0.30021,-0.75 -0.66813,-0.75l-12.02632,0z",fill:"currentColor"})),A||(A=r.createElement("path",{d:"m11.35526,10.5c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-3.75c0,-2.481 -2.019,-4.5 -4.5,-4.5s-4.5,2.019 -4.5,4.5l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75l0,-3.75c0,-3.309 2.691,-6 6,-6s6,2.691 6,6l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})),L||(L=r.createElement("path",{d:"m15.7193,17c-1.103,0 -2,-0.897 -2,-2s0.897,-2 2,-2s2,0.897 2,2s-0.897,2 -2,2zm0,-2.5c-0.275,0 -0.5,0.224 -0.5,0.5s0.225,0.5 0.5,0.5s0.5,-0.224 0.5,-0.5s-0.225,-0.5 -0.5,-0.5z",fill:"currentColor"})),R||(R=r.createElement("path",{d:"m15.7193,20c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-2.75c0,-0.414 0.336,-0.75 0.75,-0.75s0.75,0.336 0.75,0.75l0,2.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})))}var Y,W,G,K,Z=r.forwardRef(V),q=(s.p,["title","titleId"]);function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},J.apply(this,arguments)}function X(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function $(e,t){var s=e.title,n=e.titleId,a=X(e,q);return r.createElement("svg",J({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Y||(Y=r.createElement("path",{d:"m18.75,24l-13.5,0c-1.24,0 -2.25,-1.009 -2.25,-2.25l0,-10.5c0,-1.241 1.01,-2.25 2.25,-2.25l13.5,0c1.24,0 2.25,1.009 2.25,2.25l0,10.5c0,1.241 -1.01,2.25 -2.25,2.25zm-13.5,-13.5c-0.413,0 -0.75,0.336 -0.75,0.75l0,10.5c0,0.414 0.337,0.75 0.75,0.75l13.5,0c0.413,0 0.75,-0.336 0.75,-0.75l0,-10.5c0,-0.414 -0.337,-0.75 -0.75,-0.75l-13.5,0z",fill:"currentColor"})),W||(W=r.createElement("path",{d:"m17.25,10.5c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-3.75c0,-2.481 -2.019,-4.5 -4.5,-4.5s-4.5,2.019 -4.5,4.5l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75l0,-3.75c0,-3.309 2.691,-6 6,-6s6,2.691 6,6l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})),G||(G=r.createElement("path",{d:"m12,17c-1.103,0 -2,-0.897 -2,-2s0.897,-2 2,-2s2,0.897 2,2s-0.897,2 -2,2zm0,-2.5c-0.275,0 -0.5,0.224 -0.5,0.5s0.225,0.5 0.5,0.5s0.5,-0.224 0.5,-0.5s-0.225,-0.5 -0.5,-0.5z",fill:"currentColor"})),K||(K=r.createElement("path",{d:"m12,20c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-2.75c0,-0.414 0.336,-0.75 0.75,-0.75s0.75,0.336 0.75,0.75l0,2.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})))}var Q,ee=r.forwardRef($),te=(s.p,["title","titleId"]);function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},se.apply(this,arguments)}function ne(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ae(e,t){var s=e.title,n=e.titleId,a=ne(e,te);return r.createElement("svg",se({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Q||(Q=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.6569 5.62329C7.03439 7.02356 5.63123 8 4 8C1.79086 8 0 6.20914 0 4C0 1.79086 1.79086 0 4 0C6.09134 0 7.80782 1.60496 7.98493 3.65037L12.3431 4.37673C12.9656 2.97645 14.3688 2 16 2C18.2091 2 20 3.79086 20 6C20 8.20914 18.2091 10 16 10C14.9749 10 14.04 9.61443 13.3321 8.9804L7.77815 12.6831C7.88518 12.9902 7.95583 13.3143 7.98493 13.6504L12.3431 14.3767C12.9656 12.9764 14.3688 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20C13.9087 20 12.1922 18.3951 12.0151 16.3497L7.6569 15.6233C7.03439 17.0236 5.63123 18 4 18C1.79086 18 0 16.2091 0 14C0 11.7909 1.79086 10 4 10C5.02504 10 5.96002 10.3856 6.66784 11.0196L12.2218 7.3169C12.1148 7.00981 12.0442 6.68568 12.0151 6.34965L7.6569 5.62329ZM6 4C6 5.10457 5.10457 6 4 6C2.89543 6 2 5.10457 2 4C2 2.89543 2.89543 2 4 2C5.10457 2 6 2.89543 6 4ZM16 8C17.1046 8 18 7.10457 18 6C18 4.89543 17.1046 4 16 4C14.8954 4 14 4.89543 14 6C14 7.10457 14.8954 8 16 8ZM6 14C6 15.1046 5.10457 16 4 16C2.89543 16 2 15.1046 2 14C2 12.8954 2.89543 12 4 12C5.10457 12 6 12.8954 6 14ZM16 18C17.1046 18 18 17.1046 18 16C18 14.8954 17.1046 14 16 14C14.8954 14 14 14.8954 14 16C14 17.1046 14.8954 18 16 18Z",fill:"currentColor"})))}var ie,re=r.forwardRef(ae),ce=(s.p,["title","titleId"]);function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},oe.apply(this,arguments)}function le(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function de(e,t){var s=e.title,n=e.titleId,a=le(e,ce);return r.createElement("svg",oe({width:32,height:20,viewBox:"0 5 32 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,ie||(ie=r.createElement("path",{d:"M18 13V8C18 7.73478 18.1054 7.48043 18.2929 7.29289C18.4804 7.10536 18.7348 7 19 7C19.2652 7 19.5196 7.10536 19.7071 7.29289C19.8946 7.48043 20 7.73478 20 8V13C20.5304 13 21.0391 13.2107 21.4142 13.5858C21.7893 13.9609 22 14.4696 22 15V18.5C21.9999 19.7247 21.5911 20.9144 20.8385 21.8805C20.0859 22.8467 19.0324 23.5342 17.845 23.834C17.9584 24.0628 18.0114 24.3167 17.9992 24.5717C17.987 24.8267 17.9099 25.0744 17.7753 25.2913C17.6406 25.5082 17.4528 25.6871 17.2296 25.8111C17.0064 25.9352 16.7553 26.0002 16.5 26H15.5C15.2447 26.0002 14.9936 25.9352 14.7704 25.8111C14.5472 25.6871 14.3594 25.5082 14.2247 25.2913C14.0901 25.0744 14.013 24.8267 14.0008 24.5717C13.9886 24.3167 14.0416 24.0628 14.155 23.834C12.9676 23.5342 11.9141 22.8467 11.1615 21.8805C10.4089 20.9144 10.0001 19.7247 10 18.5V15C10 14.4696 10.2107 13.9609 10.5858 13.5858C10.9609 13.2107 11.4696 13 12 13V8C12 7.73478 12.1054 7.48043 12.2929 7.29289C12.4804 7.10536 12.7348 7 13 7C13.2652 7 13.5196 7.10536 13.7071 7.29289C13.8946 7.48043 14 7.73478 14 8V13H18Z",fill:"currentColor"})))}var ue,he,pe,be,ve,je,me,fe,Oe,ge=r.forwardRef(de),xe=(s.p,["title","titleId"]);function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ye.apply(this,arguments)}function ke(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function _e(e,t){var s=e.title,n=e.titleId,a=ke(e,xe);return r.createElement("svg",ye({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,ue||(ue=r.createElement("path",{d:"m13.48664,6.42723c-0.8956,-0.8956 -2.15997,-1.4751 -3.52971,-1.4751s-2.63411,0.55316 -3.52971,1.4751c-0.8956,0.8956 -1.4751,2.15997 -1.4751,3.52971s0.5795,2.63411 1.4751,3.52971c0.8956,0.8956 2.15997,1.4751 3.52971,1.4751s2.63411,-0.55316 3.52971,-1.4751c0.8956,-0.8956 1.4751,-2.15997 1.4751,-3.52971s-0.55316,-2.63411 -1.4751,-3.52971zm-0.94828,6.11114c-0.65853,0.65853 -1.58047,1.05364 -2.58143,1.05364s-1.9229,-0.39512 -2.58143,-1.05364s-1.05364,-1.58047 -1.05364,-2.58143s0.39512,-1.9229 1.05364,-2.58143s1.58047,-1.05364 2.58143,-1.05364s1.9229,0.39512 2.58143,1.05364s1.05364,1.58047 1.05364,2.58143s-0.39512,1.9229 -1.05364,2.58143z",fill:"currentColor"})),he||(he=r.createElement("path",{d:"m19.229,9.27207l-2.02826,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487c0,0.36878 0.31609,0.68487 0.68487,0.68487l2.02826,0c0.36878,0 0.68487,-0.31609 0.68487,-0.68487c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),pe||(pe=r.createElement("path",{d:"m9.95694,16.51587c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487l0,2.02826c0,0.36878 0.31609,0.68487 0.68487,0.68487c0.36878,0 0.68487,-0.31609 0.68487,-0.68487l0,-2.02826c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),be||(be=r.createElement("path",{d:"m16.99001,16.04173l-1.44876,-1.44876c-0.23707,-0.26341 -0.68487,-0.26341 -0.94828,0s-0.26341,0.68487 0,0.94828l1.44876,1.44876c0.26341,0.26341 0.68487,0.26341 0.94828,0s0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})),ve||(ve=r.createElement("path",{d:"m9.95694,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487l0,2.02826c0,0.36878 0.31609,0.68487 0.68487,0.68487c0.36878,0 0.68487,-0.31609 0.68487,-0.68487l0,-2.02826c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),je||(je=r.createElement("path",{d:"m17.01635,2.92386c-0.26341,-0.26341 -0.68487,-0.26341 -0.94828,0l-1.44876,1.44876c-0.26341,0.26341 -0.26341,0.68487 0,0.94828c0.23707,0.26341 0.68487,0.26341 0.94828,0l1.44876,-1.44876c0.26341,-0.26341 0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})),me||(me=r.createElement("path",{d:"m2.71313,9.27207l-2.02826,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487s0.28975,0.68487 0.68487,0.68487l2.02826,0c0.36878,0 0.68487,-0.31609 0.68487,-0.68487c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),fe||(fe=r.createElement("path",{d:"m5.29456,14.59297c-0.23707,-0.26341 -0.68487,-0.26341 -0.94828,0l-1.44876,1.44876c-0.26341,0.26341 -0.26341,0.68487 0,0.94828s0.68487,0.26341 0.94828,0l1.44876,-1.44876c0.26341,-0.26341 0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})),Oe||(Oe=r.createElement("path",{d:"m5.29456,4.37262l-1.44876,-1.44876c-0.26341,-0.26341 -0.68487,-0.26341 -0.94828,0s-0.26341,0.68487 0,0.94828l1.44876,1.44876c0.26341,0.26341 0.68487,0.26341 0.94828,0s0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})))}var Se,we=r.forwardRef(_e),Ne=(s.p,["title","titleId"]);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ce.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Te(e,t){var s=e.title,n=e.titleId,a=Ie(e,Ne);return r.createElement("svg",Ce({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Se||(Se=r.createElement("path",{d:"M0.694333 17.3063C-1.21567 15.3943 0.952333 10.1263 5.53933 5.53935C10.1263 0.952348 15.3943 -1.21665 17.3063 0.694348C19.2163 2.60635 17.0483 7.87435 12.4613 12.4613C7.87433 17.0483 2.60633 19.2173 0.694333 17.3063ZM2.08033 15.9203C2.89533 16.7363 7.18233 14.9703 11.0773 11.0753C14.9723 7.18035 16.7373 2.89335 15.9223 2.07835C15.1073 1.26235 10.8203 3.02835 6.92533 6.92335C3.03033 10.8183 1.26533 15.1053 2.08033 15.9203ZM5.54033 12.4603C0.952333 7.87435 -1.21667 2.60635 0.694333 0.694348C2.60633 -1.21565 7.87433 0.952348 12.4613 5.53935C17.0483 10.1263 19.2173 15.3943 17.3063 17.3063C15.3943 19.2163 10.1263 17.0483 5.53933 12.4613L5.54033 12.4603ZM6.92533 11.0753C10.8203 14.9703 15.1073 16.7353 15.9223 15.9203C16.7383 15.1053 14.9723 10.8183 11.0773 6.92335C7.18233 3.02835 2.89533 1.26335 2.08033 2.07835C1.26433 2.89335 3.03033 7.18035 6.92533 11.0753ZM9.00033 11.0003C8.4699 11.0003 7.96119 10.7896 7.58612 10.4146C7.21105 10.0395 7.00033 9.53078 7.00033 9.00035C7.00033 8.46992 7.21105 7.96121 7.58612 7.58613C7.96119 7.21106 8.4699 7.00035 9.00033 7.00035C9.53077 7.00035 10.0395 7.21106 10.4145 7.58613C10.7896 7.96121 11.0003 8.46992 11.0003 9.00035C11.0003 9.53078 10.7896 10.0395 10.4145 10.4146C10.0395 10.7896 9.53077 11.0003 9.00033 11.0003Z",fill:"currentColor"})))}var Ee,Pe=r.forwardRef(Te),Me=(s.p,s(6));!function(e){e[e.SyncStatus=0]="SyncStatus",e[e.PublicNodeStatus=1]="PublicNodeStatus",e[e.NodeStatus=2]="NodeStatus",e[e.BPSMetrics=3]="BPSMetrics",e[e.TipSelMetric=4]="TipSelMetric",e[e.Ms=5]="Ms",e[e.PeerMetric=6]="PeerMetric",e[e.ConfirmedMsMetrics=7]="ConfirmedMsMetrics",e[e.Vertex=8]="Vertex",e[e.SolidInfo=9]="SolidInfo",e[e.ConfirmedInfo=10]="ConfirmedInfo",e[e.MilestoneInfo=11]="MilestoneInfo",e[e.TipInfo=12]="TipInfo",e[e.DBSizeMetric=13]="DBSizeMetric",e[e.DBCleanup=14]="DBCleanup",e[e.SpamMetrics=15]="SpamMetrics",e[e.AvgSpamMetrics=16]="AvgSpamMetrics"}(Ee||(Ee={}));var De=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"subscribe",value:function(t,s,n){e._subscriptions[t]=e._subscriptions[t]||{},e._subscriptions[t][s]=n}},{key:"unsubscribe",value:function(t,s){e._subscriptions[t]&&delete e._subscriptions[t][s]}},{key:"publish",value:function(t,s){setTimeout((function(){if(e._subscriptions[t])for(var n in e._subscriptions[t])e._subscriptions[t][n](s)}),0)}}]),e}();De._subscriptions={};var Be=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"initialize",value:function(){if(e._brandId)return e._brandConfiguration=s(86)("./".concat(e._brandId,"/brand.json")),document.title="".concat(e._brandConfiguration.name," Dashboard"),e._brandConfiguration}},{key:"getConfiguration",value:function(){return e._brandConfiguration}},{key:"getLogoNavigation",value:function(){var t=Object(i.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(89)("./".concat(e._brandId,"/themes/").concat(n,"/logo-navigation.svg"));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBanner",value:function(){var t=Object(i.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(90)("./".concat(e._brandId,"/themes/").concat(n,"/banner.svg"));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();Be._brandId="hornet",Be._brandConfiguration=void 0;s(91);var Ae=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(h.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._isMounted=void 0,e}return Object(p.a)(s,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"setState",value:function(e,t){this._isMounted&&Object(b.a)(Object(v.a)(s.prototype),"setState",this).call(this,e,t)}}]),s}(r.Component),Le=Ae,Re=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._resize=void 0,n._resize=function(){return n.resize()},n.state={isVisible:n.calculateVisible()},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){return this.state.isVisible?this.props.children:null}},{key:"resize",value:function(){var e=this.calculateVisible();this.setState({isVisible:e})}},{key:"calculateVisible",value:function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);return"above"===this.props.aboveBelow?e>=s.SIZE_BREAKPOINTS[this.props.size]:e<s.SIZE_BREAKPOINTS[this.props.size]}}]),s}(r.Component);Re.SIZE_BREAKPOINTS={phone:480,tablet:768,desktop:1024};var Ue=Re,He=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"calculateMemoryUsage",value:function(e){return e.mem.heapInUse+(e.mem.heapIdle-e.mem.heapReleased)+e.mem.mSpanInUse+e.mem.mCacheInUse+e.mem.stackSys}},{key:"formatPeerAddress",value:function(e){var t;if(e.multiAddresses)for(var s=0;s<e.multiAddresses.length&&!t;s++)t=this.extractAddress(e.multiAddresses[s]);return t}},{key:"extractAddress",value:function(t){var s=e.extractIp4(t);return s||(s=e.extractIp6(t)),s||(s=e.extractDns(t)),s}},{key:"extractIp4",value:function(e){var t=/\/ip4\/((?:\d{1,3}.){3}\d{1,3})\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}},{key:"extractIp6",value:function(e){var t=/\/ip6\/(.*?)\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}},{key:"extractDns",value:function(e){var t=/\/dns\/(.*?)\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}},{key:"sortPeers",value:function(e){return e.sort((function(e,t){var s,n;return e.health!==t.health?t.health-e.health:(null!==(s=e.alias)&&void 0!==s?s:e.id).localeCompare(null!==(n=t.alias)&&void 0!==n?n:t.id)}))}},{key:"calculateHealth",value:function(t,s,n){var a,i,r,c=0;t.connected&&(c=e.calculateIsSynced(t,n)&&null!==(a=t.gossip)&&void 0!==a&&a.heartbeat&&(null===(i=t.gossip)||void 0===i||null===(r=i.heartbeat)||void 0===r?void 0:r.prunedMilestoneIndex)<s?2:1);return c}},{key:"calculateIsSynced",value:function(e,t){var s,n=!1;if(null!==(s=e.gossip)&&void 0!==s&&s.heartbeat){var a=t<e.gossip.heartbeat.latestMilestoneIndex?e.gossip.heartbeat.latestMilestoneIndex:t;e.gossip.heartbeat.solidMilestoneIndex>=a-2&&(n=!0)}return n}}]),e}(),Fe=s(5),ze=s(50),Ve=s.n(ze),Ye=s(33),We=s.n(Ye),Ge=function(){function e(){Object(h.a)(this,e),this._baseToken=void 0;var t=Me.a.get("node-config");this._baseToken=t.getBaseToken()}return Object(p.a)(e,[{key:"amount",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t)return"".concat(e," ").concat(this._baseToken.subunit?this._baseToken.subunit:this._baseToken.unit);var n=e/Math.pow(10,this._baseToken.decimals),a=this._baseToken.useMetricPrefix?Fe.UnitsHelper.formatBest(n):"".concat(Number.parseFloat(n.toFixed(s))," ");return"".concat(a).concat(this._baseToken.unit)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"duration",value:function(e){return e<36e5?Ve()(e,{largest:1,round:!0}):Ve()(e,{largest:2,round:!0})}},{key:"size",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"0 bytes";var s=Math.floor(Math.log(e)/Math.log(1e3)),n=["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"],a=Number((e/Math.pow(1e3,s)).toFixed(t)),i=n[s];return"bytes"===i&&1===a&&(i="byte"),void 0===i?e.toFixed(t).toString():"".concat(a," ").concat(i)}},{key:"iSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"0 bytes";var s=Math.floor(Math.log(e)/Math.log(1024)),n=["bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=Number((e/Math.pow(1024,s)).toFixed(t)),i=n[s];return"bytes"===i&&1===a&&(i="byte"),void 0===i?e.toFixed(t).toString():"".concat(a," ").concat(i)}},{key:"date",value:function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=e.milliseconds(t);var n=We()(t),a=n.format("LLLL");if(s){var i=t>Date.now()?"in the future":"ago";a+=" - ".concat(We.a.duration(We()().diff(n)).humanize()," ").concat(i)}return a}},{key:"dateShort",value:function(t){return We()(e.milliseconds(t)).format("YYYY-MM-DD HH:mm")}},{key:"milliseconds",value:function(e){return e.toString().length<13?1e3*e:e}}]),e}();Ge.instance=void 0;s(108);var Ke,Ze,qe=s(10),Je=s.n(qe),Xe=["title","titleId"];function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},$e.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function et(e,t){var s=e.title,n=e.titleId,a=Qe(e,Xe);return r.createElement("svg",$e({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Ke||(Ke=r.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#FF6755"})),Ze||(Ze=r.createElement("circle",{cx:8,cy:8,r:4,fill:"#FF6755"})))}var tt,st,nt=r.forwardRef(et),at=(s.p,["title","titleId"]);function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},it.apply(this,arguments)}function rt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ct(e,t){var s=e.title,n=e.titleId,a=rt(e,at);return r.createElement("svg",it({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,tt||(tt=r.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#61E884"})),st||(st=r.createElement("circle",{cx:8,cy:8,r:4,fill:"#61E884"})))}var ot,lt=r.forwardRef(ct),dt=(s.p,s(109),s(0)),ut=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(dt.jsxs)("div",{className:Je()("health-indicator",this.props.className),children:[this.props.healthy?Object(dt.jsx)(lt,{}):Object(dt.jsx)(nt,{}),Object(dt.jsx)("span",{className:"label",children:this.props.label})]})}}]),s}(r.Component),ht=ut,pt=(s(111),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n,a,i;return Object(h.a)(this,s),(i=t.call(this,e))._graphWidth=void 0,i._graphHeight=void 0,i._graphWidth=null!==(n=i.props.graphWidth)&&void 0!==n?n:80,i._graphHeight=null!==(a=i.props.graphHeight)&&void 0!==a?a:10,i.state=Object(u.a)({},i.calculateGraph()),i}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.values!==e.values&&this.setState(this.calculateGraph())}},{key:"render",value:function(){return Object(dt.jsxs)("div",{className:Je()("micro-graph",this.props.className),children:[Object(dt.jsx)("span",{className:"label",children:this.props.label}),Object(dt.jsx)("span",{className:"value",children:this.props.value}),Object(dt.jsx)("span",{className:"canvas",children:Object(dt.jsxs)("svg",{width:this._graphWidth,height:this._graphHeight,children:[this.state.graphPoints&&this.state.graphPoints.length>0&&Object(dt.jsx)("path",{d:this.state.graphPoints.map((function(e){return"".concat(e.type," ").concat(e.x," ").concat(e.y)})).join(" "),stroke:"currentColor",strokeWidth:"2",fill:"none"}),this.state.circle&&this.state.circle.x>=0&&Object(dt.jsx)("circle",{cx:this.state.circle.x,cy:this.state.circle.y,r:"3",fill:"currentColor"})]})})]})}},{key:"calculateGraph",value:function(){for(var e,t,s=this._graphWidth/2,n=this.props.values.slice(-s),a=-1,i=-1,r=0;r<n.length;r++)(void 0===e||n[r]<e)&&(e=n[r]),(void 0===t||n[r]>t)&&(t=n[r]);var c=[];if(void 0!==t&&void 0!==e){var o=t-e,l=0===o?1:o/this._graphHeight,d=(n[0]-e)/l;c.push({type:"M",x:0,y:this._graphHeight-d});for(var u=s/n.length*2,h=1;h<n.length;h++){var p=(n[h]-e)/l;c.push({type:"l",x:u,y:-1*(p-d)}),d=p}a=(n.length-1)*u,i=10-d}return{graphPoints:c,circle:{x:a,y:i}}}}]),s}(r.Component)),bt=["title","titleId"];function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},vt.apply(this,arguments)}function jt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function mt(e,t){var s=e.title,n=e.titleId,a=jt(e,bt);return r.createElement("svg",vt({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,ot||(ot=r.createElement("path",{d:"M8.0005 14.0005C8.78843 14.0005 9.56865 13.8453 10.2966 13.5438C11.0246 13.2423 11.686 12.8003 12.2431 12.2431C12.8003 11.686 13.2423 11.0246 13.5438 10.2966C13.8453 9.56865 14.0005 8.78843 14.0005 8.0005C14.0005 7.21257 13.8453 6.43236 13.5438 5.7044C13.2423 4.97645 12.8003 4.31501 12.2431 3.75786C11.686 3.20071 11.0246 2.75875 10.2966 2.45723C9.56865 2.1557 8.78843 2.0005 8.0005 2.0005C6.4092 2.0005 4.88308 2.63264 3.75786 3.75786C2.63264 4.88308 2.0005 6.4092 2.0005 8.0005C2.0005 9.5918 2.63264 11.1179 3.75786 12.2431C4.88308 13.3684 6.4092 14.0005 8.0005 14.0005ZM14.3205 12.9065L17.9005 16.4865C17.9959 16.5788 18.072 16.6892 18.1244 16.8113C18.1767 16.9333 18.2042 17.0645 18.2052 17.1973C18.2063 17.3301 18.1809 17.4618 18.1305 17.5846C18.0802 17.7075 18.0058 17.8191 17.9119 17.9129C17.8179 18.0067 17.7062 18.0809 17.5833 18.1311C17.4604 18.1813 17.3287 18.2065 17.1959 18.2052C17.0631 18.204 16.9319 18.1763 16.8099 18.1238C16.688 18.0713 16.5777 17.9951 16.4855 17.8995L12.9055 14.3195C11.298 15.5674 9.2753 16.1557 7.24926 15.9647C5.22322 15.7737 3.34611 14.8178 2.00005 13.2916C0.654 11.7653 -0.0598121 9.78345 0.00392902 7.74943C0.0676701 5.7154 0.904173 3.78213 2.34315 2.34315C3.78213 0.904173 5.7154 0.0676701 7.74943 0.00392902C9.78345 -0.0598121 11.7653 0.654 13.2916 2.00005C14.8178 3.34611 15.7737 5.22322 15.9647 7.24926C16.1557 9.2753 15.5674 11.298 14.3195 12.9055L14.3205 12.9065Z",fill:"#9AADCE"})))}var ft,Ot=r.forwardRef(mt),gt=(s.p,s(112),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={query:""},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:Je()("search-input",{"search-input--compact":this.props.compact},this.props.className),children:[Object(dt.jsx)("button",{type:"button",className:"icon-button",onClick:function(){return e.props.onSearch(e.state.query)},children:Object(dt.jsx)(Ot,{})}),Object(dt.jsx)("input",{type:"text",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})},onKeyDown:function(t){"Enter"===t.key&&e.props.onSearch(e.state.query)},placeholder:this.props.compact?"Search the Tangle":"Search blocks, addresses, outputs, milestones, indexes"})]})}}]),s}(r.Component)),xt=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._authService=void 0,n._metricsService=void 0,n._nodeStatusSubscription=void 0,n._publicNodeStatusSubscription=void 0,n._databaseSizeSubscription=void 0,n._bpsMetricsSubscription=void 0,n._metricsService=Me.a.get("metrics"),n._authService=Me.a.get("auth"),n.state={syncHealth:!1,nodeHealth:!1,bps:"-",bpsValues:[],memorySizeFormatted:"-",memorySize:[],databaseSizeFormatted:"-",databaseSize:[],isLoggedIn:Boolean(n._authService.isLoggedIn()),online:!1},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),De.subscribe("auth-state","header",(function(t){e.setState({isLoggedIn:t})})),De.subscribe("online","header",(function(t){t!==e.state.online&&e.setState({online:t})})),this._publicNodeStatusSubscription=this._metricsService.subscribe(Ee.PublicNodeStatus,(function(t){t&&(e.state.online||e.setState({online:!0}),t.isHealthy!==e.state.nodeHealth&&e.setState({nodeHealth:t.isHealthy}),t.isSynced!==e.state.syncHealth&&e.setState({syncHealth:t.isSynced}))})),this._nodeStatusSubscription=this._metricsService.subscribe(Ee.NodeStatus,(function(t){if(t){var s=Ge.iSize(He.calculateMemoryUsage(t),1);s!==e.state.memorySizeFormatted&&e.setState({memorySizeFormatted:s})}}),(function(t){var s=t.filter((function(e){return void 0!==e&&null!==e}));e.setState({memorySize:s.map((function(e){return He.calculateMemoryUsage(e)}))})})),this._databaseSizeSubscription=this._metricsService.subscribe(Ee.DBSizeMetric,(function(t){if(t){var s=Ge.size(t.total);s!==e.state.databaseSizeFormatted&&e.setState({databaseSizeFormatted:s})}}),(function(t){var s=t.filter((function(e){return void 0!==e&&null!==e})).map((function(e){return e.total}));e.setState({databaseSize:s})})),this._bpsMetricsSubscription=this._metricsService.subscribe(Ee.BPSMetrics,(function(t){if(t){var s=e.state.bpsValues.slice(-40);s.push(t.new);var n=s[s.length-1].toString();n!==e.state.bps&&e.setState({bps:n}),e.setState({bpsValues:s})}}))}},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),De.unsubscribe("auth-state","header"),De.unsubscribe("online","header"),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),this._nodeStatusSubscription&&(this._metricsService.unsubscribe(this._nodeStatusSubscription),this._nodeStatusSubscription=void 0),this._databaseSizeSubscription&&(this._metricsService.unsubscribe(this._databaseSizeSubscription),this._databaseSizeSubscription=void 0),this._bpsMetricsSubscription&&(this._metricsService.unsubscribe(this._bpsMetricsSubscription),this._bpsMetricsSubscription=void 0)}},{key:"render",value:function(){var e=this;return Object(dt.jsx)("header",{className:"header",children:Object(dt.jsx)("div",{className:"content",children:this.state.online&&Object(dt.jsxs)(c.a.Fragment,{children:[this.props.children,Object(dt.jsx)(gt,{compact:!0,onSearch:function(t){return e.props.history.push("/explorer/search/".concat(t))},className:"child child-fill"}),Object(dt.jsxs)(Ue,{size:"tablet",aboveBelow:"above",children:[Object(dt.jsx)(ht,{label:"Health",healthy:this.state.nodeHealth,className:"child"}),Object(dt.jsx)(ht,{label:"Sync",healthy:this.state.syncHealth,className:"child"})]}),Object(dt.jsxs)(Ue,{size:"desktop",aboveBelow:"above",children:[Object(dt.jsx)(pt,{label:"BPS",value:this.state.bps,values:this.state.bpsValues,className:"child"}),this.state.isLoggedIn&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(pt,{label:"Database",value:this.state.databaseSizeFormatted,values:this.state.databaseSize,className:"child"}),Object(dt.jsx)(pt,{label:"Memory",value:this.state.memorySizeFormatted,values:this.state.memorySize,className:"child"})]})]})]})})})}}]),s}(Le),yt=Object(f.g)(xt),kt=(s(117),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._themeService=void 0,n._themeService=Me.a.get("theme"),n.state={logoSrc:"",isOpen:!1},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Be.getLogoNavigation(this._themeService.get());case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2),De.subscribe("theme","navmenu",function(){var e=Object(i.a)(Object(a.a)().mark((function e(s){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Be.getLogoNavigation(s);case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){De.unsubscribe("theme","navmenu")}},{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"nav-menu",onClick:function(){return e.state.isOpen&&e.setState({isOpen:!1})},children:[Object(dt.jsx)("button",{type:"button",onClick:function(){return e.setState({isOpen:!e.state.isOpen})},children:Object(dt.jsx)("img",{src:this.state.logoSrc,className:"logo"})}),this.state.isOpen&&Object(dt.jsx)("div",{className:"popup-container",children:this.props.children})]})}}]),s}(r.Component)),_t=Object(f.g)(kt),St=(s(118),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._themeService=void 0,n._themeService=Me.a.get("theme"),n.state={logoSrc:""},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Be.getLogoNavigation(this._themeService.get());case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2),De.subscribe("theme","navpanel",function(){var e=Object(i.a)(Object(a.a)().mark((function e(s){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Be.getLogoNavigation(s);case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){De.unsubscribe("theme","navpanel")}},{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:Je()("nav-panel",{"full-width":this.props.fullWidth}),children:[Object(dt.jsx)(d.b,{to:"/",children:Object(dt.jsx)("img",{src:this.state.logoSrc,className:"logo"})}),Object(dt.jsx)("div",{className:"nav-panel-middle",children:this.props.middle.map((function(t){return Object(dt.jsxs)(c.a.Fragment,{children:[!t.hidden&&t.route&&Object(dt.jsxs)(d.b,{to:t.route,className:Je()("nav-panel--button",{"nav-panel--button__selected":t.route.length>1&&e.props.location.pathname.startsWith(t.route)||t.route===e.props.location.pathname}),children:[t.icon,Object(dt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]}),!t.hidden&&t.function&&Object(dt.jsxs)("button",{type:"button",onClick:function(){var e;return null===(e=t.function)||void 0===e?void 0:e.call(t)},className:Je()("nav-panel--button"),children:[t.icon,Object(dt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]})]},t.label)}))}),Object(dt.jsx)("div",{className:"nav-panel-end",children:this.props.end.map((function(t){return Object(dt.jsxs)(c.a.Fragment,{children:[!t.hidden&&t.route&&Object(dt.jsxs)(d.b,{to:t.route,className:Je()("nav-panel--button",{"nav-panel--button__selected":t.route.length>1&&e.props.location.pathname.startsWith(t.route)||t.route===e.props.location.pathname}),children:[t.icon,Object(dt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]}),!t.hidden&&t.function&&Object(dt.jsxs)("button",{type:"button",onClick:function(){var e;return null===(e=t.function)||void 0===e?void 0:e.call(t)},className:Je()("nav-panel--button"),children:[t.icon,Object(dt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]})]},t.label)}))})]})}}]),s}(r.Component)),wt=Object(f.g)(St),Nt=["title","titleId"];function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ct.apply(this,arguments)}function It(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Tt(e,t){var s=e.title,n=e.titleId,a=It(e,Nt);return r.createElement("svg",Ct({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,ft||(ft=r.createElement("path",{d:"M7.6569 5.62329C7.03439 7.02356 5.63123 8 4 8C1.79086 8 0 6.20914 0 4C0 1.79086 1.79086 0 4 0C6.09134 0 7.80782 1.60496 7.98493 3.65037L12.3431 4.37673C12.9656 2.97645 14.3688 2 16 2C18.2091 2 20 3.79086 20 6C20 8.20914 18.2091 10 16 10C14.9749 10 14.04 9.61443 13.3321 8.9804L7.77815 12.6831C7.88518 12.9902 7.95583 13.3143 7.98493 13.6504L12.3431 14.3767C12.9656 12.9764 14.3688 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20C13.9087 20 12.1922 18.3951 12.0151 16.3497L7.6569 15.6233C7.03439 17.0236 5.63123 18 4 18C1.79086 18 0 16.2091 0 14C0 11.7909 1.79086 10 4 10C5.02504 10 5.96002 10.3856 6.66784 11.0196L12.2218 7.3169C12.1148 7.00981 12.0442 6.68568 12.0151 6.34965L7.6569 5.62329Z",fill:"#666AF6"})))}var Et,Pt=r.forwardRef(Tt),Mt=(s.p,["title","titleId"]);function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Dt.apply(this,arguments)}function Bt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function At(e,t){var s=e.title,n=e.titleId,a=Bt(e,Mt);return r.createElement("svg",Dt({width:22,height:26,viewBox:"0 0 22 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Et||(Et=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 0C0.671573 0 0 0.671572 0 1.5V24.5C0 25.3284 0.671573 26 1.5 26C2.32843 26 3 25.3284 3 24.5V17H19C20.6569 17 22 15.6569 22 14V5C22 3.34315 20.6569 2 19 2H3V1.5C3 0.671573 2.32843 0 1.5 0Z",fill:"#16E1D5"})))}var Lt,Rt=r.forwardRef(At),Ut=(s.p,["title","titleId"]);function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ht.apply(this,arguments)}function Ft(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function zt(e,t){var s=e.title,n=e.titleId,a=Ft(e,Ut);return r.createElement("svg",Ht({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Lt||(Lt=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26ZM12 5C12 4.44772 12.4477 4 13 4C13.5523 4 14 4.44772 14 5V12H19C19.5523 12 20 12.4477 20 13C20 13.5523 19.5523 14 19 14H13C12.4477 14 12 13.5523 12 13V5Z",fill:"#4CAAFF"})))}var Vt,Yt=r.forwardRef(zt),Wt=(s.p,s(119),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){var e;return Object(dt.jsxs)("div",{className:Je()("card","info-panel",this.props.className),children:[Object(dt.jsxs)("div",{className:"icon-container",children:[Object(dt.jsx)("div",{className:"icon-background icon-background--".concat(this.props.backgroundStyle)}),this.props.icon]}),Object(dt.jsxs)("div",{className:"col info--labels",children:[Object(dt.jsx)("h4",{children:this.props.caption}),Object(dt.jsx)("div",{className:"value",children:null!==(e=this.props.value)&&void 0!==e?e:"-"})]})]})}}]),s}(r.Component)),Gt=Wt,Kt=(s(120),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._metricsService=void 0,n._milestonesSubscription=void 0,n._confirmedMsMetricsSubscription=void 0,n._metricsService=Me.a.get("metrics"),n.state={milestones:[],bps:"-",rbps:"-",referencedRate:"-"},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),this._milestonesSubscription=this._metricsService.subscribe(Ee.Ms,void 0,(function(t){var s=t.filter((function(e){return void 0!==e&&null!==e}));e.setState({milestones:s.map((function(e){return{index:e.index,milestoneId:e.milestoneId}})).sort((function(e,t){return t.index-e.index})).slice(0,10)})})),this._confirmedMsMetricsSubscription=this._metricsService.subscribe(Ee.ConfirmedMsMetrics,(function(t){t&&e.setState({bps:t.bps.toFixed(1).toString(),rbps:t.rbps.toFixed(1).toString(),referencedRate:"".concat(t.referenced_rate.toFixed(1).toString(),"%")})}))}},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),this._milestonesSubscription&&(this._metricsService.unsubscribe(this._milestonesSubscription),this._milestonesSubscription=void 0),this._confirmedMsMetricsSubscription&&(this._metricsService.unsubscribe(this._confirmedMsMetricsSubscription),this._confirmedMsMetricsSubscription=void 0)}},{key:"render",value:function(){var e=this;return Object(dt.jsx)("div",{className:"explorer",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsx)("h2",{children:"Explorer"}),Object(dt.jsx)("div",{className:"card search-panel",children:Object(dt.jsx)(gt,{compact:!1,onSearch:function(t){return e.props.history.push("/explorer/search/".concat(t))}})}),Object(dt.jsxs)("div",{className:"row tablet-down-column info margin-t-s",children:[Object(dt.jsx)(Gt,{caption:"Blocks per Second",value:this.state.bps,icon:Object(dt.jsx)(Rt,{}),backgroundStyle:"green"}),Object(dt.jsx)(Gt,{caption:"Referenced Blocks per Second",value:this.state.rbps,icon:Object(dt.jsx)(Yt,{}),backgroundStyle:"blue"}),Object(dt.jsx)(Gt,{caption:"Referenced Rate",value:this.state.referencedRate,icon:Object(dt.jsx)(Pt,{}),backgroundStyle:"purple"})]}),Object(dt.jsxs)("div",{className:"card milestones-panel margin-t-s",children:[Object(dt.jsx)("h4",{className:"margin-b-l",children:"Latest Milestones"}),0===this.state.milestones.length&&Object(dt.jsx)("p",{className:"margin-t-s",children:"There are no milestones."}),this.state.milestones.map((function(e,t){return Object(dt.jsxs)("div",{className:"milestones-panel--milestone",children:[Object(dt.jsx)("div",{className:"index",children:e.index}),Object(dt.jsx)(d.b,{to:"/explorer/milestone/".concat(e.index),children:e.milestoneId})]},t)}))]})]})})}}]),s}(Le)),Zt=Object(f.g)(Kt),qt=s(15),Jt=["title","titleId"];function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Xt.apply(this,arguments)}function $t(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Qt(e,t){var s=e.title,n=e.titleId,a=$t(e,Jt);return r.createElement("svg",Xt({width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Vt||(Vt=r.createElement("path",{d:"M2.51794 6.98708L7.68154 12.1921C7.78117 12.2891 7.86064 12.4052 7.91531 12.5334C7.96998 12.6617 7.99876 12.7997 7.99996 12.9393C8.00116 13.079 7.97477 13.2174 7.92232 13.3467C7.86987 13.4759 7.79241 13.5933 7.69447 13.692C7.59652 13.7907 7.48005 13.8688 7.35185 13.9217C7.22365 13.9746 7.08629 14.0012 6.94778 14C6.80928 13.9987 6.67239 13.9697 6.54513 13.9146C6.41786 13.8595 6.30275 13.7794 6.20652 13.679L0.30542 7.73051C0.10986 7.53332 0 7.26591 0 6.98708C0 6.70825 0.10986 6.44084 0.30542 6.24365L6.20652 0.295175C6.40326 0.103632 6.66677 -0.00235606 6.94028 3.97504e-05C7.21379 0.00243556 7.47542 0.113023 7.66883 0.307985C7.86224 0.502946 7.97195 0.766681 7.97432 1.04239C7.9767 1.31809 7.87156 1.58371 7.68154 1.78203L2.51794 6.98708Z",fill:"currentColor"})))}var es=r.forwardRef(Qt),ts=(s.p,s(11)),ss=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"buildAddress",value:function(t,s,n){var a,i,r;if(Fe.Bech32Helper.matches(t,s))try{var c=Fe.Bech32Helper.fromBech32(t,s);c&&(a=t,r=c.addressType,i=ts.Converter.bytesToHex(c.addressBytes))}catch(o){}return a||(r=void 0!==n?n:Number.parseInt(t.slice(0,2),16),i=t,a=Fe.Bech32Helper.toBech32(r,ts.Converter.hexToBytes(i),s)),{bech32:a,hex:i,type:r,typeLabel:e.typeLabel(r)}}},{key:"typeLabel",value:function(e){return e===Fe.ED25519_ADDRESS_TYPE?"Ed25519":e===Fe.ALIAS_ADDRESS_TYPE?"Alias":e===Fe.NFT_ADDRESS_TYPE?"Nft":"Unknown address type"}}]),e}(),ns=s(19),as=s(24),is=(s(121),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._isMounted=void 0,n.state={paginationRange:[],lastPage:0,isMobile:!1},n}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(e){var t=this;this.props!==e&&this.setState({paginationRange:this.updatePaginationRange()},(function(){return t.setState({lastPage:t.state.paginationRange[t.state.paginationRange.length-1]})}))}},{key:"componentDidMount",value:function(){this._isMounted=!0,window.addEventListener("resize",this.resize.bind(this)),this.resize()}},{key:"resize",value:function(){var e=this,t=window.innerWidth<768;this.state.isMobile!==t&&this._isMounted&&this.setState({isMobile:t},(function(){return e.setState({paginationRange:e.updatePaginationRange()})}))}},{key:"componentWillUnmount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isMounted=!1,window.removeEventListener("resize",this.resize.bind(this));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return Object(dt.jsxs)("ul",{className:Je()("pagination",(e={},Object(as.a)(e,this.props.classNames,void 0!==this.props.classNames),Object(as.a)(e,"hidden",0===this.props.currentPage||this.state.paginationRange.length<2),e)),children:[Object(dt.jsxs)("li",{className:Je()("pagination-item",{disabled:this.props.currentPage<11,hidden:this.state.isMobile}),onClick:function(){t.props.onPageChange(t.props.currentPage-10)},children:[Object(dt.jsx)("div",{className:"arrow left"}),Object(dt.jsx)("div",{className:"arrow left"})]}),Object(dt.jsx)("li",{className:Je()("pagination-item",{disabled:1===this.props.currentPage}),onClick:function(){t.props.onPageChange(t.props.currentPage-1)},children:Object(dt.jsx)("div",{className:"arrow left"})}),this.state.paginationRange.map((function(e,n){return e===s.DOTS?Object(dt.jsx)("li",{className:"pagination-item dots",children:e},n):Object(dt.jsx)("li",{className:Je()("pagination-item",{selected:e===t.props.currentPage}),onClick:function(){return t.props.onPageChange(e)},children:e},n)})),Object(dt.jsx)("li",{className:Je()("pagination-item",{disabled:this.props.currentPage===this.state.lastPage}),onClick:function(){t.props.onPageChange(t.props.currentPage+1)},children:Object(dt.jsx)("div",{className:"arrow right"})}),Object(dt.jsxs)("li",{className:Je()("pagination-item",{disabled:this.props.currentPage>this.state.lastPage-10,hidden:this.state.isMobile}),onClick:function(){t.props.onPageChange(t.props.currentPage+10)},children:[Object(dt.jsx)("div",{className:"arrow right"}),Object(dt.jsx)("div",{className:"arrow right"})]})]})}},{key:"updatePaginationRange",value:function(){var e=[],t=Math.ceil(this.props.totalCount/this.props.pageSize);this.props.siblingsCount+5>=t&&(e=this.range(1,t));var n=Math.max(this.props.currentPage-this.props.siblingsCount,1),a=Math.min(this.props.currentPage+this.props.siblingsCount,t),i=n>2,r=a<t-2,c=1,o=t;if(!i&&r){var l=3+2*this.props.siblingsCount,d=this.range(1,l);e=[].concat(Object(ns.a)(d),[s.DOTS,t])}if(i&&!r){var u=3+2*this.props.siblingsCount,h=this.range(t-u+1,t);e=[c,s.DOTS].concat(Object(ns.a)(h))}if(i&&r){var p=this.range(n,a);e=[c,s.DOTS].concat(Object(ns.a)(p),[s.DOTS,o])}var b=t-(this.props.currentPage+this.props.siblingsCount),v=this.props.currentPage-this.props.siblingsCount;if(!this.state.isMobile&&this.props.extraPageRangeLimit&&b>this.props.extraPageRangeLimit){var j,m=Math.floor(b/2)+this.props.currentPage,f=this.range(m-1,m+1);f.push(s.DOTS);var O=e.length-1;(j=e).splice.apply(j,[O,0].concat(Object(ns.a)(f)))}if(!this.state.isMobile&&this.props.extraPageRangeLimit&&v>this.props.extraPageRangeLimit){var g,x=Math.floor(v/2),y=this.range(x-1,x+1);y.unshift(s.DOTS),(g=e).splice.apply(g,[1,0].concat(Object(ns.a)(y)))}return e}},{key:"range",value:function(e,t){var s=t-e+1;return Array.from({length:s},(function(t,s){return s+e}))}}]),s}(r.Component));is.DOTS="...";var rs,cs,os=is,ls=(s(122),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(dt.jsx)("div",{className:Je()("spinner",{"spinner--compact":this.props.compact})})}}]),s}(r.Component)),ds=ls,us=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"copy",value:function(e){if(void 0===e||null===e)return!1;try{var t=document.createElement("textarea");t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style.left="-9999px";var s=window.pageYOffset||document.documentElement.scrollTop;return t.style.top="".concat(s,"px"),t.setAttribute("readonly",""),t.value=e,document.body.append(t),t.select(),document.execCommand("Copy"),t.remove(),!0}catch(n){return!1}}}]),e}(),hs=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"getAddressTypeName",value:function(e){return e===Fe.ED25519_ADDRESS_TYPE?"Address":e===Fe.ALIAS_ADDRESS_TYPE?"Alias address":e===Fe.NFT_ADDRESS_TYPE?"NFT address":"Unknown Address Type"}},{key:"getInputTypeName",value:function(e){return e===Fe.UTXO_INPUT_TYPE?"UTXO Input":e===Fe.TREASURY_INPUT_TYPE?"Treasury Input":"Unknown Input"}},{key:"getOutputTypeName",value:function(e){return e===Fe.BASIC_OUTPUT_TYPE?"Basic Output":e===Fe.ALIAS_OUTPUT_TYPE?"Alias Output":e===Fe.NFT_OUTPUT_TYPE?"Nft Output":e===Fe.FOUNDRY_OUTPUT_TYPE?"Foundry Output":e===Fe.TREASURY_OUTPUT_TYPE?"Treasury Output":"Unknown Output"}},{key:"getUnlockBlockTypeName",value:function(e){return e===Fe.SIGNATURE_UNLOCK_TYPE?"Signature Unlock Block":e===Fe.REFERENCE_UNLOCK_TYPE?"Reference Unlock Block":e===Fe.ALIAS_UNLOCK_TYPE?"Alias Unlock Block":e===Fe.NFT_UNLOCK_TYPE?"Nft Unlock Block":"Unknown Unlock Block"}},{key:"getUnlockConditionTypeName",value:function(e){return e===Fe.ADDRESS_UNLOCK_CONDITION_TYPE?"Address Unlock Condition":e===Fe.STORAGE_DEPOSIT_RETURN_UNLOCK_CONDITION_TYPE?"Storage Desposit Return Unlock Condition":e===Fe.TIMELOCK_UNLOCK_CONDITION_TYPE?"Timelock Unlock Condition":e===Fe.EXPIRATION_UNLOCK_CONDITION_TYPE?"Expiration Unlock Condition":e===Fe.STATE_CONTROLLER_ADDRESS_UNLOCK_CONDITION_TYPE?"State Controller Address Unlock Condition":e===Fe.GOVERNOR_ADDRESS_UNLOCK_CONDITION_TYPE?"Governor Unlock Condition":e===Fe.IMMUTABLE_ALIAS_UNLOCK_CONDITION_TYPE?"Immutable Alias Unlock Condition":"Unknown Unlock Condition"}},{key:"getFeatureBlockTypeName",value:function(e){return e===Fe.SENDER_FEATURE_TYPE?"Sender Feature Block":e===Fe.ISSUER_FEATURE_TYPE?"Issuer Feature Block":e===Fe.METADATA_FEATURE_TYPE?"Metadata Feature Block":e===Fe.TAG_FEATURE_TYPE?"Tag Feature Block":"Unknown Feature Block"}}]),e}(),ps=["title","titleId"];function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},bs.apply(this,arguments)}function vs(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function js(e,t){var s=e.title,n=e.titleId,a=vs(e,ps);return r.createElement("svg",bs({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,rs||(rs=r.createElement("path",{d:"M 9 1 L 16 1 C 16.552 1 17 1.448 17 2 L 17 9 C 17 9.552 16.552 10 16 10 L 9 10 C 8.448 10 8 9.552 8 9 L 8 2 C 8 1.448 8.448 1 9 1 Z",stroke:"currentColor",strokeWidth:2})),cs||(cs=r.createElement("path",{d:" M 5.125 6 L 4 6 C 2.895 6 2 6.895 2 8 L 2 14 C 2 15.105 2.895 16 4 16 L 10 16 C 11.105 16 12 15.105 12 14 L 12 12.875",stroke:"currentColor",strokeWidth:2})))}var ms,fs=r.forwardRef(js),Os=(s.p,s(123),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={active:!1,message:"copy"===e.buttonType?"Copied":""},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"block-button",children:[Object(dt.jsx)("button",{type:"button",className:Je()("block-button-btn",{"block-button-btn--active":this.state.active}),onClick:function(){return e.activate()},children:"copy"===this.props.buttonType&&Object(dt.jsx)(fs,{})}),this.state.active&&this.state.message&&Object(dt.jsx)("span",{className:Je()("block-button--message",{"block-button--message--right":"right"===this.props.labelPosition},{"block-button--message--top":"top"===this.props.labelPosition}),children:this.state.message})]})}},{key:"activate",value:function(){var e=this;this.props.onClick(),this.setState({active:!0}),setTimeout((function(){e.setState({active:!1})}),2e3)}}]),s}(r.Component)),gs=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;if(Object(h.a)(this,s),(n=t.call(this,e)).props.address){var a,i,r,c=Me.a.get("node-config"),o=n.props.address.type===Fe.ED25519_ADDRESS_TYPE?null===(a=n.props.address)||void 0===a?void 0:a.pubKeyHash:n.props.address.type===Fe.ALIAS_ADDRESS_TYPE?null===(i=n.props.address)||void 0===i?void 0:i.aliasId:null===(r=n.props.address)||void 0===r?void 0:r.nftId;n.state={addressDetails:ss.buildAddress(o,c.getBech32Hrp(),n.props.address.type)}}else n.props.addressDetails&&(n.state={addressDetails:n.props.addressDetails});return n}return Object(p.a)(s,[{key:"render",value:function(){var e,t,s,n,a,i=this;return Object(dt.jsxs)("div",{className:"bech32-address",children:[this.state.addressDetails.bech32&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:this.state.addressDetails.type?hs.getAddressTypeName(this.state.addressDetails.type):"Address"}),Object(dt.jsxs)("div",{className:"card--value card--value__mono row",children:[this.props.activeLinks&&Object(dt.jsx)(d.b,{className:"margin-r-t",to:"/explorer/address/".concat(null===(e=this.state.addressDetails)||void 0===e?void 0:e.bech32),children:this.state.addressDetails.bech32}),!this.props.activeLinks&&Object(dt.jsx)("span",{className:"margin-r-t",children:this.state.addressDetails.bech32}),Object(dt.jsx)(Os,{onClick:function(){var e;return us.copy(null===(e=i.props.addressDetails)||void 0===e?void 0:e.bech32)},buttonType:"copy",labelPosition:"top"})]})]}),this.props.showHexAddress&&(null===(t=this.state.addressDetails)||void 0===t?void 0:t.hex)&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--label",children:[this.state.addressDetails.typeLabel," Address"]}),Object(dt.jsxs)("div",{className:"card--value card--value__mono row",children:[this.props.activeLinks&&Object(dt.jsx)(d.b,{className:"margin-r-t",to:"/explorer/address/".concat(null===(s=this.state.addressDetails)||void 0===s?void 0:s.hex),children:null===(n=this.state.addressDetails)||void 0===n?void 0:n.hex}),!this.props.activeLinks&&Object(dt.jsx)("span",{className:"margin-r-t",children:null===(a=this.state.addressDetails)||void 0===a?void 0:a.hex}),Object(dt.jsx)(Os,{onClick:function(){var e;return us.copy(null===(e=i.props.addressDetails)||void 0===e?void 0:e.hex)},buttonType:"copy",labelPosition:"top"})]})]})]})}}]),s}(r.Component),xs=s(23),ys=s(30),ks=s.n(ys),_s=["title","titleId"];function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ss.apply(this,arguments)}function ws(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Ns(e,t){var s=e.title,n=e.titleId,a=ws(e,_s);return r.createElement("svg",Ss({width:5,height:10,viewBox:"0 0 5 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,ms||(ms=r.createElement("path",{d:"M0 10L5 5L0 0V10Z",fill:"#485776"})))}var Cs,Is=r.forwardRef(Ns),Ts=(s.p,function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"feature padding-t-s",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showDetails:!e.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:hs.getFeatureBlockTypeName(this.props.feature.type)})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[(this.props.feature.type===Fe.SENDER_FEATURE_TYPE||this.props.feature.type===Fe.ISSUER_FEATURE_TYPE)&&Object(dt.jsx)(gs,{activeLinks:!1,showHexAddress:!1,address:this.props.feature.address}),this.props.feature.type===Fe.METADATA_FEATURE_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Data:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.feature.data})]}),this.props.feature.type===Fe.TAG_FEATURE_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Tag:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.feature.tag})]})]})]})}}]),s}(r.Component)),Es=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"unlock-condition padding-t-s",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showDetails:!e.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:hs.getUnlockConditionTypeName(this.props.unlockCondition.type)})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[(this.props.unlockCondition.type===Fe.ADDRESS_UNLOCK_CONDITION_TYPE||this.props.unlockCondition.type===Fe.STATE_CONTROLLER_ADDRESS_UNLOCK_CONDITION_TYPE||this.props.unlockCondition.type===Fe.GOVERNOR_ADDRESS_UNLOCK_CONDITION_TYPE||this.props.unlockCondition.type===Fe.IMMUTABLE_ALIAS_UNLOCK_CONDITION_TYPE)&&Object(dt.jsx)(gs,{activeLinks:!0,showHexAddress:!1,address:this.props.unlockCondition.address}),this.props.unlockCondition.type===Fe.STORAGE_DEPOSIT_RETURN_UNLOCK_CONDITION_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(gs,{activeLinks:!1,showHexAddress:!1,address:this.props.unlockCondition.returnAddress}),Object(dt.jsx)("div",{className:"card--label",children:"Amount:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.amount})]}),(this.props.unlockCondition.type===Fe.TIMELOCK_UNLOCK_CONDITION_TYPE||this.props.unlockCondition.type===Fe.EXPIRATION_UNLOCK_CONDITION_TYPE)&&Object(dt.jsxs)(c.a.Fragment,{children:[this.props.unlockCondition.type===Fe.EXPIRATION_UNLOCK_CONDITION_TYPE&&Object(dt.jsx)(gs,{activeLinks:!1,showHexAddress:!1,address:this.props.unlockCondition.returnAddress}),this.props.unlockCondition.milestoneIndex&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Milestone index"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.milestoneIndex})]}),this.props.unlockCondition.unixTime&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Unix time"}),Object(dt.jsx)("div",{className:"card--value row",children:Ge.date(1e3*this.props.unlockCondition.unixTime)})]})]}),Object(dt.jsx)("div",{className:"card--label",children:"Type:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.type})]})]})}}]),s}(r.Component),Ps=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={formatFull:!1,isGenesis:!!n.isOutputResponse(e.output)&&e.output.metadata.blockId==="0".repeat(64),output:n.isOutputResponse(e.output)?e.output.output:e.output,showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e,t,s=this;return Object(dt.jsx)("div",{className:"output margin-t-m",children:Object(dt.jsxs)("div",{className:"card--content padding-0",children:[Object(dt.jsxs)("div",{className:"card--header row spread",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return s.setState({showDetails:!s.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsxs)("h3",{className:"card--content__input--label",children:[hs.getOutputTypeName(this.state.output.type)," ",this.props.index]})]}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:Object(dt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return s.setState({formatFull:!s.state.formatFull})},children:Ge.getInstance().amount(Number(this.state.output.amount),this.state.formatFull)})})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[this.isOutputResponse(this.props.output)&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Block Id"}),Object(dt.jsxs)("div",{className:"card--value row",children:[this.state.isGenesis&&Object(dt.jsx)("span",{children:"Genesis"}),!this.state.isGenesis&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(d.b,{to:"/explorer/block/".concat(this.props.output.metadata.blockId),className:"margin-r-t",children:this.props.output.metadata.blockId}),Object(dt.jsx)(Os,{onClick:function(){s.isOutputResponse(s.props.output)&&us.copy(s.props.output.metadata.blockId)},buttonType:"copy",labelPosition:"top"})]})]}),Object(dt.jsx)("div",{className:"card--label",children:"Transaction Id"}),Object(dt.jsxs)("div",{className:"card--value row",children:[this.state.isGenesis&&Object(dt.jsx)("span",{children:"Genesis"}),!this.state.isGenesis&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("span",{className:"margin-r-t",children:this.props.output.metadata.transactionId}),Object(dt.jsx)(Os,{onClick:function(){s.isOutputResponse(s.props.output)&&us.copy(s.props.output.metadata.transactionId)},buttonType:"copy",labelPosition:"top"})]})]}),Object(dt.jsx)("div",{className:"card--label",children:"Index"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.output.metadata.outputIndex}),Object(dt.jsx)("div",{className:"card--label",children:"Is Spent"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.output.metadata.isSpent?"Yes":"No"})]}),this.state.output.type===Fe.ALIAS_OUTPUT_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(gs,{activeLinks:!0,showHexAddress:!1,address:{aliasId:this.resolveId(this.state.output.aliasId),type:Fe.ALIAS_ADDRESS_TYPE}}),Object(dt.jsx)("div",{className:"card--label",children:"State index:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.stateIndex}),Object(dt.jsx)("div",{className:"card--label",children:"State metadata:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.stateMetadata}),Object(dt.jsx)("div",{className:"card--label",children:"Foundry counter:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.foundryCounter})]}),this.state.output.type===Fe.NFT_OUTPUT_TYPE&&Object(dt.jsx)(gs,{activeLinks:!0,showHexAddress:!1,address:{nftId:this.resolveId(this.state.output.nftId),type:Fe.NFT_ADDRESS_TYPE}}),this.state.output.type===Fe.FOUNDRY_OUTPUT_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Serial number:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.serialNumber}),Object(dt.jsx)("div",{className:"card--label",children:"Token scheme type:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.tokenScheme.type}),this.state.output.tokenScheme.type===Fe.SIMPLE_TOKEN_SCHEME_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Minted tokens:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.tokenScheme.mintedTokens}),Object(dt.jsx)("div",{className:"card--label",children:"Melted tokens:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.tokenScheme.meltedTokens}),Object(dt.jsx)("div",{className:"card--label",children:"Maximum supply:"}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.output.tokenScheme.maximumSupply})]})]}),this.state.output.type!==Fe.TREASURY_OUTPUT_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[this.state.output.unlockConditions.map((function(e,t){return Object(dt.jsx)(Es,{unlockCondition:e},t)})),null===(e=this.state.output.features)||void 0===e?void 0:e.map((function(e,t){return Object(dt.jsx)(Ts,{feature:e},t)})),this.state.output.type!==Fe.BASIC_OUTPUT_TYPE&&this.state.output.immutableFeatures&&Object(dt.jsx)(c.a.Fragment,{children:this.state.output.immutableFeatures.map((function(e,t){return Object(dt.jsx)(Ts,{feature:e},t)}))}),null===(t=this.state.output.nativeTokens)||void 0===t?void 0:t.map((function(e,t){return Object(dt.jsx)(c.a.Fragment,{children:Object(dt.jsxs)("div",{className:"native-token padding-t-s",children:[Object(dt.jsx)("h3",{children:"Native token"}),Object(dt.jsx)("div",{className:"card--label",children:"Token id:"}),Object(dt.jsx)("div",{className:"card--value row",children:e.id}),Object(dt.jsx)("div",{className:"card--label",children:"Amount:"}),Object(dt.jsx)("div",{className:"card--value row",children:e.amount})]})},t)}))]})]})]})})}},{key:"isOutputResponse",value:function(e){return Object.prototype.hasOwnProperty.call(e,"blockId")}},{key:"resolveId",value:function(e){return ts.HexHelper.toBigInt256(e).eq(ks.a.zero)?ts.HexHelper.addPrefix(ts.Converter.bytesToHex(xs.Blake2b.sum256(ts.Converter.hexToBytes(ts.HexHelper.stripPrefix(this.props.outputId))))):e}}]),s}(r.Component),Ms=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"native-token padding-t-s",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showDetails:!e.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsxs)("h3",{className:"card--content__input--label",children:["Token ",this.props.index]})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[Object(dt.jsx)("div",{className:"card--label",children:"Token Id"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.token.id}),Object(dt.jsx)("div",{className:"card--label",children:"Amount"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.token.amount})]})]})}}]),s}(r.Component),Ds=(s(124),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;Object(h.a)(this,s),(n=t.call(this,e))._tangleService=void 0,n._bech32Hrp=void 0,n._tangleService=Me.a.get("tangle");var a=Me.a.get("node-config");return n._bech32Hrp=a.getBech32Hrp(),n.state=Object(u.a)(Object(u.a)({},ss.buildAddress(e.match.params.address,n._bech32Hrp)),{},{formatFull:!1,statusBusy:!0,showTokens:!1,currentPage:1,pageSize:10,status:"Loading outputs..."}),n}return Object(p.a)(s,[{key:"currentPageOutputs",get:function(){if(this.state.outputs&&this.state.outputs.length>0){var e=(this.state.currentPage-1)*this.state.pageSize,t=this.state.currentPage===Math.ceil(this.state.outputs.length/this.state.pageSize)?this.state.outputs.length:e+this.state.pageSize;return this.state.outputs.slice(e,t)}return[]}},{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,n,r=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this._tangleService.search(this.props.match.params.address);case 3:null!==(n=e.sent)&&void 0!==n&&null!==(t=n.address)&&void 0!==t&&t.address?this.setState({address:n.address,bech32AddressDetails:ss.buildAddress(n.address.address,this._bech32Hrp),balance:n.address.balance,outputIds:n.addressOutputIds},Object(i.a)(Object(a.a)().mark((function e(){var t,s,i,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!n.addressOutputIds){e.next=23;break}s=Object(qt.a)(n.addressOutputIds),e.prev=3,s.s();case 5:if((i=s.n()).done){e.next=15;break}return c=i.value,e.next=9,r._tangleService.outputDetails(c);case 9:if((o=e.sent)&&(t.push(o),r.setState({outputs:t,status:"Loading outputs [".concat(t.length,"/").concat(n.addressOutputIds.length,"]")})),r._isMounted){e.next=13;break}return e.abrupt("break",15);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:r.setState({outputs:t,status:"",statusBusy:!1});case 24:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})))):null!==n&&void 0!==n&&n.unavailable?this.props.history.replace("/explorer/unavailable"):this.props.history.replace("/explorer/search/".concat(this.props.match.params.address));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,s=this;return Object(dt.jsx)("div",{className:"address",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(dt.jsx)(es,{className:"secondary"}),Object(dt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(dt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(dt.jsxs)("div",{className:"card--content padding-0",children:[Object(dt.jsx)("h2",{children:"Address"}),this.state.bech32AddressDetails&&Object(dt.jsx)(gs,{activeLinks:!1,showHexAddress:!0,addressDetails:this.state.bech32AddressDetails}),void 0!==this.state.balance&&Object(dt.jsxs)("div",{children:[Object(dt.jsx)("div",{className:"card--label",children:"Balance"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:Object(dt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return s.setState({formatFull:!s.state.formatFull})},children:Ge.getInstance().amount(Number(this.state.balance),this.state.formatFull)})}),(null===(e=this.state.address)||void 0===e?void 0:e.nativeTokens)&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--content__input margin-t-s",onClick:function(){return s.setState({showTokens:!s.state.showTokens})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showTokens}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:"Native Tokens"})]}),this.state.showTokens&&Object(dt.jsx)("div",{className:"card--content--border-l",children:Object.keys(null===(t=this.state.address)||void 0===t?void 0:t.nativeTokens).map((function(e,t){var n;return Object(dt.jsx)(Ms,{index:t,token:{id:e,amount:s.state.address?null===(n=s.state.address)||void 0===n?void 0:n.nativeTokens[e].toString():"0"}},t)}))})]})]}),this.state.status&&Object(dt.jsxs)("div",{className:"middle row margin-t-m",children:[this.state.statusBusy&&Object(dt.jsx)(ds,{compact:!0}),Object(dt.jsxs)("p",{className:"status margin-l-s",children:[this.props.match.params.address,Object(dt.jsx)("br",{}),this.state.status]})]})]})}),this.state.outputs&&this.state.outputIds&&this.state.outputs.length>0&&Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsxs)("div",{className:"card--header",children:[Object(dt.jsx)("h2",{className:"card--header__title",children:"Outputs"}),Object(dt.jsx)("span",{className:"card--header-count",children:this.state.outputs.length})]}),this.currentPageOutputs.map((function(e,t){return Object(dt.jsx)(Ps,{index:t+1,output:e,outputId:s.state.outputIds?s.state.outputIds[e.metadata.outputIndex]:""},t)})),Object(dt.jsx)(os,{currentPage:this.state.currentPage,totalCount:this.state.outputs.length,pageSize:this.state.pageSize,extraPageRangeLimit:20,siblingsCount:1,onPageChange:function(e){return s.setState({currentPage:e})}})]}),this.state.outputs&&0===this.state.outputs.length&&Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsx)("h2",{className:"margin-b-s",children:"Outputs"}),this.state.outputs&&0===this.state.outputs.length&&Object(dt.jsx)("div",{className:"card--value",children:"There are no outputs for this address."})]})]})})}}]),s}(Le)),Bs=Ds,As=["title","titleId"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ls.apply(this,arguments)}function Rs(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Us(e,t){var s=e.title,n=e.titleId,a=Rs(e,As);return r.createElement("svg",Ls({width:12,height:8,viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Cs||(Cs=r.createElement("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:1.72854})))}var Hs,Fs,zs,Vs,Ys,Ws=r.forwardRef(Us),Gs=(s.p,["title","titleId"]);function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ks.apply(this,arguments)}function Zs(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function qs(e,t){var s=e.title,n=e.titleId,a=Zs(e,Gs);return r.createElement("svg",Ks({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 16 17.778",width:"16pt",height:"17.778pt",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Hs||(Hs=r.createElement("path",{d:" M 8 14.711 L 3.111 8.889 L 12.889 8.889 L 8 14.711 Z ",fill:"currentColor"})),Fs||(Fs=r.createElement("rect",{x:6.222,y:0,width:3.556,height:1.778,fill:"currentColor"})),zs||(zs=r.createElement("rect",{x:6.222,y:2.667,width:3.556,height:1.778,fill:"currentColor"})),Vs||(Vs=r.createElement("rect",{x:6.222,y:5.333,width:3.556,height:4.889,fill:"currentColor"})),Ys||(Ys=r.createElement("rect",{x:0,y:16,width:16,height:1.778,fill:"currentColor"})))}var Js,Xs=r.forwardRef(qs),$s=(s.p,function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"filename",value:function(e,t){return"".concat(e,".").concat(t)}},{key:"createJsonDataUrl",value:function(e){var t=ts.Converter.bytesToBase64(ts.Converter.utf8ToBytes(JSON.stringify(e,void 0,"\t")));return"data:application/json;base64,".concat(t)}},{key:"createBinaryDataUrl",value:function(e){var t=ts.Converter.bytesToBase64(e);return"data:application/octet;base64,".concat(t)}},{key:"createHexDataUrl",value:function(e){var t=ts.Converter.bytesToBase64(ts.Converter.utf8ToBytes(ts.Converter.bytesToHex(e)));return"data:plain/text;base64,".concat(t)}},{key:"createBase64DataUrl",value:function(e){var t=ts.Converter.bytesToBase64(ts.Converter.utf8ToBytes(ts.Converter.bytesToBase64(e)));return"data:plain/text;base64,".concat(t)}}]),e}()),Qs=(s(125),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._tangleService=void 0,n._tangleService=Me.a.get("tangle"),n.state={},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.updateMilestone();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.milestoneIndex===t.milestoneIndex){e.next=3;break}return e.next=3,this.updateMilestone();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(dt.jsxs)("div",{onClick:this.props.onClick,className:Je()("block-tangle-state",{"block-tangle-state__no-click":!this.props.onClick},{"block-tangle-state__referenced":"referenced"===this.props.status},{"block-tangle-state__milestone":"milestone"===this.props.status},{"block-tangle-state__pending":"pending"===this.props.status},{"block-tangle-state__unknown":"unknown"===this.props.status}),children:["unknown"===this.props.status&&"Unknown","referenced"===this.props.status&&"Referenced".concat(void 0!==this.props.milestoneIndex&&this.props.milestoneIndex>1?" by MS ".concat(this.props.milestoneIndex):""),"milestone"===this.props.status&&"MS".concat(void 0!==this.props.milestoneIndex?" ".concat(this.props.milestoneIndex):""),"pending"===this.props.status&&"Pending",this.state.timestamp]})}},{key:"updateMilestone",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.milestoneIndex){e.next=5;break}return e.next=3,this._tangleService.milestoneDetails(this.props.milestoneIndex);case 3:(t=e.sent)&&this.setState({timestamp:t.timestamp?" at ".concat(Ge.dateShort(t.timestamp)):void 0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),s}(Le)),en=Qs,tn=(s(126),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(dt.jsxs)("div",{className:"inclusion-state",children:[Object(dt.jsxs)("div",{className:Je()("inclusion-state-pill",{"inclusion__not-included":void 0===this.props.state},{inclusion__included:"included"===this.props.state},{"inclusion__no-transaction":"noTransaction"===this.props.state},{inclusion__conflicting:"conflicting"===this.props.state}),children:[void 0===this.props.state&&"Not included","included"===this.props.state&&"Included","noTransaction"===this.props.state&&"No Transaction","conflicting"===this.props.state&&"Conflicting"]}),void 0===this.props.state&&"The block is not yet referenced by a milestone.","included"===this.props.state&&"The block is referenced by a milestone, the transaction is included in the ledger.","noTransaction"===this.props.state&&"The block is referenced by a milestone, the data is included in the ledger, but there is no value transfer.","conflicting"===this.props.state&&"The block has a conflict and will not be included in the ledger."]})}}]),s}(r.Component)),sn=tn,nn=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"milestone-payload_receipt padding-t-s",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showDetails:!e.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:"PoW"})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[Object(dt.jsx)("div",{className:"card--label",children:"Next PoW Score"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.option.nextPoWScore}),Object(dt.jsx)("div",{className:"card--label",children:"Next PoW Score Milestone Index"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.option.nextPoWScoreMilestoneIndex})]})]})}}]),s}(r.Component),an=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;Object(h.a)(this,s),(n=t.call(this,e))._bech32Hrp=void 0;var a=Me.a.get("node-config");return n._bech32Hrp=a.getBech32Hrp(),n.state={formatFull:!1,showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"milestone-payload_receipt padding-t-s",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showDetails:!e.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsxs)("h3",{className:"card--content__input--label",children:["Migrated Fund ",this.props.index]})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[Object(dt.jsx)("div",{className:"card--label",children:"Tail Transaction Hash"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.fund.tailTransactionHash}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.fund.address.type===Fe.ED25519_ADDRESS_TYPE&&Object(dt.jsx)(gs,{activeLinks:!0,showHexAddress:!0,address:this.props.fund.address})}),Object(dt.jsx)("div",{className:"card--label",children:"Deposit"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:Object(dt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return e.setState({formatFull:!e.state.formatFull})},children:Ge.getInstance().amount(Number(this.props.fund.deposit),this.state.formatFull)})})]})]})}}]),s}(r.Component),rn=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={formatFull:!1,showReceiptDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"milestone-payload_receipt padding-t-s",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showReceiptDetails:!e.state.showReceiptDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showReceiptDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:"Receipt"})]}),this.state.showReceiptDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[Object(dt.jsx)("div",{className:"card--label",children:"Migrated At"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.option.migratedAt}),Object(dt.jsx)("div",{className:"card--label",children:"Final"}),Object(dt.jsx)("div",{className:"card--value row",children:this.props.option.final?"Yes":"No"}),this.props.option.funds.map((function(e,t){return Object(dt.jsx)(an,{fund:e,index:t},t)})),Object(dt.jsx)("div",{className:"card--label",children:"Input Transaction Milestone Id"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.option.transaction.input.milestoneId}),Object(dt.jsx)("div",{className:"card--label",children:"Output Transaction Amount to Treasury"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:Object(dt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return e.setState({formatFull:!e.state.formatFull})},children:Ge.getInstance().amount(Number(this.props.option.transaction.output.amount),this.state.formatFull)})})]})]})}}]),s}(r.Component),cn=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={showSignatures:!1,showOptions:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e,t=this;return Object(dt.jsxs)("div",{className:"milestone-payload card--content padding-0",children:[Object(dt.jsx)("h2",{children:"Milestone Payload"}),Object(dt.jsx)("div",{className:"card--label",children:"Index"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.payload.index}),Object(dt.jsx)("div",{className:"card--label",children:"Date"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.payload.timestamp&&Ge.date(this.props.payload.timestamp)}),Object(dt.jsx)("div",{className:"card--label",children:"Previous Milestone Id"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.payload.previousMilestoneId}),null===(e=this.props.payload.parents)||void 0===e?void 0:e.map((function(e,t){return Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--label",children:["Parent Block ",t+1]}),Object(dt.jsxs)("div",{className:"card--value card--value__mono row",children:[e!=="0".repeat(64)&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(d.b,{className:"margin-r-t",to:"/explorer/block/".concat(e),children:e}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(e)},buttonType:"copy",labelPosition:"top"})]}),e==="0".repeat(64)&&Object(dt.jsx)("span",{children:"Genesis"})]})]},t)})),Object(dt.jsx)("div",{className:"card--label",children:"Confirmed Merkle Proof"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.inclusionMerkleRoot}),Object(dt.jsx)("div",{className:"card--label",children:"Applied Merkle Proof"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.appliedMerkleRoot}),this.props.payload.metadata&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Metadata"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.metadata})]}),this.props.payload.options&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"milestone-payloads__options padding-t-s",children:Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return t.setState({showOptions:!t.state.showOptions})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showOptions}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:"Options"})]})}),this.state.showOptions&&Object(dt.jsx)("div",{className:"card--content--border-l",children:this.props.payload.options.map((function(e,t){return Object(dt.jsxs)(c.a.Fragment,{children:[e.type===Fe.RECEIPT_MILESTONE_OPTION_TYPE&&Object(dt.jsx)(rn,{option:e}),e.type===Fe.POW_MILESTONE_OPTION_TYPE&&Object(dt.jsx)(nn,{option:e})]},t)}))})]}),Object(dt.jsx)("div",{className:"milestone-payloads__signatures padding-t-s",children:Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return t.setState({showSignatures:!t.state.showSignatures})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showSignatures}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsx)("h3",{className:"card--content__input--label",children:"Signatures"})]})}),this.state.showSignatures&&Object(dt.jsx)("div",{className:"card--content--border-l",children:this.props.payload.signatures.map((function(e,t){return Object(dt.jsxs)("div",{className:"margin-b-s",children:[Object(dt.jsx)("div",{className:"card--label",children:"Public Key"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:e.publicKey}),Object(dt.jsx)("div",{className:"card--label",children:"Signature"}),Object(dt.jsx)("div",{className:"card--value card--value__mono",children:e.signature})]},t)}))})]})}}]),s}(r.Component),on=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;Object(h.a)(this,s),n=t.call(this,e);var a,i,r,c=e.payload.tag?ts.Converter.hexToUtf8(e.payload.tag):"",o=e.payload.tag?e.payload.tag.match(/.{1,2}/g):"",l=o?o.join(" "):e.payload.tag?e.payload.tag:"";if(e.payload.data){var d=e.payload.data.match(/.{1,2}/g);a=d?d.join(" "):e.payload.data,i=ts.Converter.hexToUtf8(e.payload.data);try{r=JSON.stringify(JSON.parse(i),void 0,"  ")}catch(u){}}return n.state={utf8Index:c,hexIndex:l,indexLengthBytes:e.payload.tag?e.payload.tag.length/2:0,utf8Data:i,hexData:a,jsonData:r,dataLengthBytes:e.payload.data?e.payload.data.length/2:0},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"tagged-data-payload",children:[Object(dt.jsx)("h2",{children:"Tagged Data Payload"}),Object(dt.jsxs)("div",{className:"card--label row middle",children:[Object(dt.jsxs)("span",{className:"margin-r-t",children:["Tag UTF8 [",this.state.indexLengthBytes,"]"]}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(e.state.utf8Index)},buttonType:"copy",labelPosition:"right"})]}),Object(dt.jsx)("div",{className:"card--value row",children:this.state.utf8Index}),Object(dt.jsxs)("div",{className:"card--label row middle",children:[Object(dt.jsxs)("span",{className:"margin-r-t",children:["Tag Hex [",this.state.indexLengthBytes,"]"]}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(e.state.hexIndex.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(dt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__hex card--value-textarea__fit",children:this.state.hexIndex}),!this.state.jsonData&&this.state.utf8Data&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--label row bottom spread",children:[Object(dt.jsxs)("span",{className:"margin-r-t",children:["Data UTF8 [",this.state.dataLengthBytes,"]"]}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(e.state.utf8Data)},buttonType:"copy",labelPosition:"top"})]}),Object(dt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__utf8",children:this.state.utf8Data})]}),this.state.jsonData&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--label row bottom spread",children:["Data JSON",Object(dt.jsx)(Os,{onClick:function(){return us.copy(e.state.jsonData)},buttonType:"copy",labelPosition:"top"})]}),Object(dt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__json",children:this.state.jsonData})]}),this.state.hexData&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--label row middle",children:[Object(dt.jsxs)("span",{className:"margin-r-t",children:["Data Hex [",this.state.dataLengthBytes,"]"]}),Object(dt.jsx)(Os,{onClick:function(){var t;return us.copy(null===(t=e.state.hexData)||void 0===t?void 0:t.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(dt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__hex",children:this.state.hexData})]})]})}}]),s}(r.Component),ln=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={showDetails:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsx)("div",{className:"utxo-input margin-t-m",children:Object(dt.jsxs)("div",{className:"card--content padding-0",children:[Object(dt.jsxs)("div",{className:"card--content__input",onClick:function(){return e.setState({showDetails:!e.state.showDetails})},children:[Object(dt.jsx)("div",{className:Je()("margin-r-t","card--content__input--dropdown",{opened:this.state.showDetails}),children:Object(dt.jsx)(Is,{})}),Object(dt.jsxs)("h3",{className:"card--content__input--label",children:[hs.getInputTypeName(this.props.input.type)," ",this.props.index]})]}),this.state.showDetails&&Object(dt.jsxs)("div",{className:"card--content--border-l",children:[Object(dt.jsx)(gs,{activeLinks:!0,showHexAddress:!0,address:this.props.unlockAddress}),Object(dt.jsx)("div",{className:"card--label",children:"Transaction Id"}),Object(dt.jsxs)("div",{className:"card--value card--value__mono",children:[this.props.input.transactionId==="0".repeat(64)&&Object(dt.jsx)("span",{children:"Genesis"}),this.props.input.transactionId!=="0".repeat(64)&&this.props.input.transactionId]}),Object(dt.jsx)("div",{className:"card--label",children:"Transaction Output Index"}),Object(dt.jsx)("div",{className:"card--value",children:this.props.input.transactionOutputIndex})]})]})})}}]),s}(r.Component),dn=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;Object(h.a)(this,s),(n=t.call(this,e))._bech32Hrp=void 0;var a=Me.a.get("node-config");n._bech32Hrp=a.getBech32Hrp();for(var i=[],r=0;r<e.payload.unlocks.length;r++)if(e.payload.unlocks[r].type===Fe.SIGNATURE_UNLOCK_TYPE){var c=e.payload.unlocks[r];i.push(c)}else if(e.payload.unlocks[r].type===Fe.REFERENCE_UNLOCK_TYPE||e.payload.unlocks[r].type===Fe.ALIAS_UNLOCK_TYPE||e.payload.unlocks[r].type===Fe.NFT_UNLOCK_TYPE){var o=e.payload.unlocks[r];i.push(e.payload.unlocks[o.reference])}for(var l=[],d=0;d<i.length;d++)l.push({pubKeyHash:ts.Converter.bytesToHex(new Fe.Ed25519Address(ts.Converter.hexToBytes(i[d].signature.publicKey)).toAddress()),type:Fe.ED25519_ADDRESS_TYPE});var u=new ts.WriteStream;try{Object(Fe.serializeTransactionPayload)(u,n.props.payload)}catch(b){b instanceof Error&&console.log(b.message)}var p=ts.Converter.bytesToHex(xs.Blake2b.sum256(u.finalBytes()),!0);return n.state={unlockAddresses:l,transactionId:p},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"transaction-payload",children:[Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsxs)("div",{className:"card--header",children:[Object(dt.jsx)("h2",{className:"card--header__title",children:"Inputs"}),Object(dt.jsx)("span",{className:"card--header-count",children:this.props.payload.essence.inputs.length})]}),this.props.payload.essence.inputs.map((function(t,s){return Object(dt.jsx)(c.a.Fragment,{children:t.type===Fe.UTXO_INPUT_TYPE&&Object(dt.jsx)(ln,{index:s,unlockAddress:e.state.unlockAddresses[s],input:t},s)},s)}))]}),Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsxs)("div",{className:"card--header",children:[Object(dt.jsx)("h2",{className:"card--header__title",children:"Outputs"}),Object(dt.jsx)("span",{className:"card--header-count",children:this.props.payload.essence.outputs.length})]}),this.props.payload.essence.outputs.map((function(t,s){return Object(dt.jsx)(Ps,{index:s+1,output:t,outputId:e.state.transactionId+String(s).padStart(2,"0").padEnd(4,"0")},s)}))]})]})}}]),s}(r.Component),un=(s(127),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._tangleService=void 0,n._timerId=void 0,n._tangleService=Me.a.get("tangle"),n.state={childrenBusy:!0,dataUrls:{},selectedDataUrl:"json"},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,n,r,c,o=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this._tangleService.search(this.props.match.params.blockId);case 3:null!==(t=e.sent)&&void 0!==t&&t.block?(n=new ts.WriteStream,Object(Fe.serializeBlock)(n,t.block),r=n.finalBytes(),c={json:$s.createJsonDataUrl(t.block),bin:$s.createBinaryDataUrl(r),base64:$s.createBase64DataUrl(r),hex:$s.createHexDataUrl(r)},this.setState({block:t.block,dataUrls:c},Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.updateBlockDetails();case 2:case"end":return e.stop()}}),e)}))))):null!==t&&void 0!==t&&t.unavailable?this.props.history.replace("/explorer/unavailable"):this.props.history.replace("/explorer/search/".concat(this.props.match.params.blockId));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}},{key:"render",value:function(){var e,t,s,n,a,i,r,o,l,u=this;return Object(dt.jsx)("div",{className:"block",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(dt.jsx)(es,{className:"secondary"}),Object(dt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsxs)("div",{className:"row phone-down-column start",children:[Object(dt.jsx)("h2",{className:"margin-r-l",children:"Block"}),this.state.blockTangleStatus&&Object(dt.jsx)(en,{status:this.state.blockTangleStatus,milestoneIndex:null===(e=this.state.metadata)||void 0===e?void 0:e.referencedByMilestoneIndex,onClick:null!==(t=this.state.metadata)&&void 0!==t&&t.referencedByMilestoneIndex?function(){var e;return u.props.history.push("/explorer/search/".concat(null===(e=u.state.metadata)||void 0===e?void 0:e.referencedByMilestoneIndex))}:void 0})]}),Object(dt.jsx)("div",{className:"card--label",children:"Id"}),Object(dt.jsxs)("div",{className:"card--value card--value__mono row",children:[Object(dt.jsx)("span",{className:"margin-r-t",children:this.props.match.params.blockId}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(u.props.match.params.blockId)},buttonType:"copy",labelPosition:"top"})]}),null===(s=this.state.block)||void 0===s||null===(n=s.parents)||void 0===n?void 0:n.map((function(e,t){return Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("div",{className:"card--label",children:["Parent Block ",t+1]}),Object(dt.jsxs)("div",{className:"card--value card--value__mono row",children:[e!=="0".repeat(64)&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(d.b,{className:"margin-r-t",to:"/explorer/block/".concat(e),children:e}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(e)},buttonType:"copy",labelPosition:"top"})]}),e==="0".repeat(64)&&Object(dt.jsx)("span",{children:"Genesis"})]})]},t)})),Object(dt.jsx)("div",{className:"card--label",children:"Nonce"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)("span",{className:"margin-r-t",children:null===(a=this.state.block)||void 0===a?void 0:a.nonce})})]}),Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsx)("h2",{children:"Metadata"}),!this.state.metadata&&!this.state.metadataStatus&&Object(dt.jsx)(ds,{}),this.state.metadataStatus&&Object(dt.jsx)("p",{className:"margin-t-s danger",children:this.state.metadataStatus}),this.state.metadata&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Is Solid"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)("span",{className:"margin-r-t",children:null!==(i=this.state.metadata)&&void 0!==i&&i.isSolid?"Yes":"No"})}),Object(dt.jsx)("div",{className:"card--label",children:"Ledger Inclusion"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)(sn,{state:null===(r=this.state.metadata)||void 0===r?void 0:r.ledgerInclusionState})}),this.state.conflictReason&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Conflict Reason"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.conflictReason})]})]})]}),(null===(o=this.state.block)||void 0===o?void 0:o.payload)&&Object(dt.jsxs)(c.a.Fragment,{children:[this.state.block.payload.type===Fe.TRANSACTION_PAYLOAD_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(dn,{payload:this.state.block.payload}),this.state.block.payload.essence.payload&&Object(dt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(dt.jsx)(on,{payload:this.state.block.payload.essence.payload})})]}),this.state.block.payload.type===Fe.MILESTONE_PAYLOAD_TYPE&&Object(dt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(dt.jsx)(cn,{payload:this.state.block.payload})}),this.state.block.payload.type===Fe.TAGGED_DATA_PAYLOAD_TYPE&&Object(dt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(dt.jsx)(on,{payload:this.state.block.payload})})]}),Object(dt.jsxs)("div",{className:"card margin-t-s padding-l",children:[Object(dt.jsx)("div",{className:"row margin-b-s",children:Object(dt.jsx)("h2",{children:"Tools"})}),Object(dt.jsx)("div",{className:"card--label",children:"Export Block"}),Object(dt.jsxs)("div",{className:"card--value row",children:[Object(dt.jsxs)("div",{className:"select-wrapper",children:[Object(dt.jsxs)("select",{value:this.state.selectedDataUrl,onChange:function(e){return u.setState({selectedDataUrl:e.target.value})},children:[Object(dt.jsx)("option",{value:"json",children:"JSON"}),Object(dt.jsx)("option",{value:"bin",children:"Binary"}),Object(dt.jsx)("option",{value:"hex",children:"Hex"}),Object(dt.jsx)("option",{value:"base64",children:"Base64"})]}),Object(dt.jsx)(Ws,{})]}),Object(dt.jsx)("a",{className:"card--action card--action-plain",href:this.state.dataUrls[this.state.selectedDataUrl],download:$s.filename(this.props.match.params.blockId,this.state.selectedDataUrl),role:"button",children:Object(dt.jsx)(Xs,{})})]})]}),Object(dt.jsxs)("div",{className:"card margin-t-s padding-l",children:[Object(dt.jsxs)("div",{className:"row margin-b-s",children:[Object(dt.jsx)("h2",{children:"Child Blocks"}),void 0!==this.state.childrenIds&&Object(dt.jsx)("span",{className:"card--header-count",children:this.state.childrenIds.length})]}),this.state.childrenBusy&&Object(dt.jsx)(ds,{}),null===(l=this.state.childrenIds)||void 0===l?void 0:l.map((function(e){return Object(dt.jsx)("div",{className:"card--value card--value__mono margin-b-s",children:Object(dt.jsx)(d.b,{to:"/explorer/block/".concat(e),children:e})},e)})),!this.state.childrenBusy&&this.state.childrenIds&&0===this.state.childrenIds.length&&Object(dt.jsx)("p",{children:"There are no children for this block."})]})]})})}},{key:"updateBlockDetails",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,s,n,r,c=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._tangleService.blockDetails(this.props.match.params.blockId);case 2:r=e.sent,this.setState({metadata:null===r||void 0===r?void 0:r.metadata,conflictReason:this.calculateConflictReason(null===r||void 0===r?void 0:r.metadata),childrenIds:null!==r&&void 0!==r&&r.childrenIds&&(null===r||void 0===r?void 0:r.childrenIds.length)>0?null===r||void 0===r?void 0:r.childrenIds:null!==(t=this.state.childrenIds)&&void 0!==t?t:[],blockTangleStatus:this.calculateStatus(null===r||void 0===r?void 0:r.metadata),childrenBusy:!1,metadataStatus:null!==r&&void 0!==r&&r.unavailable?"The node is currently unavailable or is not synced":void 0}),null!==r&&void 0!==r&&r.unavailable||null!==r&&void 0!==r&&null!==(s=r.metadata)&&void 0!==s&&s.referencedByMilestoneIndex&&null!==r&&void 0!==r&&null!==(n=r.metadata)&&void 0!==n&&n.milestoneIndex||(this._timerId=setTimeout(Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.updateBlockDetails();case 2:case"end":return e.stop()}}),e)}))),1e4));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateStatus",value:function(e){var t="unknown";return e&&(t=e.milestoneIndex?"milestone":e.referencedByMilestoneIndex?"referenced":"pending"),t}},{key:"calculateConflictReason",value:function(e){var t="";return"conflicting"===(null===e||void 0===e?void 0:e.ledgerInclusionState)&&(t=e.conflictReason&&Fe.CONFLICT_REASON_STRINGS[e.conflictReason]?Fe.CONFLICT_REASON_STRINGS[e.conflictReason]:"The reason for the conflict is unknown"),t}}]),s}(Le)),hn=un,pn=["title","titleId"];function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},bn.apply(this,arguments)}function vn(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function jn(e,t){var s=e.title,n=e.titleId,a=vn(e,pn);return r.createElement("svg",bn({width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Js||(Js=r.createElement("path",{d:"M5.48206 6.98708L0.318462 12.1921C0.218831 12.2891 0.139361 12.4052 0.0846907 12.5334C0.0300203 12.6617 0.00124313 12.7997 3.95234e-05 12.9393C-0.00116408 13.079 0.0252297 13.2174 0.0776802 13.3467C0.130131 13.4759 0.207588 13.5933 0.305532 13.692C0.403476 13.7907 0.519946 13.8688 0.648146 13.9217C0.776345 13.9746 0.913707 14.0012 1.05222 14C1.19072 13.9987 1.32761 13.9697 1.45487 13.9146C1.58214 13.8595 1.69725 13.7794 1.79348 13.679L7.69458 7.73051C7.89014 7.53332 8 7.26591 8 6.98708C8 6.70825 7.89014 6.44084 7.69458 6.24365L1.79348 0.295175C1.59674 0.103632 1.33323 -0.00235606 1.05972 3.97504e-05C0.786213 0.00243556 0.524578 0.113023 0.331169 0.307985C0.137761 0.502946 0.0280534 0.766681 0.0256767 1.04239C0.0232999 1.31809 0.128444 1.58371 0.318462 1.78203L5.48206 6.98708Z",fill:"currentColor"})))}var mn,fn=r.forwardRef(jn),On=(s.p,s(128),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._tangleService=void 0,n._tangleService=Me.a.get("tangle"),n.state={nextIndex:-1,previousIndex:-1,hasPrevious:!1,hasNext:!1},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.loadIndex(this.props.match.params.milestoneIndex,!1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,s,n=this;return Object(dt.jsx)("div",{className:"milestone",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(dt.jsx)(es,{className:"secondary"}),Object(dt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsx)("h2",{children:"Milestone"}),Object(dt.jsx)("div",{className:"card--label",children:"Index"}),Object(dt.jsx)("div",{className:"card--value",children:null===(e=this.state.milestone)||void 0===e?void 0:e.index}),Object(dt.jsx)("div",{className:"card--label",children:"Block Id"}),Object(dt.jsxs)("div",{className:"card--value card--value__mono row",children:[Object(dt.jsx)("span",{className:"margin-r-t",children:Object(dt.jsx)(d.b,{to:"/explorer/block/".concat(this.state.blockId),className:"info-box--title linked",children:this.state.blockId})}),Object(dt.jsx)(Os,{onClick:function(){return us.copy(n.state.blockId)},buttonType:"copy",labelPosition:"top"})]}),Object(dt.jsx)("div",{className:"card--label",children:"Date"}),Object(dt.jsx)("div",{className:"card--value",children:(null===(t=this.state.milestone)||void 0===t?void 0:t.timestamp)&&Ge.date(null===(s=this.state.milestone)||void 0===s?void 0:s.timestamp)}),(this.state.hasPrevious||this.state.hasNext)&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("hr",{}),Object(dt.jsxs)("div",{className:"row margin-t-s",children:[Object(dt.jsxs)("button",{disabled:!this.state.hasPrevious,type:"button",onClick:Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.loadIndex(n.state.previousIndex.toString(),!0));case 1:case"end":return e.stop()}}),e)}))),className:"card--action margin-r-t",children:[Object(dt.jsx)(es,{className:"margin-r-t"}),"Previous Milestone"]}),Object(dt.jsxs)("button",{disabled:!this.state.hasNext,type:"button",onClick:Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.loadIndex(n.state.nextIndex.toString(),!0));case 1:case"end":return e.stop()}}),e)}))),className:"card--action margin-r-t",children:["Next Milestone",Object(dt.jsx)(fn,{className:"margin-l-t"})]})]})]})]})]})})}},{key:"loadIndex",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,s){var n,r,c,o=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._tangleService.milestoneDetails(Number.parseInt(t,10));case 2:if(!(n=e.sent)){e.next=19;break}return e.prev=4,r=Me.a.get("tangle"),e.next=8,r.info();case 8:c=e.sent,this.setState({blockId:Object(Fe.blockIdFromMilestonePayload)(c.protocol.protocolVersion,n)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0 instanceof Error&&console.log(e.t0.message);case 15:this.setState({milestone:n},Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.checkForAdjacentMilestones());case 1:case"end":return e.stop()}}),e)})))),s&&window.history.replaceState(void 0,window.document.title,"/explorer/milestone/".concat(t)),e.next=20;break;case 19:this.props.history.replace("/explorer/search/".concat(t));case 20:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t,s){return e.apply(this,arguments)}}()},{key:"checkForAdjacentMilestones",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,s,n,r,c=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.milestone){e.next=16;break}if(t=this.state.milestone.index+1,s=this.state.milestone.index-1,n=!1,r=!1,!(s>0)){e.next=10;break}return e.next=8,this._tangleService.milestoneDetails(s);case 8:e.sent&&(r=!0);case 10:return e.next=12,this._tangleService.milestoneDetails(t);case 12:e.sent&&(n=!0),this.setState({previousIndex:s,nextIndex:t,hasPrevious:r,hasNext:n}),n||setTimeout(Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.checkForAdjacentMilestones());case 1:case"end":return e.stop()}}),e)}))),5e3);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),s}(Le)),gn=On,xn=["title","titleId"];function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},yn.apply(this,arguments)}function kn(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function _n(e,t){var s=e.title,n=e.titleId,a=kn(e,xn);return r.createElement("svg",yn({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 34 140",width:"34px",height:"140px",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,mn||(mn=r.createElement("path",{d:" M 34 140 L 0.02 140 L 0.02 140 C 0.007 138.835 0 137.668 0 136.5 L 0 136.5 C 0 87.365 11.818 40.968 32.765 0 L 34 0 L 34 140 Z ",fill:"currentColor"})))}var Sn,wn=r.forwardRef(_n),Nn=(s.p,["title","titleId"]);function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Cn.apply(this,arguments)}function In(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Tn(e,t){var s=e.title,n=e.titleId,a=In(e,Nn);return r.createElement("svg",Cn({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Sn||(Sn=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1V4H12V1C12 0.447715 12.4477 0 13 0C13.5523 0 14 0.447715 14 1V4H17V1C17 0.447715 17.4477 0 18 0C18.5523 0 19 0.447715 19 1V4.12602C20.4056 4.4878 21.5122 5.59439 21.874 7H25C25.5523 7 26 7.44772 26 8C26 8.55229 25.5523 9 25 9H22V12H25C25.5523 12 26 12.4477 26 13C26 13.5523 25.5523 14 25 14H22V17H25C25.5523 17 26 17.4477 26 18C26 18.5523 25.5523 19 25 19H21.874C21.5122 20.4056 20.4056 21.5122 19 21.874V25C19 25.5523 18.5523 26 18 26C17.4477 26 17 25.5523 17 25V22H14V25C14 25.5523 13.5523 26 13 26C12.4477 26 12 25.5523 12 25V22H9V25C9 25.5523 8.55229 26 8 26C7.44772 26 7 25.5523 7 25V21.874C5.59439 21.5122 4.4878 20.4056 4.12602 19H1C0.447715 19 0 18.5523 0 18C0 17.4477 0.447715 17 1 17H4V14H1C0.447715 14 0 13.5523 0 13C0 12.4477 0.447715 12 1 12H4V9H1C0.447715 9 0 8.55229 0 8C0 7.44772 0.447715 7 1 7H4.12602C4.4878 5.59439 5.59439 4.4878 7 4.12602V1ZM11 9C9.89543 9 9 9.89543 9 11V15C9 16.1046 9.89543 17 11 17H15C16.1046 17 17 16.1046 17 15V11C17 9.89543 16.1046 9 15 9H11Z",fill:"#666AF6"})))}var En,Pn=r.forwardRef(Tn),Mn=(s.p,["title","titleId"]);function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Dn.apply(this,arguments)}function Bn(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function An(e,t){var s=e.title,n=e.titleId,a=Bn(e,Mn);return r.createElement("svg",Dn({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,En||(En=r.createElement("path",{d:"M11.9999 12.8115L9.67454 15.5795C10.3612 16.5407 10.7088 17.703 10.6624 18.8833C10.6161 20.0637 10.1785 21.1951 9.41854 22.0995C8.50834 23.1815 7.20609 23.8582 5.79753 23.9812C4.38897 24.1042 2.98915 23.6634 1.90521 22.7555C1.36875 22.3064 0.926138 21.7558 0.602702 21.1354C0.279265 20.515 0.0813554 19.8368 0.0202999 19.1398C-0.0407557 18.4428 0.0362414 17.7406 0.246884 17.0734C0.457528 16.4062 0.797681 15.7871 1.24788 15.2515C2.0087 14.3467 3.04825 13.72 4.20357 13.4695C5.35889 13.219 6.56467 13.359 7.63188 13.8675L10.2585 10.7395L3.07454 2.18885C2.96202 2.05495 2.87699 1.90019 2.82433 1.7334C2.77166 1.56662 2.7524 1.39109 2.76763 1.21685C2.78286 1.04261 2.83229 0.873089 2.9131 0.717973C2.9939 0.562856 3.10449 0.42519 3.23854 0.31285C3.37266 0.200246 3.52764 0.115165 3.69464 0.0624652C3.86165 0.0097655 4.03739 -0.00952042 4.21185 0.00570882C4.3863 0.0209381 4.55605 0.0703841 4.71139 0.151223C4.86674 0.232062 5.00463 0.342711 5.11721 0.47685L11.9999 8.66885L18.8812 0.47685C18.9938 0.342517 19.1318 0.231703 19.2872 0.150745C19.4427 0.0697879 19.6126 0.0202768 19.7872 0.00504451C19.9618 -0.0101878 20.1377 0.00915768 20.3049 0.0619742C20.472 0.114791 20.6271 0.200042 20.7612 0.31285C20.8953 0.42519 21.0059 0.562856 21.0867 0.717973C21.1675 0.873089 21.2169 1.04261 21.2321 1.21685C21.2474 1.39109 21.2281 1.56662 21.1754 1.7334C21.1228 1.90019 21.0377 2.05495 20.9252 2.18885L13.7399 10.7395L16.3665 13.8662C17.4338 13.3577 18.6395 13.2177 19.7948 13.4682C20.9502 13.7186 21.9897 14.3454 22.7505 15.2502C23.2007 15.7858 23.5409 16.4049 23.7515 17.0721C23.9622 17.7393 24.0392 18.4415 23.9781 19.1385C23.9171 19.8355 23.7192 20.5136 23.3957 21.134C23.0723 21.7545 22.6297 22.305 22.0932 22.7542C21.0093 23.6621 19.6094 24.1029 18.2009 23.9799C16.7923 23.8569 15.4901 23.1802 14.5799 22.0982C13.8199 21.1938 13.3823 20.0624 13.336 18.882C13.2896 17.7016 13.6372 16.5394 14.3239 15.5782L11.9999 12.8115ZM3.61988 20.7142C4.16456 21.1353 4.85102 21.3295 5.53559 21.256C6.22017 21.1825 6.84979 20.8471 7.29269 20.32C7.73559 19.7928 7.95744 19.1148 7.91181 18.4278C7.86618 17.7408 7.55661 17.0981 7.04788 16.6342C6.50587 16.18 5.80581 15.9595 5.10137 16.021C4.39692 16.0825 3.74566 16.421 3.29054 16.9622C2.34388 18.0889 2.49054 19.7689 3.61988 20.7142ZM20.3799 20.7142C20.648 20.4895 20.8692 20.2142 21.0308 19.9039C21.1924 19.5937 21.2912 19.2547 21.3217 18.9062C21.3522 18.5577 21.3136 18.2066 21.2083 17.8731C21.103 17.5395 20.9329 17.23 20.7079 16.9622C20.2528 16.4214 19.6018 16.0832 18.8977 16.0217C18.1936 15.9602 17.4938 16.1805 16.9519 16.6342C16.6837 16.8588 16.4624 17.134 16.3007 17.4442C16.1389 17.7544 16.0399 18.0934 16.0093 18.4419C15.9788 18.7904 16.0172 19.1415 16.1224 19.4751C16.2276 19.8087 16.3976 20.1183 16.6225 20.3862C17.5692 21.5129 19.2519 21.6595 20.3799 20.7142Z",fill:"#FF8B5C"})))}var Ln,Rn,Un=r.forwardRef(An),Hn=(s.p,s(129),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._graphElement=void 0,n._resize=void 0,n._graphElement=null,n._resize=function(){return n.resize()},n.state={},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this._resize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.series.length===e.series.length;if(t)for(var s=0;s<this.props.series.length&&(t=xs.ArrayHelper.equal(this.props.series[s].values,e.series[s].values));s++);t||this.setState(this.calculateGraph())}},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),this._graphElement=null,window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){var e,t,s=this;return Object(dt.jsxs)("div",{className:Je()("graph",this.props.className),children:[Object(dt.jsxs)("div",{className:"title-row",children:[Object(dt.jsx)("div",{className:"caption",children:this.props.caption}),Object(dt.jsx)("div",{className:"key",children:this.props.series.length>1&&this.props.series.map((function(e,t){return Object(dt.jsxs)("span",{className:"key",children:[Object(dt.jsx)("div",{className:Je()("key-color",e.className)}),Object(dt.jsx)("span",{className:"key-label",children:e.label})]},t)}))})]}),Object(dt.jsx)("span",{className:"canvas",children:Object(dt.jsxs)("svg",{ref:function(e){return s.setElement(e)},children:[null===(e=this.state.paths)||void 0===e?void 0:e.map((function(e,t){return Object(dt.jsx)("path",{d:e.path,className:e.className,strokeWidth:1},t)})),null===(t=this.state.text)||void 0===t?void 0:t.map((function(e,t){var s;return Object(dt.jsx)("text",{x:e.x,y:e.y,textAnchor:null!==(s=e.anchor)&&void 0!==s?s:"start",className:"axis-label",children:e.content},t)}))]})})]})}},{key:"setElement",value:function(e){var t=this;setTimeout((function(){!t._graphElement&&e&&(t._graphElement=e,t.setState(t.calculateGraph()))}),100)}},{key:"resize",value:function(){this._graphElement&&this.setState(this.calculateGraph())}},{key:"calculateGraph",value:function(){var e=[],t=[],s=[];if(this._graphElement&&this.props.series.length>0){try{var n=this._graphElement.width.baseVal.value,a=this._graphElement.height.baseVal.value-20,i=this.props.seriesMaxLength;n<500&&(i/=2);for(var r=this.props.series.map((function(e){return e.values.slice(-i)})),c=0,o=Math.min(i,r[0].length),l=0;l<r.length;l++)for(var d=0;d<r[l].length;d++)r[l][d]>c&&(c=r[l][d]);0===c&&(c=4);for(var u=c<=2?2:0,h=.9*a/c,p=(n-30-10-10)/(i*this.props.series.length),b=a/3,v=0;v<4;v++)s.push({path:"M ".concat(30," ").concat(a-v*b," L ").concat(n," ").concat(a-v*b),className:"axis-color"}),t.push({x:25,y:a-v*b+2,anchor:"end",content:(v*(c/.9/3)).toFixed(u)});if(this.props.timeInterval&&this.props.endTime){var j,m=null!==(j=this.props.timeMarkers)&&void 0!==j?j:Math.floor(n/100);n<300&&(m=3);for(var f=this.props.endTime-o*this.props.timeInterval,O=i*this.props.timeInterval/m,g=0;g<=m;g++){var x=new Date(f+g*O);t.push({x:25+(n-10-10)/m*g,y:a+20,anchor:"middle",content:"".concat(x.getHours().toString().padStart(2,"0"),":").concat(x.getMinutes().toString().padStart(2,"0"),".").concat(x.getSeconds().toString().padStart(2,"0"))})}}for(var y=0;y<o;y++)for(var k=0;k<r.length;k++){var _=r[k][y];e.push({path:this.calculatePath(a,p,40,k+y*r.length,_*h),className:this.props.series[k].className})}}catch(S){}}return{text:t,paths:[].concat(s,Object(ns.a)(e.reverse()))}}},{key:"calculatePath",value:function(e,t,s,n,a){var i=["M ".concat(s+n*t+2," ").concat(e)];return(i=[].concat(Object(ns.a)(i),Object(ns.a)(a<=0?["L ".concat(s+(n*t+2)," ").concat(e-1),"L ".concat(s+(n+1)*t-2," ").concat(e-1),"L ".concat(s+(n+1)*t-2," ").concat(e)]:["L ".concat(s+n*t+2," ").concat(e-a),"C ".concat(s+n*t+2," ").concat(e-a-10," ").concat(s+(n+1)*t-2," ").concat(e-a-10," ").concat(s+(n+1)*t-2," ").concat(e-a),"L ".concat(s+(n+1)*t-2," ").concat(e)]))).join(" ")}}]),s}(Le)),Fn=["title","titleId"];function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zn.apply(this,arguments)}function Vn(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Yn(e,t){var s=e.title,n=e.titleId,a=Vn(e,Fn);return r.createElement("svg",zn({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Ln||(Ln=r.createElement("path",{d:"m23.7055,11.46295q-1.43475,-3.0227 -3.41479,-4.93035l-1.38442,1.38442c1.12892,1.07886 2.11227,2.49021 2.96257,4.24794c-2.26383,4.68547 -5.47726,6.9112 -9.86887,6.9112q-1.97731,0 -3.64253,-0.60895l-1.50006,1.50006q2.3128,1.06797 5.14259,1.06797q7.84449,0 11.70551,-8.171a1.64046,1.64046 0 0 0 0,-1.40129zm-1.72971,-8.72444l-1.15994,-1.1613a0.21768,0.21768 0 0 0 -0.30801,0l-2.9759,2.97454q-2.4611,-1.25708 -5.53196,-1.25708q-7.84449,0 -11.70551,8.171a1.64073,1.64073 0 0 0 0,1.40129q1.5425,3.24881 3.71409,5.20816l-2.8793,2.87849a0.21768,0.21768 0 0 0 0,0.30774l1.16157,1.16157a0.21768,0.21768 0 0 0 0.30774,0l19.37722,-19.3764a0.21768,0.21768 0 0 0 0,-0.30801zm-19.84468,9.42645c2.26655,-4.68547 5.47999,-6.9112 9.86887,-6.9112c1.484,0 2.83332,0.25468 4.05747,0.77248l-1.91282,1.91282a4.78886,4.78886 0 0 0 -6.47939,6.47939l-2.26981,2.26981c-1.25626,-1.10879 -2.3392,-2.61102 -3.26432,-4.5233zm6.71257,0a3.05045,3.05045 0 0 1 3.97802,-2.90298l-3.83354,3.83354a3.04746,3.04746 0 0 1 -0.14448,-0.93056z",fill:"currentColor"})),Rn||(Rn=r.createElement("path",{d:"m11.89115,15.21242c-0.09414,0 -0.18693,-0.00435 -0.2789,-0.01279l-1.4372,1.4372a4.79131,4.79131 0 0 0 6.18798,-6.18798l-1.4372,1.4372c0.00843,0.09197 0.01279,0.18475 0.01279,0.2789a3.04583,3.04583 0 0 1 -3.04746,3.04746z",fill:"currentColor"})))}var Wn,Gn=r.forwardRef(Yn),Kn=(s.p,["title","titleId"]);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Zn.apply(this,arguments)}function qn(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Jn(e,t){var s=e.title,n=e.titleId,a=qn(e,Kn);return r.createElement("svg",Zn({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Wn||(Wn=r.createElement("path",{d:"m23.69284,11.29876c-2.57667,-5.42785 -6.47156,-8.15945 -11.69285,-8.15945c-5.224,0 -9.11619,2.73159 -11.69285,8.16217a1.63896,1.63896 0 0 0 0,1.39977c2.57667,5.42785 6.47156,8.15945 11.69285,8.15945c5.224,0 9.11619,-2.73159 11.69285,-8.16217c0.20929,-0.44032 0.20929,-0.9513 0,-1.39977zm-11.69285,7.60498c-4.38414,0 -7.5941,-2.22332 -9.8582,-6.90373c2.2641,-4.68041 5.47406,-6.90373 9.8582,-6.90373c4.38414,0 7.5941,2.22332 9.8582,6.90373c-2.26138,4.68041 -5.47134,6.90373 -9.8582,6.90373zm-0.10872,-11.68742c-2.6419,0 -4.78369,2.14179 -4.78369,4.78369s2.14179,4.78369 4.78369,4.78369s4.78369,-2.14179 4.78369,-4.78369s-2.14179,-4.78369 -4.78369,-4.78369zm0,7.82785c-1.68245,0 -3.04417,-1.36172 -3.04417,-3.04417s1.36172,-3.04417 3.04417,-3.04417s3.04417,1.36172 3.04417,3.04417s-1.36172,3.04417 -3.04417,3.04417z",fill:"currentColor"})))}var Xn,$n,Qn=r.forwardRef(Jn),ea=(s.p,["title","titleId"]);function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ta.apply(this,arguments)}function sa(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function na(e,t){var s=e.title,n=e.titleId,a=sa(e,ea);return r.createElement("svg",ta({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Xn||(Xn=r.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#FF9800"})),$n||($n=r.createElement("circle",{cx:8,cy:8,r:4,fill:"#FF9800"})))}var aa=r.forwardRef(na),ia=(s.p,s(130),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._metricsService=void 0,n._settingsService=void 0,n._peerSubscription=void 0,n._syncStatusSubscription=void 0,n._metricsService=Me.a.get("metrics"),n._settingsService=Me.a.get("settings"),n.state={blindMode:n._settingsService.getBlindMode()},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;this._peerSubscription=this._metricsService.subscribe(Ee.PeerMetric,(function(t){e.handleData(t)})),this._syncStatusSubscription=this._metricsService.subscribe(Ee.SyncStatus,(function(t){if(t){var s=t.cmi,n=t.lmi;s&&s!==e.state.cmi&&e.setState({cmi:s}),n&&n!==e.state.lmi&&e.setState({lmi:n})}}))}},{key:"componentWillUnmount",value:function(){this._peerSubscription&&(this._metricsService.unsubscribe(this._peerSubscription),this._peerSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}},{key:"render",value:function(){var e,t=this;return Object(dt.jsxs)("div",{className:"peers-summary",children:[Object(dt.jsxs)("div",{className:"row middle spread margin-b-m",children:[Object(dt.jsx)("h4",{children:"Peers"}),Object(dt.jsx)("button",{type:"button",onClick:function(){return t.toggleBlindMode()},className:"peers-summary--icon-button",children:this.state.blindMode?Object(dt.jsx)(Qn,{}):Object(dt.jsx)(Gn,{})})]}),!this.state.peers&&Object(dt.jsx)("p",{children:"There are no peers."}),null===(e=this.state.peers)||void 0===e?void 0:e.map((function(e,s){var n,a;return Object(dt.jsxs)(d.b,{to:"/peers/".concat(e.id),className:"peers-summary--item",children:[Object(dt.jsxs)("div",{className:"peer-health-icon",children:[0===e.health&&Object(dt.jsx)(nt,{}),1===e.health&&Object(dt.jsx)(aa,{}),2===e.health&&Object(dt.jsx)(lt,{})]}),Object(dt.jsxs)("div",{className:"col",children:[Object(dt.jsxs)("div",{className:"peer-id",children:[t.state.blindMode&&"*".repeat((null!==(n=e.alias)&&void 0!==n?n:e.id).length),!t.state.blindMode&&(null!==(a=e.alias)&&void 0!==a?a:e.id)]}),e.address&&Object(dt.jsx)("div",{className:"peer-id",children:t.state.blindMode?"*".repeat(e.address.length):e.address})]})]},s)}))]})}},{key:"handleData",value:function(e){var t,s=this;e&&(t=He.sortPeers(e.map((function(e){var t=s.state.cmi?s.state.cmi:0,n=s.state.lmi?s.state.lmi:0;return{id:e.id,alias:e.alias,health:He.calculateHealth(e,t,n),address:He.formatPeerAddress(e)}})))),this.setState({peers:t})}},{key:"toggleBlindMode",value:function(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}]),s}(r.Component)),ra=(s(131),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;Object(h.a)(this,s),(n=t.call(this,e))._themeService=void 0,n._metricsService=void 0,n._settingsService=void 0,n._nodeStatusSubscription=void 0,n._publicNodeStatusSubscription=void 0,n._syncStatusSubscription=void 0,n._bpsMetricsSubscription=void 0,n._networkId=void 0,n._metricsService=Me.a.get("metrics"),n._themeService=Me.a.get("theme"),n._settingsService=Me.a.get("settings");var a=Me.a.get("node-config");return n._networkId=a.getNetworkId(),n.state={nodeName:"",nodeId:"",displayVersion:"",displayLatestVersion:"",lmi:"-",cmi:"-",pruningIndex:"-",memory:"-",uptime:"-",lastReceivedBpsTime:0,bpsIncoming:[],bpsOutgoing:[],bannerSrc:"",blindMode:n._settingsService.getBlindMode()},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.t0=this,e.next=4,Be.getBanner(this._themeService.get());case 4:e.t1=e.sent,e.t2={bannerSrc:e.t1},e.t0.setState.call(e.t0,e.t2),De.subscribe("theme","home",function(){var e=Object(i.a)(Object(a.a)().mark((function e(s){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Be.getBanner(s);case 3:e.t1=e.sent,e.t2={bannerSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._publicNodeStatusSubscription=this._metricsService.subscribe(Ee.PublicNodeStatus,(function(e){if(e){var s=e.pruningIndex.toString();s!==t.state.pruningIndex&&t.setState({pruningIndex:s})}})),this._nodeStatusSubscription=this._metricsService.subscribe(Ee.NodeStatus,(function(e){if(e){var s=e.nodeAlias?e.nodeAlias:Be.getConfiguration().name,n=e.nodeId||"No node Id.",a=Ge.duration(e.uptime),i=Ge.iSize(He.calculateMemoryUsage(e));s!==t.state.nodeName&&t.setState({nodeName:s}),n!==t.state.nodeId&&t.setState({nodeId:n}),a!==t.state.uptime&&t.setState({uptime:a}),i!==t.state.memory&&t.setState({memory:i}),t.checkVersion(e.version,e.latestVersion)}})),this._syncStatusSubscription=this._metricsService.subscribe(Ee.SyncStatus,(function(e){if(e){var s=e.lmi?e.lmi.toString():"",n=e.cmi?e.cmi.toString():"";s!==t.state.lmi&&t.setState({lmi:s}),n!==t.state.cmi&&t.setState({cmi:n})}})),this._bpsMetricsSubscription=this._metricsService.subscribe(Ee.BPSMetrics,void 0,(function(e){var s=e.filter((function(e){return void 0!==e&&null!==e})),n=s.map((function(e){return e.incoming})),a=s.map((function(e){return e.outgoing}));t.setState({bpsIncoming:n,bpsOutgoing:a,lastReceivedBpsTime:Date.now()})})),De.subscribe("settings.blindMode","home",(function(e){t.setState({blindMode:e})}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),De.unsubscribe("theme","home"),this._nodeStatusSubscription&&(this._metricsService.unsubscribe(this._nodeStatusSubscription),this._nodeStatusSubscription=void 0),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0),this._bpsMetricsSubscription&&(this._metricsService.unsubscribe(this._bpsMetricsSubscription),this._bpsMetricsSubscription=void 0),De.unsubscribe("settings.blindMode","home")}},{key:"render",value:function(){var e;return Object(dt.jsx)("div",{className:"home",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsx)("div",{className:"card",children:Object(dt.jsxs)("div",{className:"banner row",children:[Object(dt.jsxs)("div",{className:"node-info",children:[Object(dt.jsxs)("div",{children:[Object(dt.jsx)("h1",{children:this.state.blindMode?"**********":this.state.nodeName}),this.state.nodeId&&Object(dt.jsx)("p",{className:"secondary margin-t-t word-break-all",children:this.state.blindMode?"*********":this.state.nodeId})]}),Object(dt.jsx)("p",{className:"secondary",children:this._networkId}),Object(dt.jsxs)("p",{className:"secondary",children:[this.state.displayVersion,this.state.displayLatestVersion]})]}),Object(dt.jsx)(wn,{className:"banner-curve"}),Object(dt.jsx)("div",{className:"banner-image",children:Object(dt.jsx)("img",{src:this.state.bannerSrc})})]})}),Object(dt.jsxs)("div",{className:"row fill margin-t-s desktop-down-column",children:[Object(dt.jsxs)("div",{className:"col info-col fill",children:[Object(dt.jsxs)("div",{className:"row tablet-down-column",children:[Object(dt.jsx)(Gt,{caption:"CMI / LMI",value:"".concat(this.state.cmi," / ").concat(this.state.lmi),icon:Object(dt.jsx)(Rt,{}),backgroundStyle:"green"}),Object(dt.jsx)(Gt,{caption:"Pruning Index",value:null===(e=this.state.pruningIndex)||void 0===e?void 0:e.toString(),icon:Object(dt.jsx)(Un,{}),backgroundStyle:"orange"})]}),Object(dt.jsxs)("div",{className:"row margin-t-s tablet-down-column",children:[Object(dt.jsx)(Gt,{caption:"Uptime",value:this.state.uptime,icon:Object(dt.jsx)(Yt,{}),backgroundStyle:"blue"}),Object(dt.jsx)(Gt,{caption:"Memory Usage",value:this.state.memory,icon:Object(dt.jsx)(Pn,{}),backgroundStyle:"purple"})]}),Object(dt.jsx)("div",{className:"row margin-t-s",children:Object(dt.jsx)("div",{className:"card fill blocks-graph-panel",children:Object(dt.jsx)(Hn,{caption:"Blocks Per Second",seriesMaxLength:20,timeInterval:1e3,endTime:this.state.lastReceivedBpsTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.bpsIncoming},{className:"bar-color-2",label:"Outgoing",values:this.state.bpsOutgoing}]})})})]}),Object(dt.jsx)("div",{className:"card col peers-summary-col peers-summary-panel",children:Object(dt.jsx)(ia,{})})]})]})})}},{key:"checkVersion",value:function(e,t){if(this.state.version!==e||this.state.latestVersion!==t){var s=this.compareVersions(e,t);this.setState({version:e,latestVersion:t,displayVersion:e}),s<0&&this.setState({displayLatestVersion:" - a new version ".concat(t," is available.")})}}},{key:"compareVersions",value:function(e,t){var s=e.split("."),n=t.split(".");if(3===s.length&&3===n.length)for(var a=0;a<3;a++){var i=Number.parseInt(s[a],10),r=Number.parseInt(n[a],10);if(i>r)return 1;if(r>i)return-1;if(2===a){var c=96,o=96,l=s[a].indexOf("-");l>0&&(c=s[a].charCodeAt(l+1));var d=n[a].indexOf("-");return d>0&&(o=n[a].charCodeAt(d+1)),c-o}}return 0}}]),s}(Le)),ca=ra,oa=(s(132),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._authService=void 0,n._authService=Me.a.get("auth"),n.state={user:"",password:"",isBusy:!1,error:!1,redirect:""},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return this.state.redirect.length>0?Object(dt.jsx)(f.a,{to:this.state.redirect}):Object(dt.jsx)("div",{className:"login",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsx)("h2",{children:"Login"}),Object(dt.jsx)("div",{className:"card margin-t-s padding-l",children:Object(dt.jsxs)("form",{children:[Object(dt.jsx)("p",{children:"Please enter your credentials to unlock the full dashboard."}),Object(dt.jsx)("div",{className:"card--label",children:"User"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)("input",{type:"text",autoComplete:"username",value:this.state.user,disabled:this.state.isBusy,onChange:function(t){return e.setState({user:t.target.value})},autoFocus:!0})}),Object(dt.jsx)("div",{className:"card--label",children:"Password"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)("input",{type:"password",autoComplete:"current-password",value:this.state.password,disabled:this.state.isBusy,onChange:function(t){return e.setState({password:t.target.value})},onKeyDown:function(t){"Enter"===t.key&&e.state.password.trim().length>0&&e.state.user.trim().length>0&&e.login()}})}),Object(dt.jsx)("hr",{}),Object(dt.jsxs)("div",{className:"card--value row middle",children:[Object(dt.jsx)("button",{className:"card--action margin-r-s",type:"button",disabled:this.state.isBusy||0===this.state.user.trim().length||0===this.state.password.trim().length,onClick:function(t){return e.login()},children:"Login"}),this.state.isBusy&&Object(dt.jsx)(ds,{compact:!0}),this.state.error&&Object(dt.jsx)("p",{className:"danger margin-l-t",children:"Your login attempt failed, please try again."})]})]})})]})})}},{key:"login",value:function(){var e=this;this.setState({isBusy:!0,error:!1},Object(i.a)(Object(a.a)().mark((function t(){var s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._authService.login(e.state.user,e.state.password);case 2:s=t.sent,e.setState({isBusy:!1,error:!s,redirect:s?"/":""});case 4:case"end":return t.stop()}}),t)}))))}}]),s}(Le)),la=(s(133),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._metricsService=void 0,n._settingsService=void 0,n._peersSubscription=void 0,n._syncStatusSubscription=void 0,n._metricsService=Me.a.get("metrics"),n._settingsService=Me.a.get("settings"),n.state={address:"",isConnected:!1,isSynced:!1,hasPeers:!1,latestMilestoneIndex:"-",latestSolidMilestoneIndex:"-",pruningIndex:"-",syncedPeers:"-",connectedPeers:"-",newBlocksDiff:[],sentBlocksDiff:[],relation:"-",lastUpdateTime:0,blindMode:n._settingsService.getBlindMode()},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),this._peersSubscription=this._metricsService.subscribe(Ee.PeerMetric,void 0,(function(t){var s,n,a,i="",r=!1,c=!1,o=!1,l="-",d="-",u="-",h="-",p="-",b=[],v=[],j=[],m=[],f="-",O=Object(qt.a)(t);try{for(O.s();!(a=O.n()).done;){var g=a.value;if(g){var x,y,k,_=g.find((function(t){return t.id===e.props.match.params.id})),S=e.state.nodeLmi?e.state.nodeLmi:0;if(_)s=_.alias,i=null!==(x=He.formatPeerAddress(_))&&void 0!==x?x:"",c=(r=_.connected)&&He.calculateIsSynced(_,S),n=null===(y=_.gossip)||void 0===y?void 0:y.metrics,f=_.relation,null!==(k=_.gossip)&&void 0!==k&&k.heartbeat&&(b.push(_.gossip.metrics.newBlocks),v.push(_.gossip.metrics.sentBlocks),r&&(o=_.gossip.heartbeat.connectedNeighbors>0,l=_.gossip.heartbeat.latestMilestoneIndex.toString(),d=_.gossip.heartbeat.solidMilestoneIndex.toString(),u=_.gossip.heartbeat.prunedMilestoneIndex.toString(),h=_.gossip.heartbeat.syncedNeighbors.toString(),p=_.gossip.heartbeat.connectedNeighbors.toString()))}}}catch(C){O.e(C)}finally{O.f()}for(var w=1;w<b.length;w++)j.push(Math.max(b[w]-b[w-1],0));for(var N=1;N<v.length;N++)m.push(Math.max(v[N]-v[N-1],0));e.setState({alias:s,address:i,isConnected:r,isSynced:c,hasPeers:o,latestMilestoneIndex:l,latestSolidMilestoneIndex:d,pruningIndex:u,syncedPeers:h,connectedPeers:p,newBlocksDiff:j,sentBlocksDiff:m,gossipMetrics:n,relation:f,lastUpdateTime:Date.now()})})),this._syncStatusSubscription=this._metricsService.subscribe(Ee.SyncStatus,(function(t){if(t){var s=t.cmi,n=t.lmi;s&&s!==e.state.nodeCmi&&e.setState({nodeCmi:s}),n&&n!==e.state.nodeLmi&&e.setState({nodeLmi:n})}}))}},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),this._peersSubscription&&(this._metricsService.unsubscribe(this._peersSubscription),this._peersSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}},{key:"render",value:function(){var e,t,s,n,a,i,r,o,l,u,h,p,b,v,j,m,f,O,g,x,y,k,_=this;return Object(dt.jsx)("div",{className:"peer",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)("div",{className:"row middle spread margin-b-s",children:[Object(dt.jsxs)(d.b,{to:"/peers",className:"row inline middle",children:[Object(dt.jsx)(es,{className:"secondary"}),Object(dt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Peers"})]}),Object(dt.jsx)("button",{type:"button",onClick:function(){return _.toggleBlindMode()},className:"peer--icon-button",children:this.state.blindMode?Object(dt.jsx)(Qn,{}):Object(dt.jsx)(Gn,{})})]}),Object(dt.jsx)("div",{className:"card",children:Object(dt.jsxs)("div",{className:"banner row tablet-down-column spread",children:[Object(dt.jsxs)("div",{className:"node-info",children:[this.state.alias&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("h2",{className:"word-break-all",children:this.state.blindMode?"*".repeat(this.state.alias.length):this.state.alias}),Object(dt.jsx)("p",{className:"secondary margin-t-t",children:this.state.blindMode?"*".repeat(this.props.match.params.id.length):this.props.match.params.id})]}),!this.state.alias&&Object(dt.jsx)("h2",{className:"word-break-all",children:this.state.blindMode?"*".repeat(this.props.match.params.id.length):this.props.match.params.id}),Object(dt.jsx)("p",{className:"secondary margin-t-t",children:this.state.blindMode?"*".repeat(this.state.address.length):this.state.address}),Object(dt.jsxs)("p",{className:"secondary margin-t-t",children:["Relation:\xa0","".concat(this.state.relation.slice(0,1).toUpperCase()).concat(this.state.relation.slice(1))]}),this.state.nodeCmi&&Number(this.state.pruningIndex)>this.state.nodeCmi&&Object(dt.jsx)("p",{className:"secondary warning margin-t-t",children:"Warning:\xa0 History of peer not sufficient to sync from. Consider using a newer snapshot if all peers have the same status."})]}),Object(dt.jsxs)("div",{className:"health-indicators col tablet-down-only-row phone-down-column",children:[Object(dt.jsx)(ht,{label:"Connected",healthy:this.state.isConnected,className:"child"}),Object(dt.jsx)(ht,{label:"Synced",healthy:this.state.isSynced,className:"child"}),Object(dt.jsx)(ht,{label:"Peers",healthy:this.state.hasPeers,className:"child"})]})]})}),Object(dt.jsxs)("div",{className:"row info margin-t-s",children:[Object(dt.jsx)(Gt,{caption:"SMI / LMI",value:"".concat(this.state.latestSolidMilestoneIndex," / ").concat(this.state.latestMilestoneIndex),icon:Object(dt.jsx)(Rt,{}),backgroundStyle:"green"}),Object(dt.jsx)(Gt,{caption:"Pruning Index",value:this.state.pruningIndex,icon:Object(dt.jsx)(Un,{}),backgroundStyle:"orange"}),Object(dt.jsx)(Gt,{caption:"Synced Peers",value:"".concat(this.state.syncedPeers," / ").concat(this.state.connectedPeers),icon:Object(dt.jsx)(Pt,{}),backgroundStyle:"purple"})]}),Object(dt.jsxs)("div",{className:"card blocks-graph-panel margin-t-s",children:[Object(dt.jsx)(Hn,{caption:"Blocks per Second",endTime:this.state.lastUpdateTime,timeInterval:1e3,seriesMaxLength:30,series:[{className:"bar-color-1",label:"Incoming",values:this.state.newBlocksDiff},{className:"bar-color-2",label:"Outgoing",values:this.state.sentBlocksDiff}]}),Object(dt.jsxs)("div",{className:"row wrap padding-s gossip",children:[Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Known Blocks"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(e=null===(t=this.state.gossipMetrics)||void 0===t?void 0:t.knownBlocks)&&void 0!==e?e:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"New Blocks"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(s=null===(n=this.state.gossipMetrics)||void 0===n?void 0:n.newBlocks)&&void 0!==s?s:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Received Blocks"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(a=null===(i=this.state.gossipMetrics)||void 0===i?void 0:i.receivedBlocks)&&void 0!==a?a:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Sent Blocks"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(r=null===(o=this.state.gossipMetrics)||void 0===o?void 0:o.sentBlocks)&&void 0!==r?r:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Received Block Requests"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(l=null===(u=this.state.gossipMetrics)||void 0===u?void 0:u.receivedBlockRequests)&&void 0!==l?l:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Sent Block Requests"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(h=null===(p=this.state.gossipMetrics)||void 0===p?void 0:p.sentBlockRequests)&&void 0!==h?h:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Received Heartbeats"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(b=null===(v=this.state.gossipMetrics)||void 0===v?void 0:v.receivedHeartbeats)&&void 0!==b?b:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Sent Heartbeats"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(j=null===(m=this.state.gossipMetrics)||void 0===m?void 0:m.sentHeartbeats)&&void 0!==j?j:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Received Milestone Requests"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(f=null===(O=this.state.gossipMetrics)||void 0===O?void 0:O.receivedMilestoneRequests)&&void 0!==f?f:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Sent Milestone Requests"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(g=null===(x=this.state.gossipMetrics)||void 0===x?void 0:x.sentMilestoneRequests)&&void 0!==g?g:"-"})]}),Object(dt.jsxs)("div",{className:"gossip-item",children:[Object(dt.jsx)("h4",{children:"Dropped Packets"}),Object(dt.jsx)("div",{className:"gossip-value",children:null!==(y=null===(k=this.state.gossipMetrics)||void 0===k?void 0:k.droppedPackets)&&void 0!==y?y:"-"})]})]})]})]})})}},{key:"toggleBlindMode",value:function(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}]),s}(Le)),da=Object(f.g)(la),ua=(s(134),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"dialog-click-shield"}),Object(dt.jsx)("div",{className:"dialog-container",children:Object(dt.jsxs)("div",{className:"dialog",children:[Object(dt.jsx)("div",{className:"dialog-header",children:Object(dt.jsx)("h1",{children:this.props.title})}),Object(dt.jsx)("div",{className:"dialog-content",children:this.props.children}),Object(dt.jsx)("div",{className:"dialog-footer",children:this.props.actions})]})})]})}}]),s}(r.Component)),ha=ua,pa=(s(135),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._metricsService=void 0,n._settingsService=void 0,n._peersSubscription=void 0,n._syncStatusSubscription=void 0,n._metricsService=Me.a.get("metrics"),n._settingsService=Me.a.get("settings"),n.state={peers:[],dialogPeerAddress:"",dialogPeerAlias:"",blindMode:n._settingsService.getBlindMode()},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),this._peersSubscription=this._metricsService.subscribe(Ee.PeerMetric,void 0,(function(t){var s={};if(t.length>0){var n,a=new Set(t[t.length-1].map((function(e){return e.id}))),i=Object(qt.a)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r){var c,o=Object(qt.a)(r);try{for(o.s();!(c=o.n()).done;){var l=c.value;if(a.has(l.id)){var d,u=He.formatPeerAddress(l),h=e.state.cmi?e.state.cmi:0,p=e.state.lmi?e.state.lmi:0,b=He.calculateHealth(l,h,p);s[l.id]||(s[l.id]={id:l.id,address:"",health:0,relation:l.relation,newBlocksTotal:[],sentBlocksTotal:[],newBlocksDiff:[],sentBlocksDiff:[],lastUpdateTime:0}),s[l.id].id=l.id,s[l.id].alias=l.alias,s[l.id].address=u,s[l.id].health=b,s[l.id].relation=l.relation,s[l.id].lastUpdateTime=Date.now(),null!==(d=l.multiAddresses)&&void 0!==d&&d.length&&(s[l.id].originalAddress=l.multiAddresses[0]),l.gossip&&(s[l.id].newBlocksTotal.push(l.gossip.metrics.newBlocks),s[l.id].sentBlocksTotal.push(l.gossip.metrics.sentBlocks)),s[l.id].newBlocksDiff=[];for(var v=1;v<s[l.id].newBlocksTotal.length;v++)s[l.id].newBlocksDiff.push(Math.max(s[l.id].newBlocksTotal[v]-s[l.id].newBlocksTotal[v-1],0));s[l.id].sentBlocksDiff=[];for(var j=1;j<s[l.id].sentBlocksTotal.length;j++)s[l.id].sentBlocksDiff.push(Math.max(s[l.id].sentBlocksTotal[j]-s[l.id].sentBlocksTotal[j-1],0))}}}catch(m){o.e(m)}finally{o.f()}}}}catch(m){i.e(m)}finally{i.f()}}e.setState({peers:He.sortPeers(Object.values(s))})})),this._syncStatusSubscription=this._metricsService.subscribe(Ee.SyncStatus,(function(t){if(t){var s=t.cmi,n=t.lmi;s&&s!==e.state.cmi&&e.setState({cmi:s}),n&&n!==e.state.lmi&&e.setState({lmi:n})}}))}},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),this._peersSubscription&&(this._metricsService.unsubscribe(this._peersSubscription),this._peersSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}},{key:"render",value:function(){var e,t=this;return Object(dt.jsx)("div",{className:"peers",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)("div",{className:"row spread",children:[Object(dt.jsx)("h2",{children:"Peers"}),Object(dt.jsxs)("div",{className:"row",children:[Object(dt.jsx)("button",{type:"button",onClick:function(){return t.toggleBlindMode()},className:"peers--icon-button",children:this.state.blindMode?Object(dt.jsx)(Qn,{}):Object(dt.jsx)(Gn,{})}),Object(dt.jsx)("button",{type:"button",className:"add-button",onClick:function(){return t.setState({dialogType:"add",dialogIsEdit:!0,dialogPeerId:"",dialogPeerAddress:"",dialogPeerAlias:"",dialogStatus:"",dialogBusy:!1})},children:"Add Peer"})]})]}),Object(dt.jsxs)("div",{className:"peers-panel",children:[0===this.state.peers.length&&Object(dt.jsx)("p",{className:"margin-t-s",children:"There are no peers."}),this.state.peers.map((function(e,s){var n,a,i,r;return Object(dt.jsx)("div",{className:"peers-panel--item",children:Object(dt.jsxs)("div",{className:"card col padding-m",children:[Object(dt.jsxs)("div",{className:"row middle",children:[Object(dt.jsxs)("span",{className:"peer-health",children:[0===e.health&&Object(dt.jsx)(nt,{}),1===e.health&&Object(dt.jsx)(aa,{}),2===e.health&&Object(dt.jsx)(lt,{})]}),Object(dt.jsxs)("div",{className:"peer-id word-break-all",children:[Object(dt.jsxs)("span",{children:[t.state.blindMode&&"*".repeat((null!==(n=e.alias)&&void 0!==n?n:e.id).length),!t.state.blindMode&&(null!==(a=e.alias)&&void 0!==a?a:e.id)]}),Object(dt.jsx)("span",{children:t.state.blindMode?"*".repeat(null!==(i=null===(r=e.address)||void 0===r?void 0:r.length)&&void 0!==i?i:10):e.address})]})]}),Object(dt.jsx)(Hn,{caption:"Blocks per Second",seriesMaxLength:15,timeInterval:1e3,timeMarkers:5,endTime:e.lastUpdateTime,series:[{className:"bar-color-1",label:"Incoming",values:e.newBlocksDiff},{className:"bar-color-2",label:"Outgoing",values:e.sentBlocksDiff}]}),Object(dt.jsxs)("div",{className:"row peer-actions",children:[Object(dt.jsxs)("p",{className:"margin-t-s padding-t",children:["Relation: ","".concat(e.relation.slice(0,1).toUpperCase()).concat(e.relation.slice(1))]}),"known"!==e.relation&&e.originalAddress&&Object(dt.jsx)("button",{type:"button",className:"card--action margin-t-s",onClick:function(){var s;return t.setState({dialogType:"promote",dialogIsEdit:!0,dialogPeerAddress:null!==(s=e.originalAddress)&&void 0!==s?s:"",dialogPeerAlias:"",dialogPeerId:e.id,dialogStatus:"",dialogBusy:!1})},children:"Promote to Known"}),"known"===e.relation&&Object(dt.jsx)("button",{type:"button",className:"card--action margin-t-s",onClick:function(){var s,n;return t.setState({dialogType:"edit",dialogIsEdit:!0,dialogPeerAddress:null!==(s=e.originalAddress)&&void 0!==s?s:"",dialogPeerAlias:null!==(n=e.alias)&&void 0!==n?n:"",dialogPeerId:e.id,dialogPeerIdOriginal:e.id,dialogStatus:"",dialogBusy:!1})},children:"Edit"}),Object(dt.jsx)("button",{type:"button",className:"card--action card--action-danger margin-t-s",onClick:function(){return t.setState({dialogType:"delete",dialogIsEdit:!1,dialogPeerId:e.id,dialogPeerAddress:"",dialogPeerAlias:"",dialogStatus:"",dialogBusy:!1})},children:"Delete"}),Object(dt.jsxs)(d.b,{to:"/peers/".concat(e.id),className:"card--action row middle inline margin-t-s",children:[Object(dt.jsx)("span",{className:"margin-r-s",children:"More details"}),Object(dt.jsx)(fn,{className:"secondary"})]})]})]})},s)}))]}),this.state.dialogType&&Object(dt.jsxs)(ha,{title:{add:"Add Peer",edit:"Edit Peer",promote:"Promote to Known",delete:"Delete Confirmation"}[this.state.dialogType],actions:[Object(dt.jsx)("button",{type:"button",onClick:function(){return t.state.dialogIsEdit?t.peerConfigure():t.peerDelete()},disabled:this.state.dialogBusy||this.state.dialogIsEdit&&(0===this.state.dialogPeerAddress.trim().length||0===(null===(e=this.state.dialogPeerId)||void 0===e?void 0:e.trim().length)),children:this.state.dialogIsEdit?"OK":"Yes"},0),Object(dt.jsx)("button",{type:"button",onClick:function(){return t.setState({dialogPeerId:void 0,dialogPeerIdOriginal:void 0,dialogType:void 0})},disabled:this.state.dialogBusy,children:this.state.dialogIsEdit?"Cancel":"No"},1)],children:["delete"===this.state.dialogType&&Object(dt.jsx)("p",{className:"margin-b-l",children:"Are you sure you want to delete the peer?"}),this.state.dialogIsEdit&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("p",{children:["Please enter the details of the peer to ",this.state.dialogType,"."]}),Object(dt.jsx)("div",{className:"dialog--label",children:"Address"}),Object(dt.jsx)("div",{className:"dialog--value",children:Object(dt.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. /ip4/127.0.0.1/tcp/15600",value:this.state.dialogPeerAddress,disabled:this.state.dialogBusy,onChange:function(e){return t.setState({dialogPeerAddress:e.target.value})}})}),Object(dt.jsx)("div",{className:"dialog--label",children:"Id"}),Object(dt.jsx)("div",{className:"dialog--value",children:Object(dt.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. 12D3KooWC7uE9w3RN4Vh1FJAZa8SbE8yMWR6wCVBajcWpyWguV73",value:this.state.dialogPeerId,disabled:this.state.dialogBusy,onChange:function(e){return t.setState({dialogPeerId:e.target.value})}})}),Object(dt.jsx)("div",{className:"dialog--label",children:"Alias"}),Object(dt.jsx)("div",{className:"dialog--value",children:Object(dt.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. My Friend's Node",value:this.state.dialogPeerAlias,disabled:this.state.dialogBusy,onChange:function(e){return t.setState({dialogPeerAlias:e.target.value})}})})]}),this.state.dialogBusy&&Object(dt.jsx)(ds,{}),Object(dt.jsx)("p",{className:Je()("margin-t-l",{danger:!this.state.dialogBusy}),children:this.state.dialogStatus})]})]})})}},{key:"peerConfigure",value:function(){var e=this;this.setState({dialogBusy:!0,dialogStatus:"add"===this.state.dialogType?"Adding peer, please wait...":"Promoting peer, please wait..."},Object(i.a)(Object(a.a)().mark((function t(){var s,n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=Me.a.get("tangle"),t.prev=1,"edit"!==e.state.dialogType||!e.state.dialogPeerIdOriginal){t.next=5;break}return t.next=5,s.peerDelete(e.state.dialogPeerIdOriginal);case 5:return(n=e.state.dialogPeerAddress).endsWith("/")||(n+="/"),n+="p2p/".concat(e.state.dialogPeerId),t.next=10,s.peerAdd(n,e.state.dialogPeerAlias);case 10:e.setState({dialogBusy:!1,dialogStatus:"",dialogPeerId:void 0,dialogType:void 0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),t.t0 instanceof Error&&e.setState({dialogBusy:!1,dialogStatus:"Failed to ".concat(e.state.dialogType," peer: ").concat(t.t0.message)});case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))))}},{key:"peerDelete",value:function(){var e=this;this.setState({dialogBusy:!0,dialogStatus:"Deleting peer, please wait..."},Object(i.a)(Object(a.a)().mark((function t(){var s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.dialogPeerId){t.next=11;break}return s=Me.a.get("tangle"),t.prev=2,t.next=5,s.peerDelete(e.state.dialogPeerId);case 5:e.setState({dialogBusy:!1,dialogStatus:"",dialogPeerId:void 0,dialogType:void 0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),t.t0 instanceof Error&&e.setState({dialogBusy:!1,dialogStatus:"Failed to delete peer: ".concat(t.t0.message)});case 11:case"end":return t.stop()}}),t,null,[[2,8]])}))))}},{key:"toggleBlindMode",value:function(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}]),s}(Le)),ba=Object(f.g)(pa),va=(s(136),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={activeTab:e.activeTab.toLowerCase()},n}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.activeTab.toLowerCase()!==e.activeTab.toLowerCase()&&this.setState({activeTab:this.props.activeTab.toLowerCase()})}},{key:"render",value:function(){var e,t=this;return Object(dt.jsxs)("div",{className:"tab-panel",children:[Object(dt.jsx)("div",{className:"tab-panel--buttons",children:this.props.tabs.map((function(e){return Object(dt.jsxs)("button",{type:"button",className:Je()("tab-panel--button",{"tab-panel--button__selected":e.toLowerCase()===t.state.activeTab}),onClick:function(s){return t.setState({activeTab:e.toLowerCase()},(function(){t.props.onTabChanged&&t.props.onTabChanged(t.state.activeTab)}))},children:[Object(dt.jsx)("div",{children:e}),Object(dt.jsx)("div",{className:"underline"})]},e)}))}),null===(e=this.props.children)||void 0===e?void 0:e.flat().map((function(e,s){return Object(dt.jsx)(c.a.Fragment,{children:c.a.isValidElement(e)&&e.props["data-label"]&&e.props["data-label"].toLowerCase()===t.state.activeTab&&e},s)}))]})}}]),s}(r.Component)),ja=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"json",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,s,n,i,r,c){var o,l,d,u,h;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null!==(o=r)&&void 0!==o?o:{})["Content-Type"]="application/json",void 0!==c&&(l=new AbortController,d=setTimeout((function(){l&&l.abort()}),c)),e.prev=3,e.next=6,fetch("".concat(t.replace(/\/$/,""),"/").concat(s.replace(/^\//,"")),{method:n,headers:r,body:i?JSON.stringify(i):void 0,signal:l?l.signal:void 0});case 6:if(204!==(u=e.sent).status){e.next=11;break}e.t0={},e.next=14;break;case 11:return e.next=13,u.json().catch((function(e){throw new Error("Fetched failed: ".concat(e.message))}));case 13:e.t0=e.sent;case 14:return h=e.t0,e.abrupt("return",h);case 18:if(e.prev=18,e.t1=e.catch(3),!(e.t1 instanceof Error)){e.next=24;break}throw"AbortError"===e.t1.name?new Error("Timeout"):e.t1;case 24:throw e.t1;case 25:return e.prev=25,d&&clearTimeout(d),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[3,18,25,28]])})));return function(t,s,n,a,i,r){return e.apply(this,arguments)}}()},{key:"text",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,s,n,i,r,c){var o,l,d,u,h;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null!==(o=r)&&void 0!==o?o:{})["Content-Type"]="text/plain",void 0!==c&&(l=new AbortController,d=setTimeout((function(){l&&l.abort()}),c)),e.prev=3,e.next=6,fetch("".concat(t.replace(/\/$/,""),"/").concat(s.replace(/^\//,"")),{method:n,headers:r,body:i?JSON.stringify(i):void 0,signal:l?l.signal:void 0});case 6:if(204!==(u=e.sent).status){e.next=11;break}e.t0={},e.next=14;break;case 11:return e.next=13,u.json().catch((function(e){throw new Error("Fetched failed: ".concat(u.statusText))}));case 13:e.t0=e.sent;case 14:return h=e.t0,e.abrupt("return",h);case 18:if(e.prev=18,e.t1=e.catch(3),!(e.t1 instanceof Error)){e.next=24;break}throw"AbortError"===e.t1.name?new Error("Timeout"):e.t1;case 24:throw e.t1;case 25:return e.prev=25,d&&clearTimeout(d),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[3,18,25,28]])})));return function(t,s,n,a,i,r){return e.apply(this,arguments)}}()},{key:"urlParams",value:function(e){var t=[];for(var s in e)null!==e[s]&&void 0!==e[s]&&t.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(e[s])));return t.length>0?"?".concat(t.join("&")):""}}]),e}(),ma=(s(137),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={events:{},eventIds:[],eventInfo:""},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.fetchEvents();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,s){var n,i,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.eventIds===s.eventIds){e.next=21;break}n=this.state.eventIds.filter((function(e){return!s.eventIds.includes(e)})),i=Object(qt.a)(n),e.prev=3,i.s();case 5:if((r=i.n()).done){e.next=13;break}return c=r.value,e.next=9,this.fetchEventInfo(c);case 9:return e.next=11,this.fetchEventStatus(c);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})));return function(t,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,s,n,r,o,l,d,u,h,p,b=this;return Object(dt.jsx)("div",{className:"participation",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsx)("div",{className:"row end",children:Object(dt.jsx)("button",{type:"button",className:"add-button",onClick:function(){return b.setState({dialogType:"add",dialogStatus:"",dialogBusy:!1})},children:"Add Event"})}),Object(dt.jsxs)("div",{className:"events-panel",children:[0===this.state.eventIds.length&&Object(dt.jsx)("p",{className:"margin-t-s",children:"There are no events."}),this.state.eventIds.map((function(e,t){var s,n,a=b.state.events[e];return Object(dt.jsx)("div",{className:"events-panel--item",children:Object(dt.jsxs)("div",{className:"card col padding-m",children:[Object(dt.jsxs)("div",{className:"col",children:[Object(dt.jsx)("div",{className:"event-id word-break-all margin-b-s",children:Object(dt.jsxs)("span",{children:[Object(dt.jsx)("h4",{children:"ID"})," ",e]})}),Object(dt.jsxs)("div",{className:"event-item event-item--stretch",children:[Object(dt.jsx)("h4",{children:"Name"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===a||void 0===a?void 0:a.name})]})]}),Object(dt.jsxs)("div",{className:"row wrap",children:[Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Milestone index commence"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===a||void 0===a?void 0:a.milestoneIndexCommence})]}),Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Milestone index start"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===a||void 0===a?void 0:a.milestoneIndexStart})]}),Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Milestone index end"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===a||void 0===a?void 0:a.milestoneIndexEnd})]}),Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Type"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:0===(null===a||void 0===a?void 0:a.payload.type)?"Ballot":"Staking"})]}),Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Status"}),Object(dt.jsxs)("div",{className:"event-value word-break-all",children:[null===a||void 0===a||null===(s=a.status)||void 0===s?void 0:s.status.slice(0,1).toUpperCase(),null===a||void 0===a||null===(n=a.status)||void 0===n?void 0:n.status.slice(1)]})]})]}),Object(dt.jsxs)("div",{className:"row event-actions",children:[Object(dt.jsx)("button",{type:"button",className:"card--action card--action margin-t-s margin-r-s",onClick:function(){return b.setState({dialogType:"details",dialogStatus:"",dialogBusy:!1,dialogDetailsEvent:b.state.events[e]})},children:"More details"}),Object(dt.jsx)("button",{type:"button",className:"card--action card--action-danger margin-t-s",onClick:function(){return b.setState({dialogType:"delete",dialogStatus:"",dialogBusy:!1,deleteId:e})},children:"Delete"})]})]})},t)}))]}),this.state.dialogType&&Object(dt.jsxs)(ha,{title:{add:"Add Event",delete:"Delete Event",details:"Event details"}[this.state.dialogType],actions:[Object(dt.jsx)("button",{className:"details"===this.state.dialogType?"d-none":"",type:"button",onClick:Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==b.state.dialogType){e.next=5;break}return e.next=3,b.submitEvent();case 3:e.next=8;break;case 5:if(!b.state.deleteId){e.next=8;break}return e.next=8,b.eventDelete(b.state.deleteId);case 8:case"end":return e.stop()}}),e)}))),disabled:this.state.dialogBusy||"add"===this.state.dialogType&&(!this.state.eventInfo||0===this.state.eventInfo.trim().length||!this.validateJsonOrUrl(null===(e=this.state)||void 0===e?void 0:e.eventInfo)),children:"add"===this.state.dialogType?"OK":"Yes"},0),Object(dt.jsx)("button",{type:"button",onClick:function(){return b.setState({dialogType:void 0,deleteId:void 0,dialogDetailsEvent:void 0})},disabled:this.state.dialogBusy,children:"add"===this.state.dialogType||"details"===this.state.dialogType?"Cancel":"No"},1)],children:["delete"===this.state.dialogType&&Object(dt.jsx)("p",{className:"margin-b-l",children:"Are you sure you want to delete the event \n                                    ".concat(this.state.deleteId?this.state.events[this.state.deleteId].name:"","?")}),"details"===this.state.dialogType&&this.state.dialogDetailsEvent&&Object(dt.jsxs)("div",{className:"row wrap",children:[Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Milestone index"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===(t=this.state.dialogDetailsEvent.status)||void 0===t?void 0:t.milestoneIndex})]}),Object(dt.jsxs)("div",{className:"event-item",children:[Object(dt.jsx)("h4",{children:"Status"}),Object(dt.jsxs)("div",{className:"event-value word-break-all",children:[null===(s=this.state.dialogDetailsEvent.status)||void 0===s?void 0:s.status.slice(0,1).toUpperCase(),null===(n=this.state.dialogDetailsEvent.status)||void 0===n?void 0:n.status.slice(1)]})]}),0===this.state.dialogDetailsEvent.payload.type&&Object(dt.jsx)("div",{children:null===(r=this.state.dialogDetailsEvent.payload.questions)||void 0===r?void 0:r.map((function(e,t){return Object(dt.jsxs)("div",{className:"event-item--highlight margin-b-s",children:[Object(dt.jsxs)("div",{className:"event-item event-item--stretch",children:[Object(dt.jsx)("h4",{children:"Question"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:e.text})]}),e.answers.map((function(e,s){var n,a,i,r;return Object(dt.jsxs)("div",{className:"row wrap",children:[Object(dt.jsxs)("div",{className:"event-item event-item--small",children:[Object(dt.jsx)("h4",{children:"Answer"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:e.text})]}),Object(dt.jsxs)("div",{className:"event-item event-item--small",children:[Object(dt.jsx)("h4",{children:"current"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null!==(n=b.state.dialogDetailsEvent)&&void 0!==n&&null!==(a=n.status)&&void 0!==a&&a.questions?b.state.dialogDetailsEvent.status.questions[t].answers[s].current:""})]}),Object(dt.jsxs)("div",{className:"event-item event-item--small",children:[Object(dt.jsx)("h4",{children:"accumulated"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null!==(i=b.state.dialogDetailsEvent)&&void 0!==i&&null!==(r=i.status)&&void 0!==r&&r.questions?b.state.dialogDetailsEvent.status.questions[t].answers[s].accumulated:""})]})]},s)}))]},t)}))}),1===this.state.dialogDetailsEvent.payload.type&&Object(dt.jsxs)("div",{className:"row event-item--highlight margin-b-s",children:[Object(dt.jsxs)("div",{className:"event-item event-item--small",children:[Object(dt.jsx)("h4",{children:"Symbol"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===(o=this.state.dialogDetailsEvent.status)||void 0===o||null===(l=o.staking)||void 0===l?void 0:l.symbol})]}),Object(dt.jsxs)("div",{className:"event-item event-item--small",children:[Object(dt.jsx)("h4",{children:"Staked"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===(d=this.state.dialogDetailsEvent.status)||void 0===d||null===(u=d.staking)||void 0===u?void 0:u.staked})]}),Object(dt.jsxs)("div",{className:"event-item event-item--small",children:[Object(dt.jsx)("h4",{children:"Rewarded"}),Object(dt.jsx)("div",{className:"event-value word-break-all",children:null===(h=this.state.dialogDetailsEvent.status)||void 0===h||null===(p=h.staking)||void 0===p?void 0:p.rewarded})]})]})]}),"add"===this.state.dialogType&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsxs)("p",{children:["Please enter the details of the event to ",this.state.dialogType,"."]}),Object(dt.jsx)("div",{className:"dialog--label",children:"JSON Configuration or URL"}),Object(dt.jsxs)("div",{className:"dialog--value",children:[Object(dt.jsx)("textarea",{className:"textarea--stretch dialog--value-textarea dialog--value-textarea__json",placeholder:'e.g. { "name":"Example event title"... } or http://example.com',value:this.state.eventInfo,disabled:this.state.dialogBusy,onChange:function(e){return b.setState({eventInfo:e.target.value})}}),this.state.eventInfo&&!this.validateJsonOrUrl(this.state.eventInfo)&&Object(dt.jsx)("span",{className:"validation--error",children:"Not a valid JSON or URL"})]})]}),this.state.dialogBusy&&Object(dt.jsx)(ds,{}),Object(dt.jsx)("p",{className:Je()("margin-t-l",{danger:!this.state.dialogBusy}),children:this.state.dialogStatus})]})]})})}},{key:"fetchEvents",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/events","get",void 0,s.buildAuthHeaders());case 3:null!==(t=e.sent)&&void 0!==t&&t.eventIds?this.setState({eventIds:t.eventIds}):console.log(t.error),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchEventInfo",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/events/".concat(t),"get",void 0,s.buildAuthHeaders());case 3:null!==(n=e.sent)&&void 0!==n&&n.error?console.log(n.error):this.setState((function(e){return{events:Object(u.a)(Object(u.a)({},e.events),{},Object(as.a)({},t,n))}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchEventStatus",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/events/".concat(t,"/status"),"get",void 0,s.buildAuthHeaders());case 3:null!==(n=e.sent)&&void 0!==n&&n.error?console.log(n.error):this.state.events[t]&&this.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},{events:Object(u.a)(Object(u.a)({},e.events),{},Object(as.a)({},t,Object(u.a)(Object(u.a)({},e.events[t]),{},{status:n})))})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitEvent",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.eventInfo){e.next=21;break}return e.prev=1,e.next=4,this.eventAdd(JSON.parse(this.state.eventInfo));case 4:e.next=21;break;case 6:return e.prev=6,e.t0=e.catch(1),e.prev=8,t=new URL(this.state.eventInfo),e.next=12,this.fetchEventJsonConfig(t);case 12:if(!(s=e.sent)){e.next=16;break}return e.next=16,this.eventAdd(s);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(8),e.t1 instanceof Error&&this.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(e.t1.message)});case 21:case"end":return e.stop()}}),e,this,[[1,6],[8,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"eventAdd",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogBusy:!0,dialogStatus:"Adding event, please wait..."},Object(i.a)(Object(a.a)().mark((function e(){var i,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/admin/events","post",t,s.buildAuthHeaders());case 3:(i=e.sent).eventId?(r=i.eventId,n.setState((function(e){return{eventIds:[r].concat(Object(ns.a)(e.eventIds)),dialogBusy:!1,dialogStatus:"",dialogType:void 0,eventInfo:void 0}}))):n.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(null===(c=i.error)||void 0===c?void 0:c.message)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&n.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eventDelete",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogBusy:!0,dialogStatus:"Deleting event, please wait..."},Object(i.a)(Object(a.a)().mark((function e(){var i,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/admin/events/".concat(t),"delete",void 0,s.buildAuthHeaders());case 3:i=e.sent,0===Object.keys(i).length?n.setState({eventIds:n.state.eventIds.filter((function(e){return e!==t})),dialogBusy:!1,dialogStatus:"",dialogType:void 0}):(n.setState({dialogBusy:!1,dialogStatus:"Failed to delete event: ".concat(null===(r=i.error)||void 0===r?void 0:r.message)}),console.log(i.error)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&n.setState({dialogBusy:!1,dialogStatus:"Failed to delete event: ".concat(e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchEventJsonConfig",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json(t.origin,t.pathname,"get");case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),e.prev=9,e.next=12,ja.text(t.origin,t.pathname,"get");case 12:return n=e.sent,e.abrupt("return",n);case 16:e.prev=16,e.t1=e.catch(9),e.t1 instanceof Error&&this.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(e.t1.message)});case 19:case"end":return e.stop()}}),e,this,[[0,7],[9,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"validateJsonOrUrl",value:function(e){try{return JSON.parse(e),!0}catch(s){try{var t=new URL(e);return Boolean(t)}catch(n){return!1}}}}],[{key:"initPlugin",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s._isAvailable=!1,t=Me.a.get("tangle"),e.prev=2,e.next=5,t.info();case 5:e.sent.plugins.includes("participation/v1")&&(s._isAvailable=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"pluginDetails",value:function(){if(s._isAvailable)return{title:s.PLUGIN_TITLE,description:s.PLUGIN_DESCRIPTION,settings:Object(dt.jsx)(s,{})}}},{key:"buildAuthHeaders",value:function(){var e=Me.a.get("auth"),t={},s=e.isLoggedIn();s&&(t.Authorization="Bearer ".concat(s));var n=e.csrf();return n&&(t["X-CSRF-Token"]=n),t}}]),s}(Le));ma.PLUGIN_TITLE="Participation",ma.PLUGIN_DESCRIPTION="Manage on-tangle ballots and staking events tracked by the node.",ma._isAvailable=!1;var fa,Oa,ga=ma,xa=(s(138),["title","titleId"]);function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ya.apply(this,arguments)}function ka(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function _a(e,t){var s=e.title,n=e.titleId,a=ka(e,xa);return r.createElement("svg",ya({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,fa||(fa=r.createElement("g",{filter:"url(#filter0_d)"},r.createElement("circle",{cx:14,cy:14,r:12,fill:"currentColor"}))),Oa||(Oa=r.createElement("defs",null,r.createElement("filter",{id:"filter0_d",x:0,y:0,width:28,height:28,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:1}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.375 0 0 0 0 0.375 0 0 0 0 0.375 0 0 0 0.25 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))}var Sa=r.forwardRef(_a),wa=(s.p,function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={value:e.value},n}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"render",value:function(){var e=this;return Object(dt.jsx)("button",{type:"button",className:Je()("toggle-button",{"toggle-button--checked":this.state.value}),onClick:function(t){return e.setState({value:!e.state.value},(function(){e.props.onChanged(e.state.value)}))},children:Object(dt.jsx)("div",{className:"icon-container",children:Object(dt.jsx)(Sa,{})})})}}]),s}(r.Component)),Na=(s(139),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={isRunning:!1,bps:"1",cpu:"80",workers:"0",workersMax:0},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.pluginStatus();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(dt.jsx)("div",{className:"card padding-l",children:Object(dt.jsxs)("div",{className:"spammer",children:[Object(dt.jsx)("h2",{children:s.PLUGIN_TITLE}),Object(dt.jsx)("p",{className:"margin-t-s",children:s.PLUGIN_DESCRIPTION}),Object(dt.jsx)("div",{className:"card--label",children:"Running"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)(wa,{value:this.state.isRunning,onChanged:function(){var t=Object(i.a)(Object(a.a)().mark((function t(s){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s?e.pluginStart():e.pluginStop();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),Object(dt.jsx)("h2",{className:"margin-t-s",children:"Settings"}),Object(dt.jsx)("div",{className:"card--label",children:"Blocks Per Second"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)("input",{type:"text",value:this.state.bps,disabled:!this.state.isRunning,onChange:function(t){return e.setState({bps:t.target.value})},onBlur:function(t){return e.validateSettings()}})}),Object(dt.jsx)("div",{className:"card--label",children:"CPU Utilization"}),Object(dt.jsxs)("div",{className:"card--value row middle",children:[Object(dt.jsx)("input",{type:"text",value:this.state.cpu,disabled:!this.state.isRunning,onChange:function(t){return e.setState({cpu:t.target.value})},onBlur:function(t){return e.validateSettings()}}),Object(dt.jsx)("p",{className:"margin-l-t",children:"%"})]}),Object(dt.jsx)("div",{className:"card--label",children:"Number of Workers"}),Object(dt.jsx)("div",{className:"card--value row",children:Object(dt.jsx)("input",{type:"text",value:this.state.workers,disabled:!this.state.isRunning,onChange:function(t){return e.setState({workers:t.target.value})},onBlur:function(t){return e.validateSettings()}})}),Object(dt.jsx)("hr",{}),Object(dt.jsx)("div",{className:"card--value",children:Object(dt.jsx)("button",{className:"card--action margin-r-s",type:"button",disabled:!this.state.isRunning,onClick:function(){var t=Object(i.a)(Object(a.a)().mark((function t(s){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.pluginStart());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Apply"})})]})})}},{key:"pluginStatus",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/v1/status","get",void 0,s.buildAuthHeaders());case 3:null!==(t=e.sent)&&void 0!==t&&t.error?console.log("loging eror",t.error):this.setState({isRunning:t.running,bps:t.bpsRateLimit.toString(),cpu:(100*t.cpuMaxUsage).toString(),workers:t.spammerWorkers.toString(),workersMax:t.spammerWorkersMax}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"validateSettings",value:function(){var e=Number.parseFloat(this.state.bps);Number.isNaN(e)&&this.setState({bps:"1"});var t=Number.parseFloat(this.state.cpu);(Number.isNaN(t)||t<0||t>100)&&this.setState({cpu:"80"});var s=Number.parseInt(this.state.workers,10);(Number.isNaN(s)||s<=0||s>this.state.workersMax)&&this.setState({workers:this.state.workersMax.toString()})}},{key:"pluginStart",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/v1/start","post",{bpsRateLimit:Number.parseFloat(this.state.bps),cpuMaxUsage:Number.parseFloat(this.state.cpu)/100,spammerWorkers:Number.parseInt(this.state.workers,10)},s.buildAuthHeaders());case 3:return e.next=5,this.pluginStatus();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"pluginStop",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/v1/stop","post",void 0,s.buildAuthHeaders());case 3:return e.next=5,this.pluginStatus();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"initPlugin",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s._isAvailable=!1,t=Me.a.get("tangle"),e.prev=2,e.next=5,t.info();case 5:e.sent.plugins.includes("spammer/v1")&&(s._isAvailable=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"pluginDetails",value:function(){if(s._isAvailable)return{title:s.PLUGIN_TITLE,description:s.PLUGIN_DESCRIPTION,settings:Object(dt.jsx)(s,{})}}},{key:"buildAuthHeaders",value:function(){var e=Me.a.get("auth"),t={},s=e.isLoggedIn();s&&(t.Authorization="Bearer ".concat(s));var n=e.csrf();return n&&(t["X-CSRF-Token"]=n),t}}]),s}(Le));Na.PLUGIN_TITLE="Spammer",Na.PLUGIN_DESCRIPTION="Spam the IOTA network with data blocks.",Na._isAvailable=!1;var Ca,Ia=Na,Ta=(s(140),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._authService=void 0,n._authService=Me.a.get("auth"),n.state={plugins:[]},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,n,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),t=[],this._authService.isLoggedIn()&&((n=Ia.pluginDetails())&&t.push(n),(i=ga.pluginDetails())&&t.push(i)),t.length>0&&this.setState({activeTab:t[0].title}),this.setState({plugins:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(dt.jsx)("div",{className:"plugins",children:Object(dt.jsxs)("div",{className:"content",children:[0===this.state.plugins.length&&Object(dt.jsxs)("p",{className:"margin-t-s",children:["No plugins enabled which are supported by the dashboard.",Object(dt.jsx)("br",{}),"More information about managing plugins can be found on the"," ",Object(dt.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://wiki.iota.org/hornet/post_installation/managing_a_node#plugins",children:"Hornet Developer Documentation."})]}),Object(dt.jsx)(va,{tabs:this.state.plugins.map((function(e){return e.title})),activeTab:this.state.activeTab?this.state.activeTab:"",onTabChanged:function(t){e.setState({activeTab:t})},children:this.state.plugins.map((function(e,t){return Object(dt.jsx)("div",{"data-label":e.title,children:e.settings},t)}))})]})})}}]),s}(Le)),Ea=Ta,Pa=(s(141),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={statusBusy:!0,redirect:"",error:""},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),this.trySearch()}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.trySearch()}},{key:"render",value:function(){return this.state.redirect.length>0?Object(dt.jsx)(f.a,{to:this.state.redirect}):Object(dt.jsx)("div",{className:"search",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(dt.jsx)(es,{className:"secondary"}),Object(dt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsx)("h2",{className:"margin-b-m",children:"Search"}),this.state.statusBusy&&Object(dt.jsx)(ds,{}),!this.state.statusBusy&&Object(dt.jsxs)(c.a.Fragment,{children:[this.state.error&&Object(dt.jsx)("p",{className:"danger",children:this.state.error}),Object(dt.jsx)("br",{}),Object(dt.jsx)("p",{children:"Please try again with your query in one of the following formats:"}),Object(dt.jsx)("br",{}),Object(dt.jsxs)("ul",{children:[Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Blocks"}),Object(dt.jsx)("span",{children:"64 Hex characters"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Block using Transaction Id"}),Object(dt.jsx)("span",{children:"64 Hex characters"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Addresses"}),Object(dt.jsx)("span",{children:"64 Hex characters or Bech32 Format"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Nft/Alias Addresses"}),Object(dt.jsx)("span",{children:"40 Hex characters or Bech32 Format"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Outputs"}),Object(dt.jsx)("span",{children:"68 Hex characters or tag"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Foundry Id"}),Object(dt.jsx)("span",{children:"52 Hex characters"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Token Id"}),Object(dt.jsx)("span",{children:"76 Hex characters"})]}),Object(dt.jsxs)("li",{children:[Object(dt.jsx)("span",{children:"Milestone Index"}),Object(dt.jsx)("span",{children:"Numeric"})]})]})]})]})]})})}},{key:"trySearch",value:function(){var e,t=this,s=(null!==(e=this.props.match.params.query)&&void 0!==e?e:"").trim();s.length>0?this.setState({statusBusy:!0},Object(i.a)(Object(a.a)().mark((function e(){var n,i,r,c,o,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Me.a.get("tangle"),e.next=3,n.search(s);case 3:if(i=e.sent,r="",i)if(i.unavailable)r="/explorer/unavailable";else{if(o=s,i.block){c="block",l=new ts.WriteStream;try{Object(Fe.serializeBlock)(l,i.block)}catch(a){a instanceof Error&&console.log(a.message)}o=ts.Converter.bytesToHex(xs.Blake2b.sum256(l.finalBytes()),!0)}else null!==i&&void 0!==i&&i.address?c="address":i.output?(c="block",o=i.output.metadata.blockId):i.milestone&&(c="milestone",o=i.milestone.index.toString());c&&(r="/explorer/".concat(c,"/").concat(o))}t.setState({error:r.length>0?"":"Nothing could be found for the search.",statusBusy:!1,redirect:r});case 7:case"end":return e.stop()}}),e)})))):this.setState({statusBusy:!1,error:"The search is empty."})}}]),s}(Le)),Ma=(s(142),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).state={},n}return Object(p.a)(s,[{key:"render",value:function(){return Object(dt.jsx)("div",{className:"unavailable",children:Object(dt.jsxs)("div",{className:"content",children:[Object(dt.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(dt.jsx)(es,{className:"secondary"}),Object(dt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(dt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(dt.jsx)("h2",{className:"margin-b-m",children:"Service Unavailable"}),Object(dt.jsx)("p",{children:"The node is currently unavailable or is not synced, please try again later."})]})]})})}}]),s}(Le)),Da=s(25),Ba=s.n(Da),Aa=["title","titleId"];function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},La.apply(this,arguments)}function Ra(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Ua(e,t){var s=e.title,n=e.titleId,a=Ra(e,Aa);return r.createElement("svg",La({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Ca||(Ca=r.createElement("path",{d:"M7.6151 6.00057L11.6514 1.96311C11.7605 1.85778 11.8475 1.73179 11.9073 1.59248C11.9671 1.45318 11.9986 1.30335 12 1.15174C12.0013 1.00013 11.9724 0.849774 11.915 0.709449C11.8576 0.569124 11.7728 0.441638 11.6656 0.33443C11.5584 0.227222 11.4309 0.142439 11.2906 0.0850271C11.1502 0.0276156 10.9999 -0.00127433 10.8483 4.31112e-05C10.6967 0.00136056 10.5468 0.032859 10.4075 0.0927004C10.2682 0.152542 10.1422 0.239528 10.0369 0.348583L5.99943 4.3849L1.96311 0.348583C1.85778 0.239528 1.73179 0.152542 1.59248 0.0927004C1.45318 0.032859 1.30335 0.00136056 1.15174 4.31112e-05C1.00013 -0.00127433 0.849774 0.0276156 0.709449 0.0850271C0.569124 0.142439 0.441638 0.227222 0.33443 0.33443C0.227222 0.441638 0.142439 0.569124 0.0850271 0.709449C0.0276156 0.849774 -0.00127433 1.00013 4.31112e-05 1.15174C0.00136056 1.30335 0.032859 1.45318 0.0927004 1.59248C0.152542 1.73179 0.239528 1.85778 0.348583 1.96311L4.3849 5.99943L0.348583 10.0369C0.239528 10.1422 0.152542 10.2682 0.0927004 10.4075C0.032859 10.5468 0.00136056 10.6967 4.31112e-05 10.8483C-0.00127433 10.9999 0.0276156 11.1502 0.0850271 11.2906C0.142439 11.4309 0.227222 11.5584 0.33443 11.6656C0.441638 11.7728 0.569124 11.8576 0.709449 11.915C0.849774 11.9724 1.00013 12.0013 1.15174 12C1.30335 11.9986 1.45318 11.9671 1.59248 11.9073C1.73179 11.8475 1.85778 11.7605 1.96311 11.6514L5.99943 7.6151L10.0369 11.6514C10.1422 11.7605 10.2682 11.8475 10.4075 11.9073C10.5468 11.9671 10.6967 11.9986 10.8483 12C10.9999 12.0013 11.1502 11.9724 11.2906 11.915C11.4309 11.8576 11.5584 11.7728 11.6656 11.6656C11.7728 11.5584 11.8576 11.4309 11.915 11.2906C11.9724 11.1502 12.0013 10.9999 12 10.8483C11.9986 10.6967 11.9671 10.5468 11.9073 10.4075C11.8475 10.2682 11.7605 10.1422 11.6514 10.0369L7.6151 5.99943V6.00057Z",fill:"#9AADCE"})))}var Ha,Fa=r.forwardRef(Ua),za=(s.p,["title","titleId"]);function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Va.apply(this,arguments)}function Ya(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Wa(e,t){var s=e.title,n=e.titleId,a=Ya(e,za);return r.createElement("svg",Va({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Ha||(Ha=r.createElement("path",{d:"M6 3H8C8.53043 3 9.03914 3.21071 9.41421 3.58579C9.78929 3.96086 10 4.46957 10 5V19C10 19.5304 9.78929 20.0391 9.41421 20.4142C9.03914 20.7893 8.53043 21 8 21H6C5.46957 21 4.96086 20.7893 4.58579 20.4142C4.21071 20.0391 4 19.5304 4 19V5C4 4.46957 4.21071 3.96086 4.58579 3.58579C4.96086 3.21071 5.46957 3 6 3V3ZM6 5V19H8V5H6ZM16 3H18C18.5304 3 19.0391 3.21071 19.4142 3.58579C19.7893 3.96086 20 4.46957 20 5V19C20 19.5304 19.7893 20.0391 19.4142 20.4142C19.0391 20.7893 18.5304 21 18 21H16C15.4696 21 14.9609 20.7893 14.5858 20.4142C14.2107 20.0391 14 19.5304 14 19V5C14 4.46957 14.2107 3.96086 14.5858 3.58579C14.9609 3.21071 15.4696 3 16 3V3ZM16 5V19H18V5H16Z",fill:"#9AADCE"})))}var Ga,Ka=r.forwardRef(Wa),Za=(s.p,["title","titleId"]);function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},qa.apply(this,arguments)}function Ja(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Xa(e,t){var s=e.title,n=e.titleId,a=Ja(e,Za);return r.createElement("svg",qa({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,Ga||(Ga=r.createElement("path",{d:"M7.78205 4.3598L19.2432 11.5176L7.92341 18.8969L7.78205 4.3598Z",stroke:"#9AADCE",strokeWidth:2,strokeLinejoin:"round"})))}var $a=r.forwardRef(Xa),Qa=(s.p,s(179),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._graphElement=void 0,n._graph=void 0,n._renderer=void 0,n._graphics=void 0,n._vizualizerService=void 0,n._metricsService=void 0,n._tangleService=void 0,n._themeService=void 0,n._bpsMetricsSubscription=void 0,n._resize=void 0,n._enteredVertexId=void 0,n._graphElement=null,n._resize=function(){return n.resize()},n._vizualizerService=Me.a.get("visualizer"),n._metricsService=Me.a.get("metrics"),n._tangleService=Me.a.get("tangle"),n._themeService=Me.a.get("theme"),n.state={bps:"-",total:"-",tips:"-",referenced:"-",conflicting:"-",solid:"-",isActive:!0,theme:n._themeService.get()},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this._resize),this._vizualizerService.subscribe((function(t,s){"add"===s||"update"===s?e.updateVertex(t):"delete"===s&&e.deleteVertex(t)}),(function(t){e.state.isActive&&e.setState({total:t.total.toString(),tips:t.tips.toString(),referenced:t.total>0?"".concat((t.referenced/t.total*100).toFixed(2),"%"):"-",conflicting:t.total>0?"".concat((t.conflicting/t.total*100).toFixed(2),"%"):"-",solid:t.total>0?"".concat((t.solid/t.total*100).toFixed(2),"%"):"-"})}),(function(t,s,n){return e.referenceVertex(t,s,n)})),this._bpsMetricsSubscription=this._metricsService.subscribe(Ee.BPSMetrics,(function(t){t&&e.state.isActive&&e.setState({bps:t.new.toString()})})),De.subscribe("theme","visualizer",(function(t){e.setState({theme:t},(function(){return e.styleAllLinks()}))}))}},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),this._bpsMetricsSubscription&&(this._metricsService.unsubscribe(this._bpsMetricsSubscription),this._bpsMetricsSubscription=void 0),this._vizualizerService.unsubscribe(),De.unsubscribe("theme","visualizer"),this._graph=void 0,this._graphics=void 0,this._renderer=void 0,this._graphElement=null,window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){var e=this;return Object(dt.jsxs)("div",{className:"visualizer",children:[Object(dt.jsx)("div",{className:"canvas",ref:function(t){return e.setupGraph(t)}}),Object(dt.jsx)("div",{className:"action-panel-container",children:Object(dt.jsx)("div",{className:"card padding-0",children:Object(dt.jsx)("button",{className:"icon-button",type:"button",onClick:function(){return e.toggleActivity()},children:this.state.isActive?Object(dt.jsx)(Ka,{}):Object(dt.jsx)($a,{})})})}),Object(dt.jsx)("div",{className:"stats-panel-container",children:Object(dt.jsxs)("div",{className:"card stats-panel",children:[Object(dt.jsx)("div",{className:"card--label",children:"Blocks"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.total}),Object(dt.jsx)("div",{className:"card--label",children:"BPS"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.bps}),Object(dt.jsx)("div",{className:"card--label",children:"Tips"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.tips}),Object(dt.jsx)("div",{className:"card--label",children:"Referenced"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.referenced}),Object(dt.jsx)("div",{className:"card--label",children:"Conflicting"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.conflicting}),Object(dt.jsx)("div",{className:"card--label",children:"Solid"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.solid})]})}),Object(dt.jsx)("div",{className:"key-panel-container",children:Object(dt.jsxs)("div",{className:"card key-panel",children:[Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--solid"}),Object(dt.jsx)("div",{className:"key-label",children:"Solid"})]}),Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--unsolid"}),Object(dt.jsx)("div",{className:"key-label",children:"Unsolid"})]}),Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--referenced"}),Object(dt.jsx)("div",{className:"key-label",children:"Referenced"})]}),Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--conflicting"}),Object(dt.jsx)("div",{className:"key-label",children:"Conflicting"})]}),Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--milestone"}),Object(dt.jsx)("div",{className:"key-label",children:"Milestone"})]}),Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--unknown"}),Object(dt.jsx)("div",{className:"key-label",children:"Unknown"})]}),Object(dt.jsxs)("div",{className:"key-panel-item",children:[Object(dt.jsx)("div",{className:"key-marker vertex-state--tip"}),Object(dt.jsx)("div",{className:"key-label",children:"Tip"})]})]})}),this.state.selected&&this._graphElement&&Object(dt.jsx)("div",{className:"info-panel-container",children:Object(dt.jsxs)("div",{className:"card fill padding-m",children:[Object(dt.jsxs)("div",{className:"row middle spread",children:[Object(dt.jsxs)("div",{className:"row middle",children:[Object(dt.jsx)("div",{className:Je()("info-panel--key","vertex-state--".concat(this.state.selected.state.toLowerCase()))}),Object(dt.jsxs)("h3",{children:[this.state.selected.state,this.state.selected.title]})]}),Object(dt.jsx)("button",{type:"button",className:"icon-button",onClick:function(){return e.selectNode()},children:Object(dt.jsx)(Fa,{})})]}),Object(dt.jsxs)("div",{className:"col",children:[this.state.selected.vertex.fullId&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Block Id"}),Object(dt.jsx)("div",{className:"card--value",children:Object(dt.jsx)("a",{href:this.calculateBlockLink(this.state.selected.vertex),target:"_blank",rel:"noopener noreferrer",children:this.state.selected.vertex.fullId})})]}),this.state.selected.payload&&this.state.selected.payload.type===Fe.TRANSACTION_PAYLOAD_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Total"}),Object(dt.jsx)("div",{className:"card--value",children:Fe.UnitsHelper.formatBest(this.calculateTotal())})]}),this.state.selected.payload&&this.state.selected.payload.type===Fe.MILESTONE_PAYLOAD_TYPE&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Index"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.selected.payload.index}),Object(dt.jsx)("div",{className:"card--label",children:"Date"}),Object(dt.jsx)("div",{className:"card--value",children:Ge.date(this.state.selected.payload.timestamp,!1)})]}),this.state.selected.payload&&this.state.selected.payload.type===Fe.TAGGED_DATA_PAYLOAD_TYPE&&this.state.selected.payload.tag&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)("div",{className:"card--label",children:"Tag UTF8"}),Object(dt.jsx)("div",{className:"card--value",children:ts.Converter.hexToUtf8(this.state.selected.payload.tag)}),Object(dt.jsx)("div",{className:"card--label",children:"Tag Hex"}),Object(dt.jsx)("div",{className:"card--value",children:this.state.selected.payload.tag})]})]})]})})]})}},{key:"setupGraph",value:function(e){var t=this;if(this._graphElement=e,e&&!this._graph){this._graph=Ba.a.Graph.graph(),this._graphics=Ba.a.Graph.View.webglGraphics();var n=Ba.a.Graph.Layout.forceDirected(this._graph,{springLength:10,springCoeff:1e-4,stableThreshold:.15,gravity:-2,dragCoeff:.02,timeStep:20,theta:.8});this._graphics.node((function(e){return Ba.a.Graph.View.webglSquare(t.calculateSize(e.data),"#".concat(s.STATE_COLOR_MAP[t.calculateState(e.data)].toString(16)))})),this._graphics.link((function(){return Ba.a.Graph.View.webglLine("#".concat(s.THEME_COLOR_LINKS[t.state.theme].toString(16)))})),this._renderer=Ba.a.Graph.View.renderer(this._graph,{container:e,graphics:this._graphics,layout:n,renderLinks:!0});var a=Ba.a.Graph.webglInputEvents(this._graphics,this._graph);a.click((function(e){return t.selectNode(e)})),a.dblClick((function(e){t.selectNode(),window.open(t.calculateBlockLink(e.data),"_blank")})),a.mouseEnter((function(e){var s,n;t.state.selected||(t._enteredVertexId&&(t.connectedLinkStyle(t._enteredVertexId,!1),t._enteredVertexId=void 0),e&&(t._enteredVertexId=null!==(s=null===(n=e.data)||void 0===n?void 0:n.shortId)&&void 0!==s?s:e.id.slice(0,7),t.connectedLinkStyle(t._enteredVertexId,!0)))})),a.mouseLeave((function(e){t._enteredVertexId&&(t.connectedLinkStyle(t._enteredVertexId,!1),t._enteredVertexId=void 0)})),this._renderer.run(),this._graphics.scale(1,{x:e.clientWidth/2,y:e.clientHeight/2});for(var i=0;i<12;i++)this._renderer.zoomOut()}}},{key:"updateVertex",value:function(e){var t=this;if(this._graph){var s=this.updateNodeUI(e.shortId);if(s||(s=this._graph.addNode(e.shortId,e)),e.parents)for(var n=[],a=function(a){var i=e.parents[a];n.includes(i)||s.links&&s.links.some((function(e){return e.toId===i}))||(n.push(i),t._graph.addLink(e.shortId,i))},i=0;i<e.parents.length;i++)a(i)}}},{key:"updateNodeUI",value:function(e){if(this._graphics&&this._graph){var t,n=null===(t=this._graph)||void 0===t?void 0:t.getNode(e);if(n){var a=this._graphics.getNodeUI(e);a&&(a.color=s.STATE_COLOR_MAP[this.calculateState(n.data)],a.size=this.calculateSize(n.data))}return n}}},{key:"calculateState",value:function(e){return e&&e.parents?e.isMilestone?"Milestone":e.isTip?"Tip":e.isConflicting?"Conflicting":e.isReferenced?"Referenced":e.isSolid?"Solid":"Unsolid":"Unknown"}},{key:"calculateSize",value:function(e){return e&&e.parents?e.isSelected||e.isMilestone?30:20:10}},{key:"deleteVertex",value:function(e){this._graph&&(this._graph.removeNode(e.shortId),this.state.selected&&this.state.selected.vertex.shortId===e.shortId&&(this.setState({selected:void 0}),this.connectedLinkStyle(this.state.selected.vertex.shortId,!1)),this._enteredVertexId&&this._enteredVertexId===e.shortId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0))}},{key:"referenceVertex",value:function(e,t,s){var n=this;if(this._graph){var a=this._graph.getNode(e);if(a){this.dfsIterator(a,(function(e){if(n._graph){var a=n._graph.getNode(e);if(!a||!a.data)return!0;if(!a.data.isReferenced&&!a.data.isConflicting)return t.includes(a.data.shortId)?(s.conflicting++,a.data.isConflicting=!0,n.updateVertex(a.data),!1):(s.referenced++,a.data.isReferenced=!0,n.updateVertex(a.data),!1)}return!0}),void 0,!1,[])}}}},{key:"dfsIterator",value:function(e,t,s,n,a){if(this._graph){a.push(e);for(var i=0;a.length>i;){var r,c,o=a[i++],l=null!==(r=null===(c=o.data)||void 0===c?void 0:c.shortId)&&void 0!==r?r:o.id.slice(0,7);if(null===t||void 0===t||!t(l)){var d,u=Object(qt.a)(o.links);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(!n&&h.fromId===l){s&&s(h.id);var p=this._graph.getNode(h.toId);p&&!a.includes(p)&&a.push(p)}if(n&&h.toId===l){s&&s(h.id);var b=this._graph.getNode(h.fromId);b&&!a.includes(b)&&a.push(b)}}}catch(v){u.e(v)}finally{u.f()}}}}}},{key:"resize",value:function(){this._graphics&&this._graphElement&&(this._graphics.updateSize(),this._graphics.scale(1,{x:this._graphElement.clientWidth/2,y:this._graphElement.clientHeight/2}))}},{key:"toggleActivity",value:function(){this._renderer&&(this.state.isActive?this._renderer.pause():this._renderer.resume()),this.setState({isActive:!this.state.isActive})}},{key:"selectNode",value:function(e){var t=this;this.state.selected&&(this.state.selected.vertex.isSelected=!1,this.updateNodeUI(this.state.selected.vertex.shortId),this.connectedLinkStyle(this.state.selected.vertex.shortId,!1)),e?(e.data||(e.data={shortId:e.id}),e.data.isSelected=!0,this.updateNodeUI(e.id),this._enteredVertexId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0),this.connectedLinkStyle(e.data.shortId,!0),this.setState({selected:{vertex:null===e||void 0===e?void 0:e.data,state:this.calculateState(e.data)}},Object(i.a)(Object(a.a)().mark((function s(){var n,i,r;return Object(a.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(null===(n=e.data)||void 0===n||!n.fullId){s.next=7;break}return s.next=3,t._tangleService.payload(e.data.fullId);case 3:i=s.sent,r="",i?i.type===Fe.TRANSACTION_PAYLOAD_TYPE?r=" - Transaction":i.type===Fe.MILESTONE_PAYLOAD_TYPE?r="":i.type===Fe.TAGGED_DATA_PAYLOAD_TYPE&&(r=" - Tagged data"):e.data.isMilestone&&(r=" - Checkpoint"),t.setState({selected:{vertex:null===e||void 0===e?void 0:e.data,state:t.calculateState(e.data),payload:i,title:r}});case 7:case"end":return s.stop()}}),s)}))))):this.setState({selected:void 0})}},{key:"calculateBlockLink",value:function(e){return null!==e&&void 0!==e&&e.fullId?"".concat(window.location.protocol,"//").concat(window.location.host,"/explorer/block/").concat(e.fullId):""}},{key:"connectedLinkStyle",value:function(e,t){var n=this;if(this._graph){var a=this._graph.getNode(e);if(a){this.dfsIterator(a,void 0,(function(e){if(n._graphics){var a=n._graphics.getLinkUI(e);a&&(a.color=t?s.COLOR_LINK_CHILDREN:s.THEME_COLOR_LINKS[n.state.theme])}}),!0,[]),this.dfsIterator(a,void 0,(function(e){if(n._graphics){var a=n._graphics.getLinkUI(e);a&&(a.color=t?s.COLOR_LINK_PARENTS:s.THEME_COLOR_LINKS[n.state.theme])}}),!1,[])}}}},{key:"styleAllLinks",value:function(){var e=this;this._graph&&this._graphics&&this._graph.forEachLink((function(t){if(e._graphics){var n=e._graphics.getLinkUI(t.id);n&&(n.color=s.THEME_COLOR_LINKS[e.state.theme])}}))}},{key:"calculateTotal",value:function(){var e,t,s=0;if((null===(e=this.state.selected)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.type)===Fe.TRANSACTION_PAYLOAD_TYPE){var n,a=Object(qt.a)(this.state.selected.payload.essence.outputs);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.type===Fe.BASIC_OUTPUT_TYPE&&(s+=Number(i.amount))}}catch(r){a.e(r)}finally{a.f()}}return s}}]),s}(Le));Qa.STATE_COLOR_MAP={Solid:1286275071,Unsolid:2414279423,Referenced:1642628351,Conflicting:4287323391,Milestone:1718286079,Tip:4291453695,Unknown:2595081983},Qa.THEME_COLOR_LINKS={dark:4294967074,light:3722305023},Qa.COLOR_LINK_CHILDREN=4284132095,Qa.COLOR_LINK_PARENTS=65535;var ei=Qa,ti=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e))._themeService=void 0,n._authService=void 0,n._metricsService=void 0,n._publicNodeStatusSubscription=void 0,n._statusSubscription=void 0,n._syncStatusSubscription=void 0,n._alias=void 0,n._lmi=void 0,n._cmi=void 0,n._lastStatus=void 0,n._statusTimer=void 0,n._themeService=Me.a.get("theme"),n._authService=Me.a.get("auth"),n._metricsService=Me.a.get("metrics"),n._lastStatus=0,n.state={isLoggedIn:Boolean(n._authService.isLoggedIn()),theme:n._themeService.get(),online:!1,syncHealth:!1,nodeHealth:!1},n.updateTitle(),n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.a)(Object(v.a)(s.prototype),"componentDidMount",this).call(this),De.subscribe("auth-state","app",(function(e){t.setState({isLoggedIn:e})})),De.subscribe("theme","app",(function(e){t.setState({theme:e})})),this._statusSubscription=this._metricsService.subscribe(Ee.NodeStatus,(function(e){e&&e.nodeAlias!==t._alias&&(t._alias=e.nodeAlias,t.updateTitle())})),this._syncStatusSubscription=this._metricsService.subscribe(Ee.SyncStatus,(function(e){if(e){var s=e.lmi?e.lmi.toString():"",n=e.cmi?e.cmi.toString():"";s===t._lmi&&n===t._cmi||(t._cmi=n,t._lmi=s,t.updateTitle())}})),this._publicNodeStatusSubscription=this._metricsService.subscribe(Ee.PublicNodeStatus,(function(e){e&&(t._lastStatus=Date.now(),t.state.online||(De.publish("online",!0),t.setState({online:!0})),e.isHealthy!==t.state.nodeHealth&&t.setState({nodeHealth:e.isHealthy}),e.isSynced!==t.state.syncHealth&&t.setState({syncHealth:e.isSynced}))})),this._statusTimer=setInterval((function(){Date.now()-t._lastStatus>1e4&&t.state.online&&(t.setState({online:!1}),De.publish("online",!1))}),1e3);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(b.a)(Object(v.a)(s.prototype),"componentWillUnmount",this).call(this),De.unsubscribe("auth-state","app"),De.unsubscribe("theme","app"),this._statusSubscription&&(this._metricsService.unsubscribe(this._statusSubscription),this._statusSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),void 0!==this._statusTimer&&(clearInterval(this._statusTimer),this._statusTimer=void 0)}},{key:"render",value:function(){var e=this,t=[{label:"Home",icon:Object(dt.jsx)(T,{}),route:"/",hidden:!this.state.isLoggedIn},{label:"Peers",icon:Object(dt.jsx)(re,{}),route:"/peers",hidden:!this.state.isLoggedIn},{label:"Explorer",icon:Object(dt.jsx)(_,{}),route:"/explorer"},{label:"Visualizer",icon:Object(dt.jsx)(Pe,{}),route:"/visualizer"},{label:"Plugins",icon:Object(dt.jsx)(ge,{}),route:"/plugins",hidden:!this.state.isLoggedIn},{label:"Login",icon:Object(dt.jsx)(ee,{}),route:"/login",hidden:this.state.isLoggedIn},{label:"Logout",icon:Object(dt.jsx)(Z,{}),function:function(){return e._authService.logout()},hidden:!this.state.isLoggedIn}],s=[{label:"Light",icon:Object(dt.jsx)(we,{}),function:function(){return e._themeService.apply("light",!0)},hidden:"light"===this.state.theme},{label:"Dark",icon:Object(dt.jsx)(U,{}),function:function(){return e._themeService.apply("dark",!0)},hidden:"dark"===this.state.theme}];return Object(dt.jsxs)("div",{className:"app",children:[Object(dt.jsx)(Ue,{size:"phone",aboveBelow:"above",children:Object(dt.jsx)(wt,{fullWidth:!1,middle:this.state.online?t:[],end:this.state.online?s:[]})}),Object(dt.jsxs)("div",{className:"col fill",children:[Object(dt.jsx)(yt,{children:Object(dt.jsx)(Ue,{size:"phone",aboveBelow:"below",children:Object(dt.jsx)(_t,{children:Object(dt.jsx)(wt,{fullWidth:!0,middle:this.state.online?t:[],end:this.state.online?s:[]})})})}),Object(dt.jsxs)("div",{className:"fill scroll-content",children:[!this.state.online&&Object(dt.jsx)("p",{className:"padding-l",children:"The node is offline or loading."}),this.state.online&&Object(dt.jsxs)(c.a.Fragment,{children:[Object(dt.jsx)(Ue,{size:"tablet",aboveBelow:"below",children:Object(dt.jsxs)("div",{className:"card card__flat row middle health-indicators",children:[Object(dt.jsx)(ht,{label:"Health",healthy:this.state.nodeHealth,className:"child margin-r-l"}),Object(dt.jsx)(ht,{label:"Sync",healthy:this.state.syncHealth,className:"child"})]})}),Object(dt.jsxs)(f.d,{children:[this.state.isLoggedIn&&[Object(dt.jsx)(f.b,{exact:!0,path:"/",component:function(){return Object(dt.jsx)(ca,{})}},"home"),Object(dt.jsx)(f.b,{exact:!0,path:"/peers",component:function(){return Object(dt.jsx)(ba,{})}},"peers"),Object(dt.jsx)(f.b,{path:"/peers/:id",component:function(e){return Object(dt.jsx)(da,Object(u.a)({},e))}},"peer")],!this.state.isLoggedIn&&Object(dt.jsx)(f.b,{path:"/",exact:!0,component:function(){return Object(dt.jsx)(Zt,{})}}),Object(dt.jsx)(f.b,{path:"/explorer",exact:!0,component:function(){return Object(dt.jsx)(Zt,{})}}),Object(dt.jsx)(f.b,{path:"/explorer/search/:query?",component:function(e){return Object(dt.jsx)(Pa,Object(u.a)({},e))}}),Object(dt.jsx)(f.b,{path:"/explorer/unavailable",component:function(e){return Object(dt.jsx)(Ma,Object(u.a)({},e))}}),Object(dt.jsx)(f.b,{path:"/explorer/block/:blockId",component:function(e){return Object(dt.jsx)(hn,Object(u.a)({},e))}}),Object(dt.jsx)(f.b,{path:"/explorer/milestone/:milestoneIndex",component:function(e){return Object(dt.jsx)(gn,Object(u.a)({},e))}}),Object(dt.jsx)(f.b,{path:"/explorer/address/:address",component:function(e){return Object(dt.jsx)(Bs,Object(u.a)({},e))}}),Object(dt.jsx)(f.b,{path:"/visualizer",component:function(e){return Object(dt.jsx)(ei,Object(u.a)({},e))}}),Object(dt.jsx)(f.b,{path:"/plugins",component:function(){return Object(dt.jsx)(Ea,{})}}),Object(dt.jsx)(f.b,{path:"/login",component:function(){return Object(dt.jsx)(oa,{})}}),Object(dt.jsx)(f.b,{exact:!0,path:"*",component:function(){return Object(dt.jsx)(f.a,{to:"/"})}})]})]})]})]})]})}},{key:"updateTitle",value:function(){var e=Be.getConfiguration().name;this._alias&&(e+=" (".concat(this._alias,")")),this._lmi&&this._cmi&&(e+=" ".concat(this._cmi," / ").concat(this._lmi)),document.title=e}}]),s}(Le),si=Object(f.g)(ti),ni=(s(180),function(){function e(){if(Object(h.a)(this,e),this._jwt=void 0,this._csrf=void 0,this._jwt=void 0,document.cookie){var t=document.cookie.split(";").find((function(e){return e.trim().startsWith("_csrf")}));if(t){var s=t.split("=");2===s.length&&(this._csrf=s[1])}}}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Me.a.get("local-storage"),!(s=t.load("dashboard-jwt"))){e.next=5;break}return e.next=5,this.login(void 0,void 0,s);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,s,n){var i,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logout(),e.prev=1,i={},this._csrf&&(i["X-CSRF-Token"]=this._csrf),e.next=6,ja.json("".concat(window.location.protocol,"//").concat(window.location.host),"/auth","post",{user:t,password:s,jwt:n},i);case 6:(r=e.sent).jwt&&(c=Me.a.get("local-storage"),this._jwt=r.jwt,c.save("dashboard-jwt",this._jwt),De.publish("auth-state",!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.abrupt("return",void 0!==this._jwt);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t,s,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this._jwt&&(Me.a.get("local-storage").remove("dashboard-jwt"),this._jwt=void 0,De.publish("auth-state",!1))}},{key:"isLoggedIn",value:function(){return this._jwt}},{key:"csrf",value:function(){return this._csrf}}]),e}()),ai=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"load",value:function(e){var t;if(window.localStorage)try{var s=window.localStorage.getItem(e);s&&(t=JSON.parse(s))}catch(n){}return t}},{key:"save",value:function(e,t){if(window.localStorage)try{var s=JSON.stringify(t);window.localStorage.setItem(e,s)}catch(n){}}},{key:"remove",value:function(e){if(window.localStorage)try{window.localStorage.removeItem(e)}catch(t){}}},{key:"clear",value:function(e){if(window.localStorage)try{if(e){for(var t=[],s=window.localStorage.length,n=0;n<s;n++){var a=window.localStorage.key(n);null!==a&&void 0!==a&&a.startsWith(e)&&t.push(a)}for(var i=0,r=t;i<r.length;i++){var c=r[i];window.localStorage.removeItem(c)}}else window.localStorage.clear()}catch(o){}}}]),e}(),ii=function(){function e(){Object(h.a)(this,e),this._webSocketService=void 0,this._webSocketSubscriptions=void 0,this._cached=void 0,this._subscriptions=void 0,this._webSocketService=Me.a.get("web-socket"),this._webSocketSubscriptions=[],this._subscriptions={},this._cached={}}return Object(p.a)(e,[{key:"initialize",value:function(){for(var e=this,t=[{topic:Ee.SyncStatus,isPublic:!0},{topic:Ee.NodeStatus,isPublic:!1},{topic:Ee.PublicNodeStatus,isPublic:!0},{topic:Ee.BPSMetrics,isPublic:!0},{topic:Ee.DBSizeMetric,isPublic:!1},{topic:Ee.PeerMetric,isPublic:!1},{topic:Ee.Ms,isPublic:!0},{topic:Ee.ConfirmedMsMetrics,isPublic:!0},{topic:Ee.SpamMetrics,isPublic:!1},{topic:Ee.AvgSpamMetrics,isPublic:!1}],s=function(){var t=a[n];e._webSocketSubscriptions.push(e._webSocketService.subscribe(t.topic,!t.isPublic,(function(s){e.triggerCallbacks(t.topic,s)})))},n=0,a=t;n<a.length;n++)s()}},{key:"closedown",value:function(){for(var e=0;e<this._webSocketSubscriptions.length;e++)this._webSocketService.unsubscribe(this._webSocketSubscriptions[e]);this._webSocketSubscriptions=[]}},{key:"subscribe",value:function(e,t,s){this._subscriptions[e]||(this._subscriptions[e]=[]);var n=ts.Converter.bytesToHex(ts.RandomHelper.generate(32));return this._subscriptions[e].push({subscriptionId:n,singleCallback:t,multipleCallback:s}),this._cached[e]&&this._cached[e].length>0&&(s&&s(this._cached[e]),t&&t(this._cached[e][this._cached[e].length-1])),n}},{key:"unsubscribe",value:function(e){var t,s=Object(qt.a)(Object.keys(this._subscriptions).map((function(e){return Number(e)})));try{for(s.s();!(t=s.n()).done;){var n=t.value,a=this._subscriptions[n].findIndex((function(t){return t.subscriptionId===e}));if(a>=0&&(this._subscriptions[n].splice(a,1),0===this._subscriptions[n].length)){delete this._subscriptions[n];break}}}catch(i){s.e(i)}finally{s.f()}}},{key:"triggerCallbacks",value:function(e,t){var s;(this._cached[e]||(this._cached[e]=[]),e===Ee.DBSizeMetric||e===Ee.ConfirmedMsMetrics)?Array.isArray(t)?(s=this._cached[e]).push.apply(s,Object(ns.a)(t)):this._cached[e].push(t):this._cached[e].push(t);if(this._cached[e]=this._cached[e].slice(-60),this._subscriptions[e]){var n,a=Object(qt.a)(this._subscriptions[e]);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.singleCallback&&i.singleCallback(this._cached[e][this._cached[e].length-1]),i.multipleCallback&&i.multipleCallback(this._cached[e])}}catch(r){a.e(r)}finally{a.f()}}}}]),e}(),ri=function(){function e(){Object(h.a)(this,e),this._networkId=void 0,this._bech32Hrp=void 0,this._baseToken=void 0,this._storageService=void 0,this._storageService=Me.a.get("session-storage"),this._bech32Hrp="iota",this._networkId="",this._baseToken={name:"IOTA",tickerSymbol:"MIOTA",unit:"i",decimals:0,subunit:void 0,useMetricPrefix:!0}}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._bech32Hrp=this._storageService.load("bech32Hrp"),this._networkId=this._storageService.load("networkId"),this._baseToken=this._storageService.load("baseToken"),this._bech32Hrp&&this._networkId&&this._baseToken){e.next=16;break}return t=Me.a.get("tangle"),e.prev=5,e.next=8,t.info();case 8:s=e.sent,this.setBech32Hrp(s.protocol.bech32HRP),this.setNetworkId(s.protocol.networkName),this.setBaseToken(s.baseToken),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:case"end":return e.stop()}}),e,this,[[5,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBech32Hrp",value:function(){return this._bech32Hrp}},{key:"getNetworkId",value:function(){return this._networkId}},{key:"getBaseToken",value:function(){return this._baseToken}},{key:"setBech32Hrp",value:function(e){this._bech32Hrp=e,this._storageService.save("bech32Hrp",this._bech32Hrp)}},{key:"setNetworkId",value:function(e){this._networkId=e,this._storageService.save("networkId",this._networkId)}},{key:"setBaseToken",value:function(e){this._baseToken=e,this._storageService.save("baseToken",this._baseToken)}}]),e}(),ci=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"load",value:function(e){var t;if(window.sessionStorage)try{var s=window.sessionStorage.getItem(e);s&&(t=JSON.parse(s))}catch(n){}return t}},{key:"save",value:function(e,t){if(window.sessionStorage)try{var s=JSON.stringify(t);window.sessionStorage.setItem(e,s)}catch(n){}}},{key:"remove",value:function(e){if(window.sessionStorage)try{window.sessionStorage.removeItem(e)}catch(t){}}},{key:"clear",value:function(e){if(window.sessionStorage)try{if(e){for(var t=[],s=window.sessionStorage.length,n=0;n<s;n++){var a=window.sessionStorage.key(n);null!==a&&void 0!==a&&a.startsWith(e)&&t.push(a)}for(var i=0,r=t;i<r.length;i++){var c=r[i];window.sessionStorage.removeItem(c)}}else window.sessionStorage.clear()}catch(o){}}}]),e}(),oi=function(){function e(){Object(h.a)(this,e),this._blindMode=void 0,this._storageService=void 0,this._storageService=Me.a.get("local-storage"),this._blindMode=!1}return Object(p.a)(e,[{key:"initialize",value:function(){var e;this._blindMode=null!==(e=this._storageService.load("blindMode"))&&void 0!==e&&e}},{key:"getBlindMode",value:function(){return this._blindMode}},{key:"setBlindMode",value:function(e){this._blindMode=e,this._storageService.save("blindMode",this._blindMode),De.publish("settings.blindMode",this._blindMode)}}]),e}(),li=function(){function e(){Object(h.a)(this,e),this._nodeInfo=void 0,this._authService=void 0,this._authService=Me.a.get("auth")}return Object(p.a)(e,[{key:"info",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.buildClient(),e.next=3,t.info();case 3:return this._nodeInfo=e.sent,e.abrupt("return",this._nodeInfo);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s,n,i,r,c,o,l,d,u,h,p,b,v,j,m,f,O,g,x,y,k,_,S,w,N,C,I,T,E,P;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.toLowerCase(),n=ts.HexHelper.stripPrefix(s),i=this.buildClient(),r=new Fe.IndexerPluginClient(i),this._nodeInfo){e.next=7;break}return e.next=7,this.info();case 7:if(c=this._nodeInfo?this._nodeInfo.protocol.bech32HRP:Fe.Bech32Helper.BECH32_DEFAULT_HRP_MAIN,!/^\d+$/.test(t)){e.next=20;break}return e.prev=9,e.next=12,i.milestoneByIndex(Number.parseInt(t,10));case 12:return o=e.sent,e.abrupt("return",{milestone:o});case 16:if(e.prev=16,e.t0=e.catch(9),!(e.t0 instanceof Fe.ClientError&&this.checkForUnavailable(e.t0))){e.next=20;break}return e.abrupt("return",{unavailable:!0});case 20:if(!Fe.Bech32Helper.matches(n,c)){e.next=62;break}if(e.prev=21,0!==(l=ss.buildAddress(n,c)).type){e.next=40;break}return e.next=26,this.addressBalance(n);case 26:if(!((d=e.sent)&&d.ledgerIndex>0)){e.next=38;break}return e.next=30,r.outputs({addressBech32:n});case 30:return u=e.sent,e.next=33,r.aliases({stateControllerBech32:n});case 33:return h=e.sent,e.next=36,r.nfts({addressBech32:n});case 36:return p=e.sent,e.abrupt("return",{address:d,addressOutputIds:u.items.concat(h.items,p.items)});case 38:e.next=56;break;case 40:if(!l.hex){e.next=56;break}if(8!==l.type){e.next=47;break}return e.next=44,r.alias(ts.HexHelper.addPrefix(l.hex));case 44:e.t1=e.sent,e.next=50;break;case 47:return e.next=49,r.nft(ts.HexHelper.addPrefix(l.hex));case 49:e.t1=e.sent;case 50:if(!((b=e.t1).items.length>0)){e.next=56;break}return e.next=54,i.output(b.items[0]);case 54:return v=e.sent,e.abrupt("return",{output:v});case 56:e.next=62;break;case 58:if(e.prev=58,e.t2=e.catch(21),!(e.t2 instanceof Fe.ClientError&&this.checkForUnavailable(e.t2))){e.next=62;break}return e.abrupt("return",{unavailable:!0});case 62:if(!ts.Converter.isHex(n)){e.next=190;break}if(64!==n.length){e.next=97;break}return e.prev=64,e.next=67,i.block(ts.HexHelper.addPrefix(n));case 67:return j=e.sent,e.abrupt("return",{block:j});case 71:if(e.prev=71,e.t3=e.catch(64),!(e.t3 instanceof Fe.ClientError&&this.checkForUnavailable(e.t3))){e.next=75;break}return e.abrupt("return",{unavailable:!0});case 75:return e.prev=75,e.next=78,i.transactionIncludedBlock(ts.HexHelper.addPrefix(n));case 78:return m=e.sent,e.abrupt("return",{block:m});case 82:if(e.prev=82,e.t4=e.catch(75),!(e.t4 instanceof Fe.ClientError&&this.checkForUnavailable(e.t4))){e.next=86;break}return e.abrupt("return",{unavailable:!0});case 86:return e.prev=86,e.next=89,i.milestoneById(ts.HexHelper.addPrefix(n));case 89:return f=e.sent,e.abrupt("return",{milestone:f});case 93:if(e.prev=93,e.t5=e.catch(86),!(e.t5 instanceof Fe.ClientError&&this.checkForUnavailable(e.t5))){e.next=97;break}return e.abrupt("return",{unavailable:!0});case 97:if(64!==n.length&&66!==n.length){e.next=146;break}if(O=66===n.length?n.slice(2):n,e.prev=99,!(g=ss.buildAddress(O,c,Fe.ED25519_ADDRESS_TYPE)).bech32){e.next=116;break}return e.next=104,this.addressBalance(g.bech32);case 104:if(!((x=e.sent)&&x.ledgerIndex>0)){e.next=116;break}return e.next=108,r.outputs({addressBech32:g.bech32});case 108:return y=e.sent,e.next=111,r.aliases({stateControllerBech32:g.bech32});case 111:return k=e.sent,e.next=114,r.nfts({addressBech32:g.bech32});case 114:return _=e.sent,e.abrupt("return",{address:x,addressOutputIds:y.items.concat(k.items,_.items)});case 116:e.next=122;break;case 118:if(e.prev=118,e.t6=e.catch(99),!(e.t6 instanceof Fe.ClientError&&this.checkForUnavailable(e.t6))){e.next=122;break}return e.abrupt("return",{unavailable:!0});case 122:return e.prev=122,S={},e.prev=124,e.next=127,r.alias(ts.HexHelper.addPrefix(O));case 127:S=e.sent,e.next=135;break;case 130:return e.prev=130,e.t7=e.catch(124),e.next=134,r.nft(ts.HexHelper.addPrefix(O));case 134:S=e.sent;case 135:if(!(S.items.length>0)){e.next=140;break}return e.next=138,i.output(S.items[0]);case 138:return w=e.sent,e.abrupt("return",{output:w});case 140:e.next=146;break;case 142:if(e.prev=142,e.t8=e.catch(122),!(e.t8 instanceof Fe.ClientError&&this.checkForUnavailable(e.t8))){e.next=146;break}return e.abrupt("return",{unavailable:!0});case 146:if(68!==n.length){e.next=158;break}return e.prev=147,e.next=150,i.output(ts.HexHelper.addPrefix(n));case 150:return N=e.sent,e.abrupt("return",{output:N});case 154:if(e.prev=154,e.t9=e.catch(147),!(e.t9 instanceof Fe.ClientError&&this.checkForUnavailable(e.t9))){e.next=158;break}return e.abrupt("return",{unavailable:!0});case 158:if(76!==n.length&&100!==n.length){e.next=175;break}return e.prev=159,C=100===n.length?n.slice(0,76):n,e.next=163,r.foundry(ts.HexHelper.addPrefix(C));case 163:if(!((I=e.sent).items.length>0)){e.next=169;break}return e.next=167,i.output(I.items[0]);case 167:return T=e.sent,e.abrupt("return",{output:T});case 169:e.next=175;break;case 171:if(e.prev=171,e.t10=e.catch(159),!(e.t10 instanceof Fe.ClientError&&this.checkForUnavailable(e.t10))){e.next=175;break}return e.abrupt("return",{unavailable:!0});case 175:return e.prev=175,e.next=178,r.outputs({tagHex:ts.HexHelper.addPrefix(n)});case 178:if(!((E=e.sent).items.length>0)){e.next=184;break}return e.next=182,i.output(E.items[0]);case 182:return P=e.sent,e.abrupt("return",{output:P});case 184:e.next=190;break;case 186:if(e.prev=186,e.t11=e.catch(175),!(e.t11 instanceof Fe.ClientError&&this.checkForUnavailable(e.t11))){e.next=190;break}return e.abrupt("return",{unavailable:!0});case 190:return e.abrupt("return",{});case 191:case"end":return e.stop()}}),e,this,[[9,16],[21,58],[64,71],[75,82],[86,93],[99,118],[122,142],[124,130],[147,154],[159,171],[175,186]])})));return function(t){return e.apply(this,arguments)}}()},{key:"payload",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.block(t);case 4:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.payload);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"outputDetails",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.output(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addressBalance",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,Object(Fe.addressBalance)(s,t);case 4:return(n=e.sent).address=t,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"milestoneDetails",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.milestoneByIndex(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"blockDetails",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s,n,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.blockMetadata(t);case 4:return n=e.sent,e.next=7,s.blockChildren(t);case 7:return i=e.sent,e.abrupt("return",{metadata:n,childrenIds:i?i.children:void 0});case 11:if(e.prev=11,e.t0=e.catch(0),!(e.t0 instanceof Fe.ClientError&&this.checkForUnavailable(e.t0))){e.next=15;break}return e.abrupt("return",{unavailable:!0});case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"peerAdd",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,s){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.buildClient(),e.next=3,n.peerAdd(t,s);case 3:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"peerDelete",value:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.buildClient(),e.next=3,s.peerDelete(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildClient",value:function(){var e=this._authService.isLoggedIn(),t={};e&&(t.Authorization="Bearer ".concat(e));var s=this._authService.csrf();return s&&(t["X-CSRF-Token"]=s),new Fe.SingleNodeClient("".concat(window.location.protocol,"//").concat(window.location.host),{basePath:"/api/v2/",headers:t})}},{key:"checkForUnavailable",value:function(e){return 503===e.httpStatus}}]),e}(),di=function(){function e(){Object(h.a)(this,e),this._theme=void 0,this._theme="light"}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Me.a.get("local-storage").load("theme");this.apply(e,!1)}},{key:"apply",value:function(e,t){var s=this._theme;this._theme=null!==e&&void 0!==e?e:"light",document.body.classList.remove("theme-".concat(s)),document.body.classList.add("theme-".concat(this._theme)),De.publish("theme",this._theme),t&&this.save()}},{key:"get",value:function(){return this._theme}},{key:"save",value:function(){Me.a.get("local-storage").save("theme",this._theme)}}]),e}(),ui=function(){function e(){Object(h.a)(this,e),this._webSocketService=void 0,this._subscriptions=void 0,this._vertices=void 0,this._verticesOrder=void 0,this._counts=void 0,this._verticesLimit=void 0,this._vertexCallback=void 0,this._countsCallback=void 0,this._referencedCallback=void 0,this._subscriptions=[],this._vertices={},this._verticesOrder=[],this._verticesLimit=5e3,this._counts={total:0,solid:0,referenced:0,conflicting:0,tips:0},this._webSocketService=Me.a.get("web-socket")}return Object(p.a)(e,[{key:"subscribe",value:function(e,t,s){var n=this;this._subscriptions.push(this._webSocketService.subscribe(Ee.Vertex,!1,(function(e){return n.updateVertices(e)})),this._webSocketService.subscribe(Ee.MilestoneInfo,!1,(function(e){return n.updateMilestoneInfo(e)})),this._webSocketService.subscribe(Ee.TipInfo,!1,(function(e){return n.updateTipInfo(e)})),this._webSocketService.subscribe(Ee.ConfirmedInfo,!1,(function(e){return n.updateConfirmedInfo(e)})),this._webSocketService.subscribe(Ee.SolidInfo,!1,(function(e){return n.updateSolidInfo(e)}))),this._vertexCallback=e,this._countsCallback=t,this._referencedCallback=s}},{key:"unsubscribe",value:function(){var e,t=Object(qt.a)(this._subscriptions);try{for(t.s();!(e=t.n()).done;){var s=e.value;this._webSocketService.unsubscribe(s)}}catch(n){t.e(n)}finally{t.f()}this._subscriptions=[],this._vertices={},this._verticesOrder=[]}},{key:"updateVertices",value:function(e){if(e){var t=e.id.slice(0,7),s=this._vertices[t],n="add";s?(n="update",!s.isSolid&&e.is_solid&&this._counts.solid++,!s.isReferenced&&e.is_referenced&&this._counts.referenced++,!s.isConflicting&&e.is_conflicting&&this._counts.conflicting++,!s.isTip&&e.is_tip&&this._counts.tips++):(e.is_solid&&this._counts.solid++,e.is_referenced&&this._counts.referenced++,e.is_conflicting&&this._counts.conflicting++,e.is_tip&&this._counts.tips++,this._verticesOrder.push(t),this.checkLimit(),s={fullId:e.id,shortId:t}),s.parents=e.parents,s.isSolid=e.is_solid,s.isReferenced=e.is_referenced,s.isConflicting=e.is_conflicting,s.isMilestone=e.is_milestone,s.isTip=e.is_tip,s.isSelected=e.is_selected,this._vertices[t]=s,this._counts.total=this._verticesOrder.length,this._vertexCallback&&this._vertexCallback(s,n),this._countsCallback&&this._countsCallback(this._counts)}}},{key:"checkLimit",value:function(){for(;this._verticesOrder.length>this._verticesLimit;){var e=this._verticesOrder.shift();if(e){var t=this.removeVertex(e);if(null!==t&&void 0!==t&&t.parents){var s,n=Object(qt.a)(t.parents);try{for(n.s();!(s=n.n()).done;){var a=s.value;this.removeVertex(a)}}catch(i){n.e(i)}finally{n.f()}}}}this._countsCallback&&this._countsCallback(this._counts)}},{key:"removeVertex",value:function(e){if(e){var t=this._vertices[e];return t?(t.isSolid&&this._counts.solid--,t.isReferenced&&this._counts.referenced--,t.isConflicting&&this._counts.conflicting--,t.isTip&&this._counts.tips--,delete this._vertices[e]):t={shortId:e},this._vertexCallback&&this._vertexCallback(t,"delete"),t}}},{key:"updateTipInfo",value:function(e){if(e){var t=this._vertices[e.id];t&&(this._counts.tips+=e.is_tip?1:t.isTip?-1:0,t.isTip=e.is_tip,this._vertexCallback&&this._vertexCallback(t,"update"),this._countsCallback&&this._countsCallback(this._counts))}}},{key:"updateMilestoneInfo",value:function(e){if(e){var t=this._vertices[e.id];t&&(t.isMilestone=!0,this._vertexCallback&&this._vertexCallback(t,"update"))}}},{key:"updateConfirmedInfo",value:function(e){if(e){var t,s=Object(qt.a)(e.ids);try{for(s.s();!(t=s.n()).done;){var n=t.value,a=this._vertices[n];if(a&&!a.isReferenced){var i;if(this._referencedCallback)this._referencedCallback(n,null!==(i=e.excluded_ids)&&void 0!==i?i:[],this._counts);this._countsCallback&&this._countsCallback(this._counts)}}}catch(r){s.e(r)}finally{s.f()}}}},{key:"updateSolidInfo",value:function(e){if(e){var t=this._vertices[e.id];t&&!t.isSolid&&(t.isSolid=!0,this._counts.solid++,this._vertexCallback&&this._vertexCallback(t,"update"),this._countsCallback&&this._countsCallback(this._counts))}}}]),e}(),hi=s(81);function pi(){return pi=Object(i.a)(Object(a.a)().mark((function e(){var t,s,n,r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Me.a.register("local-storage",(function(){return new ai})),Me.a.register("session-storage",(function(){return new ci})),t=new oi,Me.a.register("settings",(function(){return t})),s=new ni,e.next=7,s.initialize();case 7:return Me.a.register("auth",(function(){return s})),n=new hi.a,Me.a.register("web-socket",(function(){return n})),Me.a.register("tangle",(function(){return new li})),(r=new di).initialize(),Me.a.register("theme",(function(){return r})),c=new ri,e.next=17,c.initialize();case 17:return Me.a.register("node-config",(function(){return c})),o=new ii,Me.a.register("metrics",(function(){return o})),o.initialize(),Me.a.register("visualizer",(function(){return new ui})),De.subscribe("auth-state","init",Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.resubscribe(),e.next=3,Ia.initPlugin();case 3:return e.next=5,ga.initPlugin();case 5:case"end":return e.stop()}}),e)})))),De.subscribe("online","init",function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,c.initialize();case 3:n.resubscribe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=26,Ia.initPlugin();case 26:return e.next=28,ga.initPlugin();case 28:return t.initialize(),e.abrupt("return",Be.initialize());case 30:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}(function(){return pi.apply(this,arguments)})().then((function(e){l.a.render(e?Object(dt.jsx)(d.a,{children:Object(dt.jsx)(si,{})}):Object(dt.jsx)("div",{children:"REACT_APP_BRAND_ID is not set"}),document.querySelector("#root"))})).catch((function(e){return console.error(e)}))}],[[181,1,2]]]);
//# sourceMappingURL=main.3c6b4747.chunk.js.map