(this["webpackJsonpnode-dashboard"]=this["webpackJsonpnode-dashboard"]||[]).push([[0],[,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));class a{static register(e,t){this._services[e]=t}static unregister(e){delete this._services[e]}static get(e){return!this._instances[e]&&this._services[e]&&(this._instances[e]=this._services[e](e)),this._instances[e]}}a._services={},a._instances={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return n}));var a=s(8),i=s(3),r=s(5);class n{constructor(){this._reconnectTimer=void 0,this._lastMessage=void 0,this._webSocket=void 0,this._subscriptions=void 0,this._authService=void 0,this._authService=r.a.get("auth"),this._subscriptions={},this._lastMessage=0}subscribe(e,t,s){this._subscriptions[e]||(this._subscriptions[e]={requiresAuth:t,isSubscribed:!1,subs:[]});const a=i.Converter.bytesToHex(i.RandomHelper.generate(32));return this._subscriptions[e].subs.push({subscriptionId:a,callback:s}),this._webSocket&&this._webSocket.readyState===WebSocket.OPEN?this.subscribeTopic(e):this._webSocket||this.connectSocket(),a}unsubscribe(e){var t,s=Object(a.a)(Object.keys(this._subscriptions).map((e=>Number(e))));try{for(s.s();!(t=s.n()).done;){const s=t.value,a=this._subscriptions[s].subs.findIndex((t=>t.subscriptionId===e));if(a>=0&&(this._subscriptions[s].subs.splice(a,1),0===this._subscriptions[s].subs.length)){this.unsubscribeTopic(s),delete this._subscriptions[s];break}}}catch(i){s.e(i)}finally{s.f()}0===Object.keys(this._subscriptions).length&&(this.clearTimer(),this.disconnectSocket())}resubscribe(){const e=Object.keys(this._subscriptions).map((e=>Number(e)));var t,s=Object(a.a)(e);try{for(s.s();!(t=s.n()).done;){const e=t.value;this.unsubscribeTopic(e)}}catch(n){s.e(n)}finally{s.f()}if(this._webSocket&&this._webSocket.readyState===WebSocket.OPEN){var i,r=Object(a.a)(e);try{for(r.s();!(i=r.n()).done;){const e=i.value;this.subscribeTopic(e)}}catch(n){r.e(n)}finally{r.f()}}}connectSocket(){var e;this.clearTimer(),this.disconnectSocket();let t="ws:";"https:"===window.location.protocol&&(t="wss:"),t+="//".concat(window.location.hostname,":").concat(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BRAND_ID:"hornet"}).REACT_APP_SOCKET)&&void 0!==e?e:window.location.port,"/ws"),this._webSocket=new WebSocket(t),this._webSocket.onopen=()=>{var e,t=Object(a.a)(Object.keys(this._subscriptions).map((e=>Number(e))));try{for(t.s();!(e=t.n()).done;){const t=e.value;this.subscribeTopic(t)}}catch(s){t.e(s)}finally{t.f()}},this._webSocket.onclose=()=>{this.disconnectSocket()},this._webSocket.onerror=e=>{console.error("Socket error",e)},this._webSocket.onmessage=e=>{this._lastMessage=Date.now(),this.handleMessage(e.data)},this._lastMessage=Date.now(),this._reconnectTimer=setInterval((()=>this.reconnect()),5e3)}disconnectSocket(){if(this._webSocket){try{this._webSocket.readyState===WebSocket.OPEN&&this._webSocket.close()}catch(e){}this._webSocket=void 0}}clearTimer(){this._reconnectTimer&&(clearInterval(this._reconnectTimer),this._reconnectTimer=void 0)}subscribeTopic(t){if(this._subscriptions[t]){const s=this._subscriptions[t].requiresAuth,a=this._authService.isLoggedIn();if(!s||s&&a){this._subscriptions[t].isSubscribed=!0;const i=new ArrayBuffer(2+(a&&s?a.length:0)),r=new Uint8Array(i);r[0]=0,r[1]=t,a&&s&&r.set(e.from(a),2),this._webSocket&&this._webSocket.send(i)}}}unsubscribeTopic(e){var t;if(null===(t=this._subscriptions[e])||void 0===t?void 0:t.isSubscribed){this._subscriptions[e].isSubscribed=!1;const t=new ArrayBuffer(2),s=new Uint8Array(t);s[0]=1,s[1]=e,this._webSocket&&this._webSocket.readyState===WebSocket.OPEN&&this._webSocket.send(t)}}handleMessage(e){const t=JSON.parse(e);if(this._subscriptions[t.type]){var s,i=Object(a.a)(this._subscriptions[t.type].subs);try{for(i.s();!(s=i.n()).done;){s.value.callback(t.data)}}catch(r){i.e(r)}finally{i.f()}}}reconnect(){if(Object.keys(this._subscriptions)){Date.now()-this._lastMessage>1e4&&this.connectSocket()}}}}).call(this,s(12).Buffer)},,,,,,function(e,t,s){var a={"./bee/brand.json":101,"./hornet/brand.json":102};function i(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=100},function(e){e.exports=JSON.parse('{"name":"Bee"}')},function(e){e.exports=JSON.parse('{"name":"Hornet"}')},function(e,t,s){var a={"./bee/themes/dark/logo-navigation.svg":[230,4],"./bee/themes/light/logo-navigation.svg":[231,6],"./hornet/themes/dark/logo-navigation.svg":[232,8],"./hornet/themes/light/logo-navigation.svg":[233,10]};function i(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return s.e(t[1]).then((function(){return s(i)}))}i.keys=function(){return Object.keys(a)},i.id=103,e.exports=i},function(e,t,s){var a={"./bee/themes/dark/banner.svg":[234,3],"./bee/themes/light/banner.svg":[235,5],"./hornet/themes/dark/banner.svg":[236,7],"./hornet/themes/light/banner.svg":[237,9]};function i(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return s.e(t[1]).then((function(){return s(i)}))}i.keys=function(){return Object.keys(a)},i.id=104,e.exports=i},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},,,,,function(e,t,s){},function(e,t,s){},,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,function(e,t){},,function(e,t){},,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(2),i=s.n(a),r=s(4),n=s(1),c=s.n(n),l=s(92),o=s.n(l),d=s(6),h=s(9),u=s(10);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var m=n.createElement("path",{d:"M1 0C1.26522 0 1.51957 0.105357 1.70711 0.292893C1.89464 0.48043 2 0.734784 2 1V17C2 17.2652 1.89464 17.5196 1.70711 17.7071C1.51957 17.8946 1.26522 18 1 18C0.734784 18 0.48043 17.8946 0.292893 17.7071C0.105357 17.5196 0 17.2652 0 17V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0ZM15 4C15.2652 4 15.5196 4.10536 15.7071 4.29289C15.8946 4.48043 16 4.73478 16 5V17C16 17.2652 15.8946 17.5196 15.7071 17.7071C15.5196 17.8946 15.2652 18 15 18C14.7348 18 14.4804 17.8946 14.2929 17.7071C14.1054 17.5196 14 17.2652 14 17V5C14 4.73478 14.1054 4.48043 14.2929 4.29289C14.4804 4.10536 14.7348 4 15 4ZM8 8C8.26522 8 8.51957 8.10536 8.70711 8.29289C8.89464 8.48043 9 8.73478 9 9V17C9 17.2652 8.89464 17.5196 8.70711 17.7071C8.51957 17.8946 8.26522 18 8 18C7.73478 18 7.48043 17.8946 7.29289 17.7071C7.10536 17.5196 7 17.2652 7 17V9C7 8.73478 7.10536 8.48043 7.29289 8.29289C7.48043 8.10536 7.73478 8 8 8Z",fill:"currentColor"});function v(e,t){var s=e.title,a=e.titleId,i=b(e,["title","titleId"]);return n.createElement("svg",p({width:16,height:18,viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,m)}var j=n.forwardRef(v);s.p;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var O=n.createElement("path",{d:"M2.252 8C2.08416 8.6534 1.99949 9.32538 2 10C2 10.69 2.088 11.36 2.252 12H5.1C4.96518 10.6701 4.96518 9.32993 5.1 8H2.252ZM3.07 6H5.416C5.682 4.783 6.066 3.693 6.537 2.786C5.08518 3.48542 3.87722 4.60523 3.07 6ZM17.748 8H14.9C15.0348 9.32993 15.0348 10.6701 14.9 12H17.748C17.912 11.36 18 10.69 18 10C18 9.31 17.912 8.64 17.748 8ZM16.93 6C16.1228 4.60523 14.9148 3.48542 13.463 2.786C13.935 3.693 14.318 4.783 14.584 6H16.93ZM7.112 8C7.03708 8.66403 6.99968 9.33176 7 10C7 10.685 7.038 11.355 7.112 12H12.888C13.0386 10.6709 13.0386 9.32908 12.888 8H7.112ZM7.47 6H12.53C12.348 5.2483 12.0855 4.51841 11.747 3.823C11.119 2.568 10.447 2 10 2C9.552 2 8.881 2.568 8.253 3.823C7.938 4.455 7.673 5.19 7.47 6ZM3.07 14C3.87722 15.3948 5.08518 16.5146 6.537 17.214C6.065 16.307 5.682 15.217 5.416 14H3.07ZM16.93 14H14.584C14.318 15.217 13.934 16.307 13.463 17.214C14.9148 16.5146 16.1228 15.3948 16.93 14ZM7.47 14C7.673 14.81 7.938 15.545 8.253 16.177C8.881 17.432 9.553 18 10 18C10.448 18 11.119 17.432 11.747 16.177C12.062 15.545 12.327 14.81 12.53 14H7.47ZM10 20C4.477 20 0 15.523 0 10C0 4.477 4.477 0 10 0C15.523 0 20 4.477 20 10C20 15.523 15.523 20 10 20Z",fill:"currentColor"});function f(e,t){var s=e.title,a=e.titleId,i=x(e,["title","titleId"]);return n.createElement("svg",g({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,O)}var S=n.forwardRef(f);s.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var w=n.createElement("path",{d:"M18 18V6.80002L10 2.00002L2 6.80002V18H6V14.918C6 13.8572 6.42143 12.8397 7.17157 12.0896C7.92172 11.3394 8.93913 10.918 10 10.918C11.0609 10.918 12.0783 11.3394 12.8284 12.0896C13.5786 12.8397 14 13.8572 14 14.918V18H18ZM12 20V14.918C12 14.3876 11.7893 13.8789 11.4142 13.5038C11.0391 13.1287 10.5304 12.918 10 12.918C9.46957 12.918 8.96086 13.1287 8.58579 13.5038C8.21071 13.8789 8 14.3876 8 14.918V20H2C1.46957 20 0.960859 19.7893 0.585786 19.4142C0.210714 19.0391 0 18.5304 0 18L0 6.80002C-3.32274e-06 6.45465 0.0894306 6.11516 0.259593 5.81462C0.429755 5.51407 0.674847 5.26271 0.971 5.08502L8.971 0.285019C9.28183 0.0985175 9.63751 0 10 0C10.3625 0 10.7182 0.0985175 11.029 0.285019L19.029 5.08502C19.3252 5.26271 19.5702 5.51407 19.7404 5.81462C19.9106 6.11516 20 6.45465 20 6.80002V18C20 18.5304 19.7893 19.0391 19.4142 19.4142C19.0391 19.7893 18.5304 20 18 20H12Z",fill:"currentColor"});function N(e,t){var s=e.title,a=e.titleId,i=_(e,["title","titleId"]);return n.createElement("svg",y({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,w)}var C=n.forwardRef(N);s.p;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var M=n.createElement("path",{d:"m19.49261,11.36231c-0.20411,-0.05103 -0.40822,0 -0.58682,0.12757c-0.66336,0.56131 -1.42878,1.02056 -2.27074,1.32672c-0.79093,0.30617 -1.6584,0.45925 -2.5769,0.45925c-2.06662,0 -3.95465,-0.84196 -5.30689,-2.19419c-1.35224,-1.35224 -2.19419,-3.24026 -2.19419,-5.30689c0,-0.86747 0.15308,-1.70943 0.40822,-2.47485c0.28065,-0.81644 0.68887,-1.55635 1.22467,-2.19419c0.22962,-0.28065 0.1786,-0.68887 -0.10206,-0.9185c-0.1786,-0.12757 -0.38271,-0.1786 -0.58682,-0.12757c-2.16868,0.58682 -4.05671,1.88803 -5.40894,3.62297c-1.30121,1.70943 -2.09214,3.82708 -2.09214,6.14885c0,2.78101 1.12261,5.30689 2.95961,7.14389s4.36287,2.95961 7.14389,2.95961c2.34728,0 4.51596,-0.81644 6.2509,-2.16868c1.76046,-1.37775 3.03615,-3.34232 3.57194,-5.58754c0.12757,-0.38271 -0.07654,-0.7399 -0.43374,-0.81644zm-3.90362,5.3324c-1.47981,1.17364 -3.36783,1.88803 -5.43446,1.88803c-2.42382,0 -4.61801,-0.99504 -6.19987,-2.5769c-1.58186,-1.58186 -2.5769,-3.77605 -2.5769,-6.19987c0,-2.0156 0.66336,-3.8526 1.81149,-5.3324c0.79093,-1.02056 1.78597,-1.86251 2.9341,-2.44933c-0.12757,0.28065 -0.25514,0.56131 -0.35719,0.86747c-0.33168,0.9185 -0.48476,1.88803 -0.48476,2.90858c0,2.42382 0.99504,4.64353 2.5769,6.22539s3.80157,2.5769 6.22539,2.5769c1.07158,0 2.09214,-0.1786 3.03615,-0.53579c0.33168,-0.12757 0.66336,-0.25514 0.96953,-0.40822c-0.61233,1.17364 -1.45429,2.21971 -2.50036,3.03615z",fill:"currentColor"});function T(e,t){var s=e.title,a=e.titleId,i=k(e,["title","titleId"]);return n.createElement("svg",I({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,M)}var E=n.forwardRef(T);s.p;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var D=n.createElement("path",{d:"m21.87281,24l-12.02632,0c-1.10464,0 -2.00439,-1.009 -2.00439,-2.25l0,-10.5c0,-1.241 0.89975,-2.25 2.00439,-2.25l12.02632,0c1.10464,0 2.00439,1.009 2.00439,2.25l0,10.5c0,1.241 -0.89975,2.25 -2.00439,2.25zm-12.02632,-13.5c-0.36792,0 -0.66813,0.336 -0.66813,0.75l0,10.5c0,0.414 0.30021,0.75 0.66813,0.75l12.02632,0c0.36792,0 0.66813,-0.336 0.66813,-0.75l0,-10.5c0,-0.414 -0.30021,-0.75 -0.66813,-0.75l-12.02632,0z",fill:"currentColor"}),B=n.createElement("path",{d:"m11.35526,10.5c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-3.75c0,-2.481 -2.019,-4.5 -4.5,-4.5s-4.5,2.019 -4.5,4.5l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75l0,-3.75c0,-3.309 2.691,-6 6,-6s6,2.691 6,6l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"}),R=n.createElement("path",{d:"m15.7193,17c-1.103,0 -2,-0.897 -2,-2s0.897,-2 2,-2s2,0.897 2,2s-0.897,2 -2,2zm0,-2.5c-0.275,0 -0.5,0.224 -0.5,0.5s0.225,0.5 0.5,0.5s0.5,-0.224 0.5,-0.5s-0.225,-0.5 -0.5,-0.5z",fill:"currentColor"}),A=n.createElement("path",{d:"m15.7193,20c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-2.75c0,-0.414 0.336,-0.75 0.75,-0.75s0.75,0.336 0.75,0.75l0,2.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"});function U(e,t){var s=e.title,a=e.titleId,i=L(e,["title","titleId"]);return n.createElement("svg",P({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,D,B,R,A)}var H=n.forwardRef(U);s.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var V=n.createElement("path",{d:"m18.75,24l-13.5,0c-1.24,0 -2.25,-1.009 -2.25,-2.25l0,-10.5c0,-1.241 1.01,-2.25 2.25,-2.25l13.5,0c1.24,0 2.25,1.009 2.25,2.25l0,10.5c0,1.241 -1.01,2.25 -2.25,2.25zm-13.5,-13.5c-0.413,0 -0.75,0.336 -0.75,0.75l0,10.5c0,0.414 0.337,0.75 0.75,0.75l13.5,0c0.413,0 0.75,-0.336 0.75,-0.75l0,-10.5c0,-0.414 -0.337,-0.75 -0.75,-0.75l-13.5,0z",fill:"currentColor"}),W=n.createElement("path",{d:"m17.25,10.5c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-3.75c0,-2.481 -2.019,-4.5 -4.5,-4.5s-4.5,2.019 -4.5,4.5l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75l0,-3.75c0,-3.309 2.691,-6 6,-6s6,2.691 6,6l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"}),q=n.createElement("path",{d:"m12,17c-1.103,0 -2,-0.897 -2,-2s0.897,-2 2,-2s2,0.897 2,2s-0.897,2 -2,2zm0,-2.5c-0.275,0 -0.5,0.224 -0.5,0.5s0.225,0.5 0.5,0.5s0.5,-0.224 0.5,-0.5s-0.225,-0.5 -0.5,-0.5z",fill:"currentColor"}),Y=n.createElement("path",{d:"m12,20c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-2.75c0,-0.414 0.336,-0.75 0.75,-0.75s0.75,0.336 0.75,0.75l0,2.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"});function G(e,t){var s=e.title,a=e.titleId,i=F(e,["title","titleId"]);return n.createElement("svg",z({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,V,W,q,Y)}var Z=n.forwardRef(G);s.p;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Q=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.6569 5.62329C7.03439 7.02356 5.63123 8 4 8C1.79086 8 0 6.20914 0 4C0 1.79086 1.79086 0 4 0C6.09134 0 7.80782 1.60496 7.98493 3.65037L12.3431 4.37673C12.9656 2.97645 14.3688 2 16 2C18.2091 2 20 3.79086 20 6C20 8.20914 18.2091 10 16 10C14.9749 10 14.04 9.61443 13.3321 8.9804L7.77815 12.6831C7.88518 12.9902 7.95583 13.3143 7.98493 13.6504L12.3431 14.3767C12.9656 12.9764 14.3688 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20C13.9087 20 12.1922 18.3951 12.0151 16.3497L7.6569 15.6233C7.03439 17.0236 5.63123 18 4 18C1.79086 18 0 16.2091 0 14C0 11.7909 1.79086 10 4 10C5.02504 10 5.96002 10.3856 6.66784 11.0196L12.2218 7.3169C12.1148 7.00981 12.0442 6.68568 12.0151 6.34965L7.6569 5.62329ZM6 4C6 5.10457 5.10457 6 4 6C2.89543 6 2 5.10457 2 4C2 2.89543 2.89543 2 4 2C5.10457 2 6 2.89543 6 4ZM16 8C17.1046 8 18 7.10457 18 6C18 4.89543 17.1046 4 16 4C14.8954 4 14 4.89543 14 6C14 7.10457 14.8954 8 16 8ZM6 14C6 15.1046 5.10457 16 4 16C2.89543 16 2 15.1046 2 14C2 12.8954 2.89543 12 4 12C5.10457 12 6 12.8954 6 14ZM16 18C17.1046 18 18 17.1046 18 16C18 14.8954 17.1046 14 16 14C14.8954 14 14 14.8954 14 16C14 17.1046 14.8954 18 16 18Z",fill:"currentColor"});function X(e,t){var s=e.title,a=e.titleId,i=J(e,["title","titleId"]);return n.createElement("svg",K({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Q)}var $=n.forwardRef(X);s.p;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var se=n.createElement("path",{d:"M18 13V8C18 7.73478 18.1054 7.48043 18.2929 7.29289C18.4804 7.10536 18.7348 7 19 7C19.2652 7 19.5196 7.10536 19.7071 7.29289C19.8946 7.48043 20 7.73478 20 8V13C20.5304 13 21.0391 13.2107 21.4142 13.5858C21.7893 13.9609 22 14.4696 22 15V18.5C21.9999 19.7247 21.5911 20.9144 20.8385 21.8805C20.0859 22.8467 19.0324 23.5342 17.845 23.834C17.9584 24.0628 18.0114 24.3167 17.9992 24.5717C17.987 24.8267 17.9099 25.0744 17.7753 25.2913C17.6406 25.5082 17.4528 25.6871 17.2296 25.8111C17.0064 25.9352 16.7553 26.0002 16.5 26H15.5C15.2447 26.0002 14.9936 25.9352 14.7704 25.8111C14.5472 25.6871 14.3594 25.5082 14.2247 25.2913C14.0901 25.0744 14.013 24.8267 14.0008 24.5717C13.9886 24.3167 14.0416 24.0628 14.155 23.834C12.9676 23.5342 11.9141 22.8467 11.1615 21.8805C10.4089 20.9144 10.0001 19.7247 10 18.5V15C10 14.4696 10.2107 13.9609 10.5858 13.5858C10.9609 13.2107 11.4696 13 12 13V8C12 7.73478 12.1054 7.48043 12.2929 7.29289C12.4804 7.10536 12.7348 7 13 7C13.2652 7 13.5196 7.10536 13.7071 7.29289C13.8946 7.48043 14 7.73478 14 8V13H18Z",fill:"currentColor"});function ae(e,t){var s=e.title,a=e.titleId,i=te(e,["title","titleId"]);return n.createElement("svg",ee({width:32,height:20,viewBox:"0 5 32 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,se)}var ie=n.forwardRef(ae);s.p;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var ce=n.createElement("path",{d:"m13.48664,6.42723c-0.8956,-0.8956 -2.15997,-1.4751 -3.52971,-1.4751s-2.63411,0.55316 -3.52971,1.4751c-0.8956,0.8956 -1.4751,2.15997 -1.4751,3.52971s0.5795,2.63411 1.4751,3.52971c0.8956,0.8956 2.15997,1.4751 3.52971,1.4751s2.63411,-0.55316 3.52971,-1.4751c0.8956,-0.8956 1.4751,-2.15997 1.4751,-3.52971s-0.55316,-2.63411 -1.4751,-3.52971zm-0.94828,6.11114c-0.65853,0.65853 -1.58047,1.05364 -2.58143,1.05364s-1.9229,-0.39512 -2.58143,-1.05364s-1.05364,-1.58047 -1.05364,-2.58143s0.39512,-1.9229 1.05364,-2.58143s1.58047,-1.05364 2.58143,-1.05364s1.9229,0.39512 2.58143,1.05364s1.05364,1.58047 1.05364,2.58143s-0.39512,1.9229 -1.05364,2.58143z",fill:"currentColor"}),le=n.createElement("path",{d:"m19.229,9.27207l-2.02826,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487c0,0.36878 0.31609,0.68487 0.68487,0.68487l2.02826,0c0.36878,0 0.68487,-0.31609 0.68487,-0.68487c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"}),oe=n.createElement("path",{d:"m9.95694,16.51587c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487l0,2.02826c0,0.36878 0.31609,0.68487 0.68487,0.68487c0.36878,0 0.68487,-0.31609 0.68487,-0.68487l0,-2.02826c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"}),de=n.createElement("path",{d:"m16.99001,16.04173l-1.44876,-1.44876c-0.23707,-0.26341 -0.68487,-0.26341 -0.94828,0s-0.26341,0.68487 0,0.94828l1.44876,1.44876c0.26341,0.26341 0.68487,0.26341 0.94828,0s0.26341,-0.68487 0,-0.94828z",fill:"currentColor"}),he=n.createElement("path",{d:"m9.95694,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487l0,2.02826c0,0.36878 0.31609,0.68487 0.68487,0.68487c0.36878,0 0.68487,-0.31609 0.68487,-0.68487l0,-2.02826c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"}),ue=n.createElement("path",{d:"m17.01635,2.92386c-0.26341,-0.26341 -0.68487,-0.26341 -0.94828,0l-1.44876,1.44876c-0.26341,0.26341 -0.26341,0.68487 0,0.94828c0.23707,0.26341 0.68487,0.26341 0.94828,0l1.44876,-1.44876c0.26341,-0.26341 0.26341,-0.68487 0,-0.94828z",fill:"currentColor"}),pe=n.createElement("path",{d:"m2.71313,9.27207l-2.02826,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487s0.28975,0.68487 0.68487,0.68487l2.02826,0c0.36878,0 0.68487,-0.31609 0.68487,-0.68487c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"}),be=n.createElement("path",{d:"m5.29456,14.59297c-0.23707,-0.26341 -0.68487,-0.26341 -0.94828,0l-1.44876,1.44876c-0.26341,0.26341 -0.26341,0.68487 0,0.94828s0.68487,0.26341 0.94828,0l1.44876,-1.44876c0.26341,-0.26341 0.26341,-0.68487 0,-0.94828z",fill:"currentColor"}),me=n.createElement("path",{d:"m5.29456,4.37262l-1.44876,-1.44876c-0.26341,-0.26341 -0.68487,-0.26341 -0.94828,0s-0.26341,0.68487 0,0.94828l1.44876,1.44876c0.26341,0.26341 0.68487,0.26341 0.94828,0s0.26341,-0.68487 0,-0.94828z",fill:"currentColor"});function ve(e,t){var s=e.title,a=e.titleId,i=ne(e,["title","titleId"]);return n.createElement("svg",re({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,ce,le,oe,de,he,ue,pe,be,me)}var je=n.forwardRef(ve);s.p;function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Oe=n.createElement("path",{d:"M0.694333 17.3063C-1.21567 15.3943 0.952333 10.1263 5.53933 5.53935C10.1263 0.952348 15.3943 -1.21665 17.3063 0.694348C19.2163 2.60635 17.0483 7.87435 12.4613 12.4613C7.87433 17.0483 2.60633 19.2173 0.694333 17.3063ZM2.08033 15.9203C2.89533 16.7363 7.18233 14.9703 11.0773 11.0753C14.9723 7.18035 16.7373 2.89335 15.9223 2.07835C15.1073 1.26235 10.8203 3.02835 6.92533 6.92335C3.03033 10.8183 1.26533 15.1053 2.08033 15.9203ZM5.54033 12.4603C0.952333 7.87435 -1.21667 2.60635 0.694333 0.694348C2.60633 -1.21565 7.87433 0.952348 12.4613 5.53935C17.0483 10.1263 19.2173 15.3943 17.3063 17.3063C15.3943 19.2163 10.1263 17.0483 5.53933 12.4613L5.54033 12.4603ZM6.92533 11.0753C10.8203 14.9703 15.1073 16.7353 15.9223 15.9203C16.7383 15.1053 14.9723 10.8183 11.0773 6.92335C7.18233 3.02835 2.89533 1.26335 2.08033 2.07835C1.26433 2.89335 3.03033 7.18035 6.92533 11.0753ZM9.00033 11.0003C8.4699 11.0003 7.96119 10.7896 7.58612 10.4146C7.21105 10.0395 7.00033 9.53078 7.00033 9.00035C7.00033 8.46992 7.21105 7.96121 7.58612 7.58613C7.96119 7.21106 8.4699 7.00035 9.00033 7.00035C9.53077 7.00035 10.0395 7.21106 10.4145 7.58613C10.7896 7.96121 11.0003 8.46992 11.0003 9.00035C11.0003 9.53078 10.7896 10.0395 10.4145 10.4146C10.0395 10.7896 9.53077 11.0003 9.00033 11.0003Z",fill:"currentColor"});function fe(e,t){var s=e.title,a=e.titleId,i=xe(e,["title","titleId"]);return n.createElement("svg",ge({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Oe)}var Se=n.forwardRef(fe),ye=(s.p,s(5));let _e;!function(e){e[e.SyncStatus=0]="SyncStatus",e[e.PublicNodeStatus=1]="PublicNodeStatus",e[e.NodeStatus=2]="NodeStatus",e[e.MPSMetrics=3]="MPSMetrics",e[e.TipSelMetric=4]="TipSelMetric",e[e.Ms=5]="Ms",e[e.PeerMetric=6]="PeerMetric",e[e.ConfirmedMsMetrics=7]="ConfirmedMsMetrics",e[e.Vertex=8]="Vertex",e[e.SolidInfo=9]="SolidInfo",e[e.ConfirmedInfo=10]="ConfirmedInfo",e[e.MilestoneInfo=11]="MilestoneInfo",e[e.TipInfo=12]="TipInfo",e[e.DBSizeMetric=13]="DBSizeMetric",e[e.DBCleanup=14]="DBCleanup",e[e.SpamMetrics=15]="SpamMetrics",e[e.AvgSpamMetrics=16]="AvgSpamMetrics"}(_e||(_e={}));class we{static subscribe(e,t,s){we._subscriptions[e]=we._subscriptions[e]||{},we._subscriptions[e][t]=s}static unsubscribe(e,t){we._subscriptions[e]&&delete we._subscriptions[e][t]}static publish(e,t){setTimeout((()=>{if(we._subscriptions[e])for(const s in we._subscriptions[e])we._subscriptions[e][s](t)}),0)}}we._subscriptions={};class Ne{static initialize(){if(Ne._brandId)return Ne._brandConfiguration=s(100)("./".concat(Ne._brandId,"/brand.json")),document.title="".concat(Ne._brandConfiguration.name," Dashboard"),Ne._brandConfiguration}static getConfiguration(){return Ne._brandConfiguration}static getLogoNavigation(e){return Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(103)("./".concat(Ne._brandId,"/themes/").concat(e,"/logo-navigation.svg"));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})))()}static getBanner(e){return Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(104)("./".concat(Ne._brandId,"/themes/").concat(e,"/banner.svg"));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})))()}}Ne._brandId="hornet",Ne._brandConfiguration=void 0;s(105);class Ce extends n.Component{constructor(...e){super(...e),this._isMounted=void 0}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}setState(e,t){this._isMounted&&super.setState(e,t)}}var Ie=Ce;class ke extends n.Component{constructor(e){super(e),this._resize=void 0,this._resize=()=>this.resize(),this.state={isVisible:this.calculateVisible()}}componentDidMount(){window.addEventListener("resize",this._resize)}componentWillUnmount(){window.removeEventListener("resize",this._resize)}render(){return this.state.isVisible?this.props.children:null}resize(){const e=this.calculateVisible();this.setState({isVisible:e})}calculateVisible(){const e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);return"above"===this.props.aboveBelow?e>=ke.SIZE_BREAKPOINTS[this.props.size]:e<ke.SIZE_BREAKPOINTS[this.props.size]}}ke.SIZE_BREAKPOINTS={phone:480,tablet:768,desktop:1024};var Me=ke;class Te{static calculateMemoryUsage(e){return e.mem.heap_inuse+(e.mem.heap_idle-e.mem.heap_released)+e.mem.m_span_inuse+e.mem.m_cache_inuse+e.mem.stack_sys}static formatPeerAddress(e){let t;if(e.multiAddresses)for(let s=0;s<e.multiAddresses.length&&!t;s++)t=this.extractAddress(e.multiAddresses[s]);return t}static extractAddress(e){let t=Te.extractIp4(e);return t||(t=Te.extractIp6(e)),t||(t=Te.extractDns(e)),t}static extractIp4(e){const t=/\/ip4\/((?:\d{1,3}.){3}\d{1,3})\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}static extractIp6(e){const t=/\/ip6\/(.*?)\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}static extractDns(e){const t=/\/dns\/(.*?)\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}static sortPeers(e){return e.sort(((e,t)=>{var s,a;return e.health!==t.health?t.health-e.health:(null!==(s=e.alias)&&void 0!==s?s:e.id).localeCompare(null!==(a=t.alias)&&void 0!==a?a:t.id)}))}static calculateHealth(e,t,s){let a=0;var i,r,n;e.connected&&(a=Te.calculateIsSynced(e,s)&&(null===(i=e.gossip)||void 0===i?void 0:i.heartbeat)&&(null===(r=e.gossip)||void 0===r||null===(n=r.heartbeat)||void 0===n?void 0:n.prunedMilestoneIndex)<t?2:1);return a}static calculateIsSynced(e,t){var s;let a=!1;if(null===(s=e.gossip)||void 0===s?void 0:s.heartbeat){const s=t<e.gossip.heartbeat.latestMilestoneIndex?e.gossip.heartbeat.latestMilestoneIndex:t;e.gossip.heartbeat.solidMilestoneIndex>=s-2&&(a=!0)}return a}}var Ee=s(50),Pe=s.n(Ee),Le=s(33),De=s.n(Le);class Be{static duration(e){return e<36e5?Pe()(e,{largest:1,round:!0}):Pe()(e,{largest:2,round:!0})}static size(e,t=2){if(!e)return"0 bytes";const s=Math.floor(Math.log(e)/Math.log(1e3)),a=Number((e/Math.pow(1e3,s)).toFixed(t));let i=["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"][s];return"bytes"===i&&1===a&&(i="byte"),void 0===i?e.toFixed(t).toString():"".concat(a," ").concat(i)}static iSize(e,t=2){if(!e)return"0 bytes";const s=Math.floor(Math.log(e)/Math.log(1024)),a=Number((e/Math.pow(1024,s)).toFixed(t));let i=["bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][s];return"bytes"===i&&1===a&&(i="byte"),void 0===i?e.toFixed(t).toString():"".concat(a," ").concat(i)}static date(e,t=!0){e=Be.milliseconds(e);const s=De()(e);let a=s.format("LLLL");if(t){const t=e>Date.now()?"in the future":"ago";a+=" - ".concat(De.a.duration(De()().diff(s)).humanize()," ").concat(t)}return a}static dateShort(e){return De()(Be.milliseconds(e)).format("YYYY-MM-DD HH:mm")}static milliseconds(e){return e.toString().length<13?1e3*e:e}}s(106);var Re=s(7),Ae=s.n(Re);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var ze=n.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#FF6755"}),Fe=n.createElement("circle",{cx:8,cy:8,r:4,fill:"#FF6755"});function Ve(e,t){var s=e.title,a=e.titleId,i=He(e,["title","titleId"]);return n.createElement("svg",Ue({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,ze,Fe)}var We=n.forwardRef(Ve);s.p;function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Ge=n.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#61E884"}),Ze=n.createElement("circle",{cx:8,cy:8,r:4,fill:"#61E884"});function Ke(e,t){var s=e.title,a=e.titleId,i=Ye(e,["title","titleId"]);return n.createElement("svg",qe({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Ge,Ze)}var Je=n.forwardRef(Ke),Qe=(s.p,s(107),s(0));class Xe extends n.Component{render(){return Object(Qe.jsxs)("div",{className:Ae()("health-indicator",this.props.className),children:[this.props.healthy?Object(Qe.jsx)(Je,{}):Object(Qe.jsx)(We,{}),Object(Qe.jsx)("span",{className:"label",children:this.props.label})]})}}var $e=Xe;s(109);class et extends n.Component{constructor(e){var t,s;super(e),this._graphWidth=void 0,this._graphHeight=void 0,this._graphWidth=null!==(t=this.props.graphWidth)&&void 0!==t?t:80,this._graphHeight=null!==(s=this.props.graphHeight)&&void 0!==s?s:10,this.state=Object(h.a)({},this.calculateGraph())}componentDidUpdate(e){this.props.values!==e.values&&this.setState(this.calculateGraph())}render(){return Object(Qe.jsxs)("div",{className:Ae()("micro-graph",this.props.className),children:[Object(Qe.jsx)("span",{className:"label",children:this.props.label}),Object(Qe.jsx)("span",{className:"value",children:this.props.value}),Object(Qe.jsx)("span",{className:"canvas",children:Object(Qe.jsxs)("svg",{width:this._graphWidth,height:this._graphHeight,children:[this.state.graphPoints&&this.state.graphPoints.length>0&&Object(Qe.jsx)("path",{d:this.state.graphPoints.map((e=>"".concat(e.type," ").concat(e.x," ").concat(e.y))).join(" "),stroke:"currentColor",strokeWidth:"2",fill:"none"}),this.state.circle&&this.state.circle.x>=0&&Object(Qe.jsx)("circle",{cx:this.state.circle.x,cy:this.state.circle.y,r:"3",fill:"currentColor"})]})})]})}calculateGraph(){const e=this._graphWidth/2,t=this.props.values.slice(-e);let s,a,i=-1,r=-1;for(let c=0;c<t.length;c++)(void 0===s||t[c]<s)&&(s=t[c]),(void 0===a||t[c]>a)&&(a=t[c]);const n=[];if(void 0!==a&&void 0!==s){const c=a-s,l=0===c?1:c/this._graphHeight;let o=(t[0]-s)/l;n.push({type:"M",x:0,y:this._graphHeight-o});const d=e/t.length*2;for(let e=1;e<t.length;e++){const a=(t[e]-s)/l;n.push({type:"l",x:d,y:-1*(a-o)}),o=a}i=(t.length-1)*d,r=10-o}return{graphPoints:n,circle:{x:i,y:r}}}}var tt=et;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var it=n.createElement("path",{d:"M8.0005 14.0005C8.78843 14.0005 9.56865 13.8453 10.2966 13.5438C11.0246 13.2423 11.686 12.8003 12.2431 12.2431C12.8003 11.686 13.2423 11.0246 13.5438 10.2966C13.8453 9.56865 14.0005 8.78843 14.0005 8.0005C14.0005 7.21257 13.8453 6.43236 13.5438 5.7044C13.2423 4.97645 12.8003 4.31501 12.2431 3.75786C11.686 3.20071 11.0246 2.75875 10.2966 2.45723C9.56865 2.1557 8.78843 2.0005 8.0005 2.0005C6.4092 2.0005 4.88308 2.63264 3.75786 3.75786C2.63264 4.88308 2.0005 6.4092 2.0005 8.0005C2.0005 9.5918 2.63264 11.1179 3.75786 12.2431C4.88308 13.3684 6.4092 14.0005 8.0005 14.0005ZM14.3205 12.9065L17.9005 16.4865C17.9959 16.5788 18.072 16.6892 18.1244 16.8113C18.1767 16.9333 18.2042 17.0645 18.2052 17.1973C18.2063 17.3301 18.1809 17.4618 18.1305 17.5846C18.0802 17.7075 18.0058 17.8191 17.9119 17.9129C17.8179 18.0067 17.7062 18.0809 17.5833 18.1311C17.4604 18.1813 17.3287 18.2065 17.1959 18.2052C17.0631 18.204 16.9319 18.1763 16.8099 18.1238C16.688 18.0713 16.5777 17.9951 16.4855 17.8995L12.9055 14.3195C11.298 15.5674 9.2753 16.1557 7.24926 15.9647C5.22322 15.7737 3.34611 14.8178 2.00005 13.2916C0.654 11.7653 -0.0598121 9.78345 0.00392902 7.74943C0.0676701 5.7154 0.904173 3.78213 2.34315 2.34315C3.78213 0.904173 5.7154 0.0676701 7.74943 0.00392902C9.78345 -0.0598121 11.7653 0.654 13.2916 2.00005C14.8178 3.34611 15.7737 5.22322 15.9647 7.24926C16.1557 9.2753 15.5674 11.298 14.3195 12.9055L14.3205 12.9065Z",fill:"#9AADCE"});function rt(e,t){var s=e.title,a=e.titleId,i=at(e,["title","titleId"]);return n.createElement("svg",st({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,it)}var nt=n.forwardRef(rt);s.p,s(110);class ct extends n.Component{constructor(e){super(e),this.state={query:""}}render(){return Object(Qe.jsxs)("div",{className:Ae()("search-input",{"search-input--compact":this.props.compact},this.props.className),children:[Object(Qe.jsx)("button",{type:"button",className:"icon-button",onClick:()=>this.props.onSearch(this.state.query),children:Object(Qe.jsx)(nt,{})}),Object(Qe.jsx)("input",{type:"text",value:this.state.query,onChange:e=>this.setState({query:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&this.props.onSearch(this.state.query)},placeholder:this.props.compact?"Search the Tangle":"Search messages, addresses, outputs, milestones, indexes"})]})}}var lt=ct;var ot=Object(u.g)(class extends Ie{constructor(e){super(e),this._authService=void 0,this._metricsService=void 0,this._nodeStatusSubscription=void 0,this._publicNodeStatusSubscription=void 0,this._databaseSizeSubscription=void 0,this._mpsMetricsSubscription=void 0,this._metricsService=ye.a.get("metrics"),this._authService=ye.a.get("auth"),this.state={syncHealth:!1,nodeHealth:!1,mps:"-",mpsValues:[],memorySizeFormatted:"-",memorySize:[],databaseSizeFormatted:"-",databaseSize:[],isLoggedIn:Boolean(this._authService.isLoggedIn()),online:!1}}componentDidMount(){super.componentDidMount(),we.subscribe("auth-state","header",(e=>{this.setState({isLoggedIn:e})})),we.subscribe("online","header",(e=>{e!==this.state.online&&this.setState({online:e})})),this._publicNodeStatusSubscription=this._metricsService.subscribe(_e.PublicNodeStatus,(e=>{e&&(this.state.online||this.setState({online:!0}),e.is_healthy!==this.state.nodeHealth&&this.setState({nodeHealth:e.is_healthy}),e.is_synced!==this.state.syncHealth&&this.setState({syncHealth:e.is_synced}))})),this._nodeStatusSubscription=this._metricsService.subscribe(_e.NodeStatus,(e=>{if(e){const t=Be.iSize(Te.calculateMemoryUsage(e),1);t!==this.state.memorySizeFormatted&&this.setState({memorySizeFormatted:t})}}),(e=>{const t=e.filter((e=>void 0!==e&&null!==e));this.setState({memorySize:t.map((e=>Te.calculateMemoryUsage(e)))})})),this._databaseSizeSubscription=this._metricsService.subscribe(_e.DBSizeMetric,(e=>{if(e){const t=Be.size(e.total);t!==this.state.databaseSizeFormatted&&this.setState({databaseSizeFormatted:t})}}),(e=>{const t=e.filter((e=>void 0!==e&&null!==e)).map((e=>e.total));this.setState({databaseSize:t})})),this._mpsMetricsSubscription=this._metricsService.subscribe(_e.MPSMetrics,(e=>{if(e){const t=this.state.mpsValues.slice(-40);t.push(e.new);const s=t[t.length-1].toString();s!==this.state.mps&&this.setState({mps:s}),this.setState({mpsValues:t})}}))}componentWillUnmount(){super.componentWillUnmount(),we.unsubscribe("auth-state","header"),we.unsubscribe("online","header"),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),this._nodeStatusSubscription&&(this._metricsService.unsubscribe(this._nodeStatusSubscription),this._nodeStatusSubscription=void 0),this._databaseSizeSubscription&&(this._metricsService.unsubscribe(this._databaseSizeSubscription),this._databaseSizeSubscription=void 0),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0)}render(){return Object(Qe.jsx)("header",{className:"header",children:Object(Qe.jsx)("div",{className:"content",children:this.state.online&&Object(Qe.jsxs)(c.a.Fragment,{children:[this.props.children,Object(Qe.jsx)(lt,{compact:!0,onSearch:e=>this.props.history.push("/explorer/search/".concat(e)),className:"child child-fill"}),Object(Qe.jsxs)(Me,{size:"tablet",aboveBelow:"above",children:[Object(Qe.jsx)($e,{label:"Health",healthy:this.state.nodeHealth,className:"child"}),Object(Qe.jsx)($e,{label:"Sync",healthy:this.state.syncHealth,className:"child"})]}),Object(Qe.jsxs)(Me,{size:"desktop",aboveBelow:"above",children:[Object(Qe.jsx)(tt,{label:"MPS",value:this.state.mps,values:this.state.mpsValues,className:"child"}),this.state.isLoggedIn&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(tt,{label:"Database",value:this.state.databaseSizeFormatted,values:this.state.databaseSize,className:"child"}),Object(Qe.jsx)(tt,{label:"Memory",value:this.state.memorySizeFormatted,values:this.state.memorySize,className:"child"})]})]})]})})})}});s(115);class dt extends n.Component{constructor(e){super(e),this._themeService=void 0,this._themeService=ye.a.get("theme"),this.state={logoSrc:"",isOpen:!1}}componentDidMount(){var e=this;return Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,Ne.getLogoNavigation(e._themeService.get());case 3:t.t1=t.sent,t.t2={logoSrc:t.t1},t.t0.setState.call(t.t0,t.t2),we.subscribe("theme","navmenu",function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,Ne.getLogoNavigation(s);case 3:t.t1=t.sent,t.t2={logoSrc:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){we.unsubscribe("theme","navmenu")}render(){return Object(Qe.jsxs)("div",{className:"nav-menu",onClick:()=>this.state.isOpen&&this.setState({isOpen:!1}),children:[Object(Qe.jsx)("button",{type:"button",onClick:()=>this.setState({isOpen:!this.state.isOpen}),children:Object(Qe.jsx)("img",{src:this.state.logoSrc,className:"logo"})}),this.state.isOpen&&Object(Qe.jsx)("div",{className:"popup-container",children:this.props.children})]})}}var ht=Object(u.g)(dt);s(116);class ut extends n.Component{constructor(e){super(e),this._themeService=void 0,this._themeService=ye.a.get("theme"),this.state={logoSrc:""}}componentDidMount(){var e=this;return Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,Ne.getLogoNavigation(e._themeService.get());case 3:t.t1=t.sent,t.t2={logoSrc:t.t1},t.t0.setState.call(t.t0,t.t2),we.subscribe("theme","navpanel",function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,Ne.getLogoNavigation(s);case 3:t.t1=t.sent,t.t2={logoSrc:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){we.unsubscribe("theme","navpanel")}render(){return Object(Qe.jsxs)("div",{className:Ae()("nav-panel",{"full-width":this.props.fullWidth}),children:[Object(Qe.jsx)(d.b,{to:"/",children:Object(Qe.jsx)("img",{src:this.state.logoSrc,className:"logo"})}),Object(Qe.jsx)("div",{className:"nav-panel-middle",children:this.props.middle.map((e=>Object(Qe.jsxs)(c.a.Fragment,{children:[!e.hidden&&e.route&&Object(Qe.jsxs)(d.b,{to:e.route,className:Ae()("nav-panel--button",{"nav-panel--button__selected":e.route.length>1&&this.props.location.pathname.startsWith(e.route)||e.route===this.props.location.pathname}),children:[e.icon,Object(Qe.jsx)("span",{className:"nav-panel-button-label",children:e.label})]}),!e.hidden&&e.function&&Object(Qe.jsxs)("button",{type:"button",onClick:()=>{var t;return null===(t=e.function)||void 0===t?void 0:t.call(e)},className:Ae()("nav-panel--button"),children:[e.icon,Object(Qe.jsx)("span",{className:"nav-panel-button-label",children:e.label})]})]},e.label)))}),Object(Qe.jsx)("div",{className:"nav-panel-end",children:this.props.end.map((e=>Object(Qe.jsxs)(c.a.Fragment,{children:[!e.hidden&&e.route&&Object(Qe.jsxs)(d.b,{to:e.route,className:Ae()("nav-panel--button",{"nav-panel--button__selected":e.route.length>1&&this.props.location.pathname.startsWith(e.route)||e.route===this.props.location.pathname}),children:[e.icon,Object(Qe.jsx)("span",{className:"nav-panel-button-label",children:e.label})]}),!e.hidden&&e.function&&Object(Qe.jsxs)("button",{type:"button",onClick:()=>{var t;return null===(t=e.function)||void 0===t?void 0:t.call(e)},className:Ae()("nav-panel--button"),children:[e.icon,Object(Qe.jsx)("span",{className:"nav-panel-button-label",children:e.label})]})]},e.label)))})]})}}var pt=Object(u.g)(ut),bt=s(3);s(166);var mt=class extends Ie{constructor(e){super(e),this._graphElement=void 0,this._resize=void 0,this._graphElement=null,this._resize=()=>this.resize(),this.state={}}componentDidMount(){super.componentDidMount(),window.addEventListener("resize",this._resize)}componentDidUpdate(e){let t=this.props.series.length===e.series.length;if(t)for(let s=0;s<this.props.series.length&&(t=bt.ArrayHelper.equal(this.props.series[s].values,e.series[s].values),t);s++);t||this.setState(this.calculateGraph())}componentWillUnmount(){super.componentWillUnmount(),this._graphElement=null,window.removeEventListener("resize",this._resize)}render(){var e,t;return Object(Qe.jsxs)("div",{className:Ae()("graph",this.props.className),children:[Object(Qe.jsxs)("div",{className:"title-row",children:[Object(Qe.jsx)("div",{className:"caption",children:this.props.caption}),Object(Qe.jsx)("div",{className:"key",children:this.props.series.length>1&&this.props.series.map(((e,t)=>Object(Qe.jsxs)("span",{className:"key",children:[Object(Qe.jsx)("div",{className:Ae()("key-color",e.className)}),Object(Qe.jsx)("span",{className:"key-label",children:e.label})]},t)))})]}),Object(Qe.jsx)("span",{className:"canvas",children:Object(Qe.jsxs)("svg",{ref:e=>this.setElement(e),children:[null===(e=this.state.paths)||void 0===e?void 0:e.map(((e,t)=>Object(Qe.jsx)("path",{d:e.path,className:e.className,strokeWidth:1},t))),null===(t=this.state.text)||void 0===t?void 0:t.map(((e,t)=>{var s;return Object(Qe.jsx)("text",{x:e.x,y:e.y,textAnchor:null!==(s=e.anchor)&&void 0!==s?s:"start",className:"axis-label",children:e.content},t)}))]})})]})}setElement(e){setTimeout((()=>{!this._graphElement&&e&&(this._graphElement=e,this.setState(this.calculateGraph()))}),100)}resize(){this._graphElement&&this.setState(this.calculateGraph())}calculateGraph(){const e=[],t=[],s=[];if(this._graphElement&&this.props.series.length>0){const r=20;try{const i=this._graphElement.width.baseVal.value,n=this._graphElement.height.baseVal.value-r;let c=this.props.seriesMaxLength;i<500&&(c/=2);const l=this.props.series.map((e=>e.values.slice(-c)));let o=0;const d=Math.min(c,l[0].length);for(let e=0;e<l.length;e++)for(let t=0;t<l[e].length;t++)l[e][t]>o&&(o=l[e][t]);0===o&&(o=4);const h=.9,u=30,p=10,b=10,m=4,v=o<=2?2:0,j=n*h/o,g=(i-u-p-b)/(c*this.props.series.length),x=n/(m-1);for(let e=0;e<m;e++)s.push({path:"M ".concat(u," ").concat(n-e*x," L ").concat(i," ").concat(n-e*x),className:"axis-color"}),t.push({x:u-5,y:n-e*x+2,anchor:"end",content:(e*(o/h/(m-1))).toFixed(v)});if(this.props.timeInterval&&this.props.endTime){var a;let e=null!==(a=this.props.timeMarkers)&&void 0!==a?a:Math.floor(i/100);i<300&&(e=3);const s=this.props.endTime-d*this.props.timeInterval,l=c*this.props.timeInterval/e;for(let a=0;a<=e;a++){const c=new Date(s+a*l);t.push({x:p+u/2+(i-p-b)/e*a,y:n+r,anchor:"middle",content:"".concat(c.getHours().toString().padStart(2,"0"),":").concat(c.getMinutes().toString().padStart(2,"0"),".").concat(c.getSeconds().toString().padStart(2,"0"))})}}for(let t=0;t<d;t++)for(let s=0;s<l.length;s++){const a=l[s][t];e.push({path:this.calculatePath(n,g,u+p,s+t*l.length,a*j),className:this.props.series[s].className})}}catch(i){}}return{text:t,paths:[...s,...e.reverse()]}}calculatePath(e,t,s,a,i){let r=["M ".concat(s+a*t+2," ").concat(e)];return r=[...r,...i<=0?["L ".concat(s+(a*t+2)," ").concat(e-1),"L ".concat(s+(a+1)*t-2," ").concat(e-1),"L ".concat(s+(a+1)*t-2," ").concat(e)]:["L ".concat(s+a*t+2," ").concat(e-i),"C ".concat(s+a*t+2," ").concat(e-i-10," ").concat(s+(a+1)*t-2," ").concat(e-i-10," ").concat(s+(a+1)*t-2," ").concat(e-i),"L ".concat(s+(a+1)*t-2," ").concat(e)]],r.join(" ")}};s(167);class vt extends n.Component{constructor(e){super(e),this.state={activeTab:e.activeTab.toLowerCase()}}componentDidUpdate(e){this.props.activeTab.toLowerCase()!==e.activeTab.toLowerCase()&&this.setState({activeTab:this.props.activeTab.toLowerCase()})}render(){var e;return Object(Qe.jsxs)("div",{className:"tab-panel",children:[Object(Qe.jsx)("div",{className:"tab-panel--buttons",children:this.props.tabs.map((e=>Object(Qe.jsxs)("button",{type:"button",className:Ae()("tab-panel--button",{"tab-panel--button__selected":e.toLowerCase()===this.state.activeTab}),onClick:t=>this.setState({activeTab:e.toLowerCase()},(()=>{this.props.onTabChanged&&this.props.onTabChanged(this.state.activeTab)})),children:[Object(Qe.jsx)("div",{children:e}),Object(Qe.jsx)("div",{className:"underline"})]},e)))}),null===(e=this.props.children)||void 0===e?void 0:e.flat().map(((e,t)=>Object(Qe.jsx)(c.a.Fragment,{children:c.a.isValidElement(e)&&e.props["data-label"]&&e.props["data-label"].toLowerCase()===this.state.activeTab&&e},t)))]})}}var jt=vt;class gt{static json(e,t,s,a,n,c){return Object(r.a)(i.a.mark((function r(){var l,o,d,h,u;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=null!==(l=n)&&void 0!==l?l:{})["Content-Type"]="application/json",void 0!==c&&(o=new AbortController,d=setTimeout((()=>{o&&o.abort()}),c)),i.prev=3,i.next=6,fetch("".concat(e.replace(/\/$/,""),"/").concat(t.replace(/^\//,"")),{method:s,headers:n,body:a?JSON.stringify(a):void 0,signal:o?o.signal:void 0});case 6:if(204!==(h=i.sent).status){i.next=11;break}i.t0={},i.next=14;break;case 11:return i.next=13,h.json().catch((e=>{throw new Error("Fetched failed: ".concat(e.message))}));case 13:i.t0=i.sent;case 14:return u=i.t0,i.abrupt("return",u);case 18:throw i.prev=18,i.t1=i.catch(3),"AbortError"===i.t1.name?new Error("Timeout"):i.t1;case 21:return i.prev=21,d&&clearTimeout(d),i.finish(21);case 24:case"end":return i.stop()}}),r,null,[[3,18,21,24]])})))()}static text(e,t,s,a,n,c){return Object(r.a)(i.a.mark((function r(){var l,o,d,h,u;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=null!==(l=n)&&void 0!==l?l:{})["Content-Type"]="text/plain",void 0!==c&&(o=new AbortController,d=setTimeout((()=>{o&&o.abort()}),c)),i.prev=3,i.next=6,fetch("".concat(e.replace(/\/$/,""),"/").concat(t.replace(/^\//,"")),{method:s,headers:n,body:a?JSON.stringify(a):void 0,signal:o?o.signal:void 0});case 6:if(204!==(h=i.sent).status){i.next=11;break}i.t0={},i.next=14;break;case 11:return i.next=13,h.json().catch((e=>{throw new Error("Fetched failed: ".concat(h.statusText))}));case 13:i.t0=i.sent;case 14:return u=i.t0,i.abrupt("return",u);case 18:throw i.prev=18,i.t1=i.catch(3),"AbortError"===i.t1.name?new Error("Timeout"):i.t1;case 21:return i.prev=21,d&&clearTimeout(d),i.finish(21);case 24:case"end":return i.stop()}}),r,null,[[3,18,21,24]])})))()}static urlParams(e){const t=[];for(const s in e)null!==e[s]&&void 0!==e[s]&&t.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(e[s])));return t.length>0?"?".concat(t.join("&")):""}}s(168);function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var ft=n.createElement("g",{filter:"url(#filter0_d)"},n.createElement("circle",{cx:14,cy:14,r:12,fill:"currentColor"})),St=n.createElement("defs",null,n.createElement("filter",{id:"filter0_d",x:0,y:0,width:28,height:28,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),n.createElement("feOffset",{dy:1}),n.createElement("feGaussianBlur",{stdDeviation:1}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.375 0 0 0 0 0.375 0 0 0 0 0.375 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})));function yt(e,t){var s=e.title,a=e.titleId,i=Ot(e,["title","titleId"]);return n.createElement("svg",xt({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,ft,St)}var _t=n.forwardRef(yt);s.p;class wt extends n.Component{constructor(e){super(e),this.state={value:e.value}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}render(){return Object(Qe.jsx)("button",{type:"button",className:Ae()("toggle-button",{"toggle-button--checked":this.state.value}),onClick:e=>this.setState({value:!this.state.value},(()=>{this.props.onChanged(this.state.value)})),children:Object(Qe.jsx)("div",{className:"icon-container",children:Object(Qe.jsx)(_t,{})})})}}var Nt=wt;s(169);class Ct extends Ie{constructor(e){super(e),this.state={isRunning:!1,mps:"1",cpu:"80",workers:"0",workersMax:0}}static initPlugin(){return Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ct._isAvailable=!1,e.prev=1,!(t=Ct.buildAuthHeaders()).Authorization){e.next=8;break}return e.next=6,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/status","get",void 0,t);case 6:e.sent.data&&(Ct._isAvailable=!0);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}static pluginDetails(){if(Ct._isAvailable)return{title:Ct.PLUGIN_TITLE,description:Ct.PLUGIN_DESCRIPTION,settings:Object(Qe.jsx)(Ct,{})}}static buildAuthHeaders(){const e=ye.a.get("auth"),t={},s=e.isLoggedIn();s&&(t.Authorization="Bearer ".concat(s));const a=e.csrf();return a&&(t["X-CSRF-Token"]=a),t}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t.pluginStatus();case 3:case"end":return s.stop()}}),s)})))()}render(){var e=this;return Object(Qe.jsx)("div",{className:"card padding-l",children:Object(Qe.jsxs)("div",{className:"spammer",children:[Object(Qe.jsx)("h2",{children:Ct.PLUGIN_TITLE}),Object(Qe.jsx)("p",{className:"margin-t-s",children:Ct.PLUGIN_DESCRIPTION}),Object(Qe.jsx)("div",{className:"card--label",children:"Running"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)(Nt,{value:this.state.isRunning,onChanged:function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s?e.pluginStart():e.pluginStop();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),Object(Qe.jsx)("h2",{className:"margin-t-s",children:"Settings"}),Object(Qe.jsx)("div",{className:"card--label",children:"Messages Per Second"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("input",{type:"text",value:this.state.mps,disabled:!this.state.isRunning,onChange:e=>this.setState({mps:e.target.value}),onBlur:e=>this.validateSettings()})}),Object(Qe.jsx)("div",{className:"card--label",children:"CPU Utilization"}),Object(Qe.jsxs)("div",{className:"card--value row middle",children:[Object(Qe.jsx)("input",{type:"text",value:this.state.cpu,disabled:!this.state.isRunning,onChange:e=>this.setState({cpu:e.target.value}),onBlur:e=>this.validateSettings()}),Object(Qe.jsx)("p",{className:"margin-l-t",children:"%"})]}),Object(Qe.jsx)("div",{className:"card--label",children:"Number of Workers"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("input",{type:"text",value:this.state.workers,disabled:!this.state.isRunning,onChange:e=>this.setState({workers:e.target.value}),onBlur:e=>this.validateSettings()})}),Object(Qe.jsx)("hr",{}),Object(Qe.jsx)("div",{className:"card--value",children:Object(Qe.jsx)("button",{className:"card--action margin-r-s",type:"button",disabled:!this.state.isRunning,onClick:function(){var t=Object(r.a)(i.a.mark((function t(s){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.pluginStart());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Apply"})})]})})}pluginStatus(){var e=this;return Object(r.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/status","get",void 0,Ct.buildAuthHeaders());case 3:(s=t.sent).data?e.setState({isRunning:s.data.running,mps:s.data.mpsRateLimit.toString(),cpu:(100*s.data.cpuMaxUsage).toString(),workers:s.data.spammerWorkers.toString(),workersMax:s.data.spammerWorkersMax}):console.log(s.error),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}validateSettings(){const e=Number.parseFloat(this.state.mps);Number.isNaN(e)&&this.setState({mps:"1"});const t=Number.parseFloat(this.state.cpu);(Number.isNaN(t)||t<0||t>100)&&this.setState({cpu:"80"});const s=Number.parseInt(this.state.workers,10);(Number.isNaN(s)||s<=0||s>this.state.workersMax)&&this.setState({workers:this.state.workersMax.toString()})}pluginStart(){var e=this;return Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/start","post",{mpsRateLimit:Number.parseFloat(e.state.mps),cpuMaxUsage:Number.parseFloat(e.state.cpu)/100,spammerWorkers:Number.parseInt(e.state.workers,10)},Ct.buildAuthHeaders());case 3:return t.next=5,e.pluginStatus();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}pluginStop(){var e=this;return Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/stop","post",void 0,Ct.buildAuthHeaders());case 3:return t.next=5,e.pluginStatus();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}Ct.PLUGIN_TITLE="Spammer",Ct.PLUGIN_DESCRIPTION="Spam the IOTA network with data messages.",Ct._isAvailable=!1;var It=Ct;s(170);class kt extends Ie{constructor(e){var t;super(e),this._metricsService=void 0,this._mpsMetricsSubscription=void 0,this._confirmedMsMetricsSubscription=void 0,this._statusSubscription=void 0,this._databaseSizeSubscription=void 0,this._spamAvgSubscription=void 0,this._spamSubscription=void 0,this._authService=void 0,this._metricsService=ye.a.get("metrics"),this._authService=ye.a.get("auth");const s=Boolean(It.pluginDetails());this.state={tabs:this.calculateTabs(s),activeTab:null!==(t=this.props.match.params.section)&&void 0!==t?t:"tangle",mpsIncoming:[],mpsOutgoing:[],lastReceivedMpsTime:0,averageMilestoneTime:0,lastMsReceivedTime:0,milestoneTiming:[],mps:[],rmps:[],lastStatusReceivedTime:0,lastDbInterval:1e3,memorySize:[],lastStatusInterval:1e3,lastDbReceivedTime:0,databaseSize:[],isSpammerAvailable:s,lastSpamAvgReceivedTime:0,spamNewMsgs:[],spamAvgMsgs:[],lastSpamReceivedTime:0,lastSpamInterval:0,lastSpamIntervals:[],tipSelection:[],pow:[],requestQueue:{queued:[],pending:[],processing:[],averageLatency:[]},memory:{stackAlloc:[],heapReleased:[],heapInUse:[],heapIdle:[],heapSys:[],totalAlloc:[]},caches:{requestQueue:[],children:[],milestones:[],messages:[],incomingMessageWorkUnits:[]}}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e().call(t),t._mpsMetricsSubscription=t._metricsService.subscribe(_e.MPSMetrics,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e));t.setState({lastReceivedMpsTime:Date.now(),mpsIncoming:s.map((e=>e.incoming)),mpsOutgoing:s.map((e=>e.outgoing))})})),t._confirmedMsMetricsSubscription=t._metricsService.subscribe(_e.ConfirmedMsMetrics,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e));let a=0;for(let t=0;t<s.length;t++)a+=s[t].time_since_last_ms;t.setState({averageMilestoneTime:a/s.length*1e3,lastMsReceivedTime:Date.now(),milestoneTiming:s.map((e=>e.time_since_last_ms)),mps:s.map((e=>e.mps*e.time_since_last_ms)),rmps:s.map((e=>e.rmps*e.time_since_last_ms))})})),t._statusSubscription=t._metricsService.subscribe(_e.NodeStatus,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e));if(t.setState({memorySize:s.map((e=>Te.calculateMemoryUsage(e)/kt.BYTES_PER_MIB)),lastStatusReceivedTime:Date.now(),lastStatusInterval:0===t.state.lastStatusReceivedTime?1e3:Date.now()-t.state.lastStatusReceivedTime}),s.length>0){const e=s[s.length-1],a={newMessages:e.server_metrics.new_msgs,knownMessages:e.server_metrics.known_msgs,receivedMessages:e.server_metrics.known_msgs+e.server_metrics.new_msgs,receivedMessageRequests:e.server_metrics.rec_msg_req,receivedMilestoneRequests:e.server_metrics.rec_ms_req,receivedHeartbeats:e.server_metrics.rec_heartbeat,sentMessages:e.server_metrics.sent_msgs,sentMessageRequests:e.server_metrics.sent_msg_req,sentMilestoneRequests:e.server_metrics.sent_ms_req,sentHeartbeats:e.server_metrics.sent_heartbeat,droppedPackets:e.server_metrics.dropped_sent_packets};t.setState({gossipMetrics:a})}t.setState({requestQueue:{queued:s.map((e=>e.request_queue_queued)),pending:s.map((e=>e.request_queue_pending)),processing:s.map((e=>e.request_queue_processing)),averageLatency:s.map((e=>e.request_queue_avg_latency))}}),t.setState({memory:{stackAlloc:s.map((e=>e.mem.stack_sys/kt.BYTES_PER_MIB)),heapReleased:s.map((e=>e.mem.heap_released/kt.BYTES_PER_MIB)),heapInUse:s.map((e=>e.mem.heap_inuse/kt.BYTES_PER_MIB)),heapIdle:s.map((e=>e.mem.heap_idle/kt.BYTES_PER_MIB)),heapSys:s.map((e=>e.mem.heap_sys/kt.BYTES_PER_MIB)),totalAlloc:s.map((e=>e.mem.sys/kt.BYTES_PER_MIB))}}),t.setState({caches:{requestQueue:s.map((e=>e.caches.request_queue.size)),children:s.map((e=>e.caches.children.size)),milestones:s.map((e=>e.caches.milestones.size)),messages:s.map((e=>e.caches.messages.size)),incomingMessageWorkUnits:s.map((e=>e.caches.incoming_message_work_units.size))}})})),t._databaseSizeSubscription=t._metricsService.subscribe(_e.DBSizeMetric,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e));t.setState({databaseSize:s.map((e=>e.total/kt.BYTES_PER_MB)),lastDbReceivedTime:Date.now(),lastDbInterval:0===t.state.lastDbReceivedTime?6e4:Date.now()-t.state.lastDbReceivedTime})})),t._spamSubscription=t._metricsService.subscribe(_e.SpamMetrics,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e)),a=0===t.state.lastSpamReceivedTime?100:Date.now()-t.state.lastSpamReceivedTime,i=t.state.lastSpamIntervals.slice();i.push(a);let r=0;for(let t=0;t<i.length;t++)r+=i[t];r/=i.length,t.setState({tipSelection:s.map((e=>1e6*e.tipselect)),pow:s.map((e=>e.pow)),lastSpamReceivedTime:Date.now(),lastSpamInterval:r,lastSpamIntervals:i})})),t._spamAvgSubscription=t._metricsService.subscribe(_e.AvgSpamMetrics,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e));t.setState({spamNewMsgs:s.map((e=>e.newMsgs)),spamAvgMsgs:s.map((e=>e.avgMsgs)),lastSpamAvgReceivedTime:Date.now()})}));case 7:case"end":return s.stop()}}),s)})))()}componentWillUnmount(){super.componentWillUnmount(),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0),this._confirmedMsMetricsSubscription&&(this._metricsService.unsubscribe(this._confirmedMsMetricsSubscription),this._confirmedMsMetricsSubscription=void 0),this._statusSubscription&&(this._metricsService.unsubscribe(this._statusSubscription),this._statusSubscription=void 0),this._databaseSizeSubscription&&(this._metricsService.unsubscribe(this._databaseSizeSubscription),this._databaseSizeSubscription=void 0),this._spamAvgSubscription&&(this._metricsService.unsubscribe(this._spamAvgSubscription),this._spamAvgSubscription=void 0),this._spamSubscription&&(this._metricsService.unsubscribe(this._spamSubscription),this._spamSubscription=void 0)}render(){var e,t,s,a,i,r,n,c,l,o,d,h,u,p,b,m,v,j,g,x,O,f;return Object(Qe.jsx)("div",{className:"analytics",children:Object(Qe.jsx)("div",{className:"content",children:Object(Qe.jsxs)(jt,{tabs:this.state.tabs,activeTab:this.state.activeTab,onTabChanged:e=>{this.props.history.replace("/analytics/".concat(e.toLowerCase()))},children:[Object(Qe.jsxs)("div",{"data-label":"Tangle",className:"fill",children:[this.state.gossipMetrics&&Object(Qe.jsx)("div",{className:"card messages-graph-panel margin-t-s fill",children:Object(Qe.jsxs)("div",{className:"row wrap gossip",children:[Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Known Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(e=null===(t=this.state.gossipMetrics)||void 0===t?void 0:t.knownMessages)&&void 0!==e?e:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"New Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(s=null===(a=this.state.gossipMetrics)||void 0===a?void 0:a.newMessages)&&void 0!==s?s:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(i=null===(r=this.state.gossipMetrics)||void 0===r?void 0:r.receivedMessages)&&void 0!==i?i:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(n=null===(c=this.state.gossipMetrics)||void 0===c?void 0:c.sentMessages)&&void 0!==n?n:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Message Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(l=null===(o=this.state.gossipMetrics)||void 0===o?void 0:o.receivedMessageRequests)&&void 0!==l?l:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Message Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(d=null===(h=this.state.gossipMetrics)||void 0===h?void 0:h.sentMessageRequests)&&void 0!==d?d:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Heartbeats"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(u=null===(p=this.state.gossipMetrics)||void 0===p?void 0:p.receivedHeartbeats)&&void 0!==u?u:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Heartbeats"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(b=null===(m=this.state.gossipMetrics)||void 0===m?void 0:m.sentHeartbeats)&&void 0!==b?b:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Milestone Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(v=null===(j=this.state.gossipMetrics)||void 0===j?void 0:j.receivedMilestoneRequests)&&void 0!==v?v:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Milestone Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(g=null===(x=this.state.gossipMetrics)||void 0===x?void 0:x.sentMilestoneRequests)&&void 0!==g?g:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Dropped Packets"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(O=null===(f=this.state.gossipMetrics)||void 0===f?void 0:f.droppedPackets)&&void 0!==O?O:"-"})]})]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Messages Per Second",seriesMaxLength:30,timeInterval:1e3,endTime:this.state.lastReceivedMpsTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.mpsIncoming},{className:"bar-color-2",label:"Outgoing",values:this.state.mpsOutgoing}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Messages Per Milestone",seriesMaxLength:30,timeInterval:this.state.averageMilestoneTime,endTime:this.state.lastMsReceivedTime,series:[{className:"bar-color-1",label:"Messages",values:this.state.mps},{className:"bar-color-2",label:"Referenced Messages",values:this.state.rmps}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Time Between Milestones",seriesMaxLength:60,timeInterval:this.state.averageMilestoneTime,endTime:this.state.lastMsReceivedTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.milestoneTiming}]})})]}),Object(Qe.jsxs)("div",{"data-label":"Node",className:"fill",children:[Object(Qe.jsx)("div",{className:"card fill",children:Object(Qe.jsx)(mt,{caption:"Database (MB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Size",values:this.state.databaseSize}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Memory (MiB)",seriesMaxLength:60,endTime:this.state.lastDbReceivedTime,timeInterval:this.state.lastDbInterval,series:[{className:"bar-color-1",label:"Memory",values:this.state.memorySize}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Request Queue",seriesMaxLength:30,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Queued",values:this.state.requestQueue.queued},{className:"bar-color-2",label:"Pending",values:this.state.requestQueue.pending},{className:"bar-color-3",label:"Processing",values:this.state.requestQueue.processing},{className:"bar-color-4",label:"Latency",values:this.state.requestQueue.averageLatency}]})})]}),Object(Qe.jsxs)("div",{"data-label":"Memory",className:"fill",children:[Object(Qe.jsx)("div",{className:"card fill",children:Object(Qe.jsx)(mt,{caption:"Stack Alloc (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Stack Alloc",values:this.state.memory.stackAlloc}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Heap In Use (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-2",label:"Heap In Use",values:this.state.memory.heapInUse}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Heap Released (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-3",label:"Heap Released",values:this.state.memory.heapReleased}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Heap Idle (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-4",label:"Heap Idle",values:this.state.memory.heapIdle}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Heap Sys (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Heap Sys",values:this.state.memory.heapSys}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Total Alloc (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-2",label:"Total Alloc",values:this.state.memory.totalAlloc}]})})]}),Object(Qe.jsxs)("div",{"data-label":"Caches",className:"fill",children:[Object(Qe.jsx)("div",{className:"card fill",children:Object(Qe.jsx)(mt,{caption:"Request Queue",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Request Queue",values:this.state.caches.requestQueue}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Children",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-2",label:"Children",values:this.state.caches.children}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Milestones",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-3",label:"Milestones",values:this.state.caches.milestones}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Messages",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-4",label:"Messages",values:this.state.caches.messages}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Incoming Message Work Units",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Incoming Message Work Units",values:this.state.caches.incomingMessageWorkUnits}]})})]}),this.state.isSpammerAvailable&&Object(Qe.jsxs)("div",{"data-label":"Spammer",className:"fill",children:[Object(Qe.jsx)("div",{className:"card fill",children:Object(Qe.jsx)(mt,{caption:"Tip Selection Duration Micro-Seconds",seriesMaxLength:60,timeInterval:this.state.lastSpamInterval,endTime:this.state.lastSpamReceivedTime,series:[{className:"bar-color-1",label:"Tip Time",values:this.state.tipSelection}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"PoW Duration Seconds",seriesMaxLength:60,timeInterval:this.state.lastSpamInterval,endTime:this.state.lastSpamReceivedTime,series:[{className:"bar-color-2",label:"PoW Time",values:this.state.pow}]})}),Object(Qe.jsx)("div",{className:"card fill margin-t-s",children:Object(Qe.jsx)(mt,{caption:"Spam Messages",seriesMaxLength:30,endTime:this.state.lastSpamAvgReceivedTime,timeInterval:1e3,series:[{className:"bar-color-1",label:"New Messages",values:this.state.spamNewMsgs},{className:"bar-color-2",label:"Average Messages",values:this.state.spamAvgMsgs}]})})]}),this._authService.isLoggedIn()&&Object(Qe.jsx)("div",{className:"fill",children:Object(Qe.jsx)("p",{children:"What should we show for the log?"})})]})})})}calculateTabs(e){const t=["Tangle","Node","Memory","Caches"];return e&&t.push("Spammer"),t}}kt.BYTES_PER_MB=1e6,kt.BYTES_PER_MIB=1048576;var Mt=Object(u.g)(kt);function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Pt=n.createElement("path",{d:"M7.6569 5.62329C7.03439 7.02356 5.63123 8 4 8C1.79086 8 0 6.20914 0 4C0 1.79086 1.79086 0 4 0C6.09134 0 7.80782 1.60496 7.98493 3.65037L12.3431 4.37673C12.9656 2.97645 14.3688 2 16 2C18.2091 2 20 3.79086 20 6C20 8.20914 18.2091 10 16 10C14.9749 10 14.04 9.61443 13.3321 8.9804L7.77815 12.6831C7.88518 12.9902 7.95583 13.3143 7.98493 13.6504L12.3431 14.3767C12.9656 12.9764 14.3688 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20C13.9087 20 12.1922 18.3951 12.0151 16.3497L7.6569 15.6233C7.03439 17.0236 5.63123 18 4 18C1.79086 18 0 16.2091 0 14C0 11.7909 1.79086 10 4 10C5.02504 10 5.96002 10.3856 6.66784 11.0196L12.2218 7.3169C12.1148 7.00981 12.0442 6.68568 12.0151 6.34965L7.6569 5.62329Z",fill:"#666AF6"});function Lt(e,t){var s=e.title,a=e.titleId,i=Et(e,["title","titleId"]);return n.createElement("svg",Tt({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Pt)}var Dt=n.forwardRef(Lt);s.p;function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Rt(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var At=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 0C0.671573 0 0 0.671572 0 1.5V24.5C0 25.3284 0.671573 26 1.5 26C2.32843 26 3 25.3284 3 24.5V17H19C20.6569 17 22 15.6569 22 14V5C22 3.34315 20.6569 2 19 2H3V1.5C3 0.671573 2.32843 0 1.5 0Z",fill:"#16E1D5"});function Ut(e,t){var s=e.title,a=e.titleId,i=Rt(e,["title","titleId"]);return n.createElement("svg",Bt({width:22,height:26,viewBox:"0 0 22 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,At)}var Ht=n.forwardRef(Ut);s.p;function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Vt=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26ZM12 5C12 4.44772 12.4477 4 13 4C13.5523 4 14 4.44772 14 5V12H19C19.5523 12 20 12.4477 20 13C20 13.5523 19.5523 14 19 14H13C12.4477 14 12 13.5523 12 13V5Z",fill:"#4CAAFF"});function Wt(e,t){var s=e.title,a=e.titleId,i=Ft(e,["title","titleId"]);return n.createElement("svg",zt({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Vt)}var qt=n.forwardRef(Wt);s.p,s(171);class Yt extends n.Component{render(){var e;return Object(Qe.jsxs)("div",{className:Ae()("card","info-panel",this.props.className),children:[Object(Qe.jsxs)("div",{className:"icon-container",children:[Object(Qe.jsx)("div",{className:"icon-background icon-background--".concat(this.props.backgroundStyle)}),this.props.icon]}),Object(Qe.jsxs)("div",{className:"col info--labels",children:[Object(Qe.jsx)("h4",{children:this.props.caption}),Object(Qe.jsx)("div",{className:"value",children:null!==(e=this.props.value)&&void 0!==e?e:"-"})]})]})}}var Gt=Yt;s(172);var Zt=Object(u.g)(class extends Ie{constructor(e){super(e),this._metricsService=void 0,this._milestonesSubscription=void 0,this._confirmedMsMetricsSubscription=void 0,this._metricsService=ye.a.get("metrics"),this.state={milestones:[],mps:"-",rmps:"-",referencedRate:"-"}}componentDidMount(){super.componentDidMount(),this._milestonesSubscription=this._metricsService.subscribe(_e.Ms,void 0,(e=>{const t=e.filter((e=>void 0!==e&&null!==e));this.setState({milestones:t.map((e=>({index:e.index,messageId:e.messageID}))).sort(((e,t)=>t.index-e.index)).slice(0,10)})})),this._confirmedMsMetricsSubscription=this._metricsService.subscribe(_e.ConfirmedMsMetrics,(e=>{e&&this.setState({mps:e.mps.toFixed(1).toString(),rmps:e.rmps.toFixed(1).toString(),referencedRate:"".concat(e.referenced_rate.toFixed(1).toString(),"%")})}))}componentWillUnmount(){super.componentWillUnmount(),this._milestonesSubscription&&(this._metricsService.unsubscribe(this._milestonesSubscription),this._milestonesSubscription=void 0),this._confirmedMsMetricsSubscription&&(this._metricsService.unsubscribe(this._confirmedMsMetricsSubscription),this._confirmedMsMetricsSubscription=void 0)}render(){return Object(Qe.jsx)("div",{className:"explorer",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsx)("h2",{children:"Explorer"}),Object(Qe.jsx)("div",{className:"card search-panel",children:Object(Qe.jsx)(lt,{compact:!1,onSearch:e=>this.props.history.push("/explorer/search/".concat(e))})}),Object(Qe.jsxs)("div",{className:"row tablet-down-column info margin-t-s",children:[Object(Qe.jsx)(Gt,{caption:"Messages per Second",value:this.state.mps,icon:Object(Qe.jsx)(Ht,{}),backgroundStyle:"green"}),Object(Qe.jsx)(Gt,{caption:"Referenced Messages per Second",value:this.state.rmps,icon:Object(Qe.jsx)(qt,{}),backgroundStyle:"blue"}),Object(Qe.jsx)(Gt,{caption:"Referenced Rate",value:this.state.referencedRate,icon:Object(Qe.jsx)(Dt,{}),backgroundStyle:"purple"})]}),Object(Qe.jsxs)("div",{className:"card milestones-panel margin-t-s",children:[Object(Qe.jsx)("h4",{className:"margin-b-l",children:"Latest Milestones"}),0===this.state.milestones.length&&Object(Qe.jsx)("p",{className:"margin-t-s",children:"There are no milestones."}),this.state.milestones.map(((e,t)=>Object(Qe.jsxs)("div",{className:"milestones-panel--milestone",children:[Object(Qe.jsx)("div",{className:"index",children:e.index}),Object(Qe.jsx)(d.b,{to:"/explorer/message/".concat(e.messageId),children:e.messageId})]},t)))]})]})})}}),Kt=s(8);function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Qt(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Xt=n.createElement("path",{d:"M2.51794 6.98708L7.68154 12.1921C7.78117 12.2891 7.86064 12.4052 7.91531 12.5334C7.96998 12.6617 7.99876 12.7997 7.99996 12.9393C8.00116 13.079 7.97477 13.2174 7.92232 13.3467C7.86987 13.4759 7.79241 13.5933 7.69447 13.692C7.59652 13.7907 7.48005 13.8688 7.35185 13.9217C7.22365 13.9746 7.08629 14.0012 6.94778 14C6.80928 13.9987 6.67239 13.9697 6.54513 13.9146C6.41786 13.8595 6.30275 13.7794 6.20652 13.679L0.30542 7.73051C0.10986 7.53332 0 7.26591 0 6.98708C0 6.70825 0.10986 6.44084 0.30542 6.24365L6.20652 0.295175C6.40326 0.103632 6.66677 -0.00235606 6.94028 3.97504e-05C7.21379 0.00243556 7.47542 0.113023 7.66883 0.307985C7.86224 0.502946 7.97195 0.766681 7.97432 1.04239C7.9767 1.31809 7.87156 1.58371 7.68154 1.78203L2.51794 6.98708Z",fill:"currentColor"});function $t(e,t){var s=e.title,a=e.titleId,i=Qt(e,["title","titleId"]);return n.createElement("svg",Jt({width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Xt)}var es=n.forwardRef($t);s.p;class ts{static buildAddress(e,t){let s,a,i;if(bt.Bech32Helper.matches(e,t))try{const r=bt.Bech32Helper.fromBech32(e,t);r&&(s=e,i=r.addressType,a=bt.Converter.bytesToHex(r.addressBytes))}catch(r){}return s||(a=e,i=bt.ED25519_ADDRESS_TYPE,s=bt.Bech32Helper.toBech32(bt.ED25519_ADDRESS_TYPE,bt.Converter.hexToBytes(a),t)),{bech32:s,hex:a,type:i,typeLabel:ts.typeLabel(i)}}static typeLabel(e){if(e===bt.ED25519_ADDRESS_TYPE)return"Ed25519"}}s(173);class ss extends n.Component{render(){return Object(Qe.jsx)("div",{className:Ae()("spinner",{"spinner--compact":this.props.compact})})}}var as=ss;class is{static copy(e){if(void 0===e||null===e)return!1;try{const t=document.createElement("textarea");t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style.left="-9999px";const s=window.pageYOffset||document.documentElement.scrollTop;return t.style.top="".concat(s,"px"),t.setAttribute("readonly",""),t.value=e,document.body.append(t),t.select(),document.execCommand("Copy"),t.remove(),!0}catch(t){return!1}}}function rs(){return(rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ns(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var cs=n.createElement("path",{d:"M 9 1 L 16 1 C 16.552 1 17 1.448 17 2 L 17 9 C 17 9.552 16.552 10 16 10 L 9 10 C 8.448 10 8 9.552 8 9 L 8 2 C 8 1.448 8.448 1 9 1 Z",stroke:"currentColor",strokeWidth:2}),ls=n.createElement("path",{d:" M 5.125 6 L 4 6 C 2.895 6 2 6.895 2 8 L 2 14 C 2 15.105 2.895 16 4 16 L 10 16 C 11.105 16 12 15.105 12 14 L 12 12.875",stroke:"currentColor",strokeWidth:2});function os(e,t){var s=e.title,a=e.titleId,i=ns(e,["title","titleId"]);return n.createElement("svg",rs({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,cs,ls)}var ds=n.forwardRef(os);s.p,s(174);class hs extends n.Component{constructor(e){super(e),this.state={active:!1,message:"copy"===e.buttonType?"Copied":""}}render(){return Object(Qe.jsxs)("div",{className:"message-button",children:[Object(Qe.jsx)("button",{type:"button",className:Ae()("message-button-btn",{"message-button-btn--active":this.state.active}),onClick:()=>this.activate(),children:"copy"===this.props.buttonType&&Object(Qe.jsx)(ds,{})}),this.state.active&&this.state.message&&Object(Qe.jsx)("span",{className:Ae()("message-button--message",{"message-button--message--right":"right"===this.props.labelPosition},{"message-button--message--top":"top"===this.props.labelPosition}),children:this.state.message})]})}activate(){this.props.onClick(),this.setState({active:!0}),setTimeout((()=>{this.setState({active:!1})}),2e3)}}var us=hs;class ps extends n.Component{render(){var e,t,s,a,i,r,n;return Object(Qe.jsxs)("div",{className:"bech32-address",children:[(null===(e=this.props.addressDetails)||void 0===e?void 0:e.bech32)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Address"}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono row",children:[this.props.activeLinks&&Object(Qe.jsx)(d.b,{className:"margin-r-t",to:"/explorer/address/".concat(null===(t=this.props.addressDetails)||void 0===t?void 0:t.bech32),children:this.props.addressDetails.bech32}),!this.props.activeLinks&&Object(Qe.jsx)("span",{className:"margin-r-t",children:this.props.addressDetails.bech32}),Object(Qe.jsx)(us,{onClick:()=>{var e;return is.copy(null===(e=this.props.addressDetails)||void 0===e?void 0:e.bech32)},buttonType:"copy",labelPosition:"top"})]})]}),(null===(s=this.props.addressDetails)||void 0===s?void 0:s.typeLabel)&&(null===(a=this.props.addressDetails)||void 0===a?void 0:a.hex)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("div",{className:"card--label",children:[this.props.addressDetails.typeLabel," Address"]}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono row",children:[this.props.activeLinks&&Object(Qe.jsx)(d.b,{className:"margin-r-t",to:"/explorer/address/".concat(null===(i=this.props.addressDetails)||void 0===i?void 0:i.hex),children:null===(r=this.props.addressDetails)||void 0===r?void 0:r.hex}),!this.props.activeLinks&&Object(Qe.jsx)("span",{className:"margin-r-t",children:null===(n=this.props.addressDetails)||void 0===n?void 0:n.hex}),Object(Qe.jsx)(us,{onClick:()=>{var e;return is.copy(null===(e=this.props.addressDetails)||void 0===e?void 0:e.hex)},buttonType:"copy",labelPosition:"top"})]})]})]})}}var bs=ps;class ms{static getInputTypeName(e){return e===bt.UTXO_INPUT_TYPE?"UTXO Input":e===bt.TREASURY_INPUT_TYPE?"Treasury Input":"Unknown Input"}static getOutputTypeName(e){return e===bt.SIG_LOCKED_SINGLE_OUTPUT_TYPE?"Signature Locked Single Output":e===bt.SIG_LOCKED_DUST_ALLOWANCE_OUTPUT_TYPE?"Signature Locked Dust Allowance Output":e===bt.TREASURY_OUTPUT_TYPE?"Treasury Output":"Unknown Output"}static getUnlockBlockTypeName(e){return e===bt.SIGNATURE_UNLOCK_BLOCK_TYPE?"Signature Unlock Block":e===bt.REFERENCE_UNLOCK_BLOCK_TYPE?"Reference Unlock Block":"Unknown Unlock Block"}}class vs extends n.Component{constructor(e){super(e),this.state={formatFull:!1,isGenesis:e.output.messageId==="0".repeat(64)}}render(){return Object(Qe.jsxs)("div",{className:"output",children:[Object(Qe.jsxs)("h2",{children:[ms.getOutputTypeName(this.props.output.output.type)," ",this.props.index]}),Object(Qe.jsx)("div",{className:"card--label",children:"Message Id"}),Object(Qe.jsxs)("div",{className:"card--value row",children:[this.state.isGenesis&&Object(Qe.jsx)("span",{children:"Genesis"}),!this.state.isGenesis&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(d.b,{to:"/explorer/message/".concat(this.props.output.messageId),className:"margin-r-t",children:this.props.output.messageId}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.props.output.messageId),buttonType:"copy",labelPosition:"top"})]})]}),Object(Qe.jsx)("div",{className:"card--label",children:"Transaction Id"}),Object(Qe.jsxs)("div",{className:"card--value row",children:[this.state.isGenesis&&Object(Qe.jsx)("span",{children:"Genesis"}),!this.state.isGenesis&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("span",{className:"margin-r-t",children:this.props.output.transactionId}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.props.output.transactionId),buttonType:"copy",labelPosition:"top"})]})]}),Object(Qe.jsx)("div",{className:"card--label",children:"Index"}),Object(Qe.jsx)("div",{className:"card--value",children:this.props.output.outputIndex}),Object(Qe.jsx)("div",{className:"card--label",children:"Is Spent"}),Object(Qe.jsx)("div",{className:"card--value",children:this.props.output.isSpent?"Yes":"No"}),(this.props.output.output.type===bt.SIG_LOCKED_SINGLE_OUTPUT_TYPE||this.props.output.output.type===bt.SIG_LOCKED_DUST_ALLOWANCE_OUTPUT_TYPE)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Amount"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:Object(Qe.jsx)("button",{className:"card--value--button",type:"button",onClick:()=>this.setState({formatFull:!this.state.formatFull}),children:this.state.formatFull?"".concat(this.props.output.output.amount," i"):bt.UnitsHelper.formatBest(this.props.output.output.amount)})})]})]})}}var js=vs;s(175);var gs=class extends Ie{constructor(e){super(e),this._tangleService=void 0,this._bech32Hrp=void 0,this._tangleService=ye.a.get("tangle");const t=ye.a.get("node-config");this._bech32Hrp=t.getBech32Hrp(),this.state=Object(h.a)(Object(h.a)({},ts.buildAddress(e.match.params.address,this._bech32Hrp)),{},{formatFull:!1,statusBusy:!0,status:"Loading outputs..."})}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t._tangleService.search(t.props.match.params.address);case 3:(null===(a=s.sent)||void 0===a?void 0:a.address)?t.setState({address:a.address,bech32AddressDetails:ts.buildAddress(a.address.address,t._bech32Hrp),balance:a.address.balance,outputIds:a.addressOutputIds},Object(r.a)(i.a.mark((function e(){var s,r,n,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],!a.addressOutputIds){e.next=23;break}r=Object(Kt.a)(a.addressOutputIds),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=15;break}return c=n.value,e.next=9,t._tangleService.outputDetails(c);case 9:if((l=e.sent)&&(s.push(l),t.setState({outputs:s,status:"Loading outputs [".concat(s.length,"/").concat(a.addressOutputIds.length,"]")})),t._isMounted){e.next=13;break}return e.abrupt("break",15);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:t.setState({outputs:s,status:"",statusBusy:!1});case 24:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})))):(null===a||void 0===a?void 0:a.unavailable)?t.props.history.replace("/explorer/unavailable"):t.props.history.replace("/explorer/search/".concat(t.props.match.params.address));case 5:case"end":return s.stop()}}),s)})))()}render(){return Object(Qe.jsx)("div",{className:"address",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{children:"Address"}),Object(Qe.jsx)(bs,{activeLinks:!1,addressDetails:this.state.bech32AddressDetails}),void 0!==this.state.balance&&Object(Qe.jsxs)("div",{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Balance"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:Object(Qe.jsx)("button",{className:"card--value--button",type:"button",onClick:()=>this.setState({formatFull:!this.state.formatFull}),children:this.state.formatFull?"".concat(this.state.balance," i"):bt.UnitsHelper.formatBest(this.state.balance)})})]}),this.state.status&&Object(Qe.jsxs)("div",{className:"middle row margin-t-m",children:[this.state.statusBusy&&Object(Qe.jsx)(as,{compact:!0}),Object(Qe.jsx)("p",{className:"status margin-l-s",children:this.state.status})]})]}),this.state.outputs&&this.state.outputIds&&this.state.outputs.length>0&&this.state.outputs.map(((e,t)=>Object(Qe.jsx)("div",{className:"card margin-t-m padding-l",children:Object(Qe.jsx)(js,{index:t+1,id:this.state.outputIds?this.state.outputIds[t]:"",output:e},t)},t))),this.state.outputs&&0===this.state.outputs.length&&Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{className:"margin-b-s",children:"Outputs"}),this.state.outputs&&0===this.state.outputs.length&&Object(Qe.jsx)("div",{className:"card--value",children:"There are no outputs for this address."})]})]})})}};s(176);var xs=class extends Ie{constructor(e){super(e),this._tangleService=void 0,this._tangleService=ye.a.get("tangle"),this.state={statusBusy:!0,status:"Loading indexed data..."}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){var a,n,c,l,o;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t._tangleService.search(t.props.match.params.index);case 3:(null===(a=s.sent)||void 0===a?void 0:a.indexMessageIds)&&(null===a||void 0===a?void 0:a.indexMessageType)?("hex"===a.indexMessageType?(n=t.props.match.params.index,c=bt.Converter.hexToUtf8(t.props.match.params.index)):(n=bt.Converter.utf8ToHex(t.props.match.params.index),c=t.props.match.params.index),l=n.match(/.{1,2}/g),o=l?l.join(" "):n,t.setState({messageIds:a.indexMessageIds,utf8Index:c,hexIndex:o,indexLengthBytes:n.length/2},Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({messages:[],status:"",statusBusy:!1});case 1:case"end":return e.stop()}}),e)}))))):(null===a||void 0===a?void 0:a.unavailable)?t.props.history.replace("/explorer/unavailable"):t.props.history.replace("/explorer/search/".concat(t.props.match.params.index));case 5:case"end":return s.stop()}}),s)})))()}render(){var e;return Object(Qe.jsx)("div",{className:"indexed",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{children:"Indexed Data"}),Object(Qe.jsxs)("div",{className:"card--label row middle",children:[Object(Qe.jsxs)("span",{className:"margin-r-t",children:["Index UTF8 [",this.state.indexLengthBytes,"]"]}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.state.utf8Index),buttonType:"copy",labelPosition:"right"})]}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.utf8Index}),Object(Qe.jsxs)("div",{className:"card--label row middle",children:[Object(Qe.jsxs)("span",{className:"margin-r-t",children:["Index Hex [",this.state.indexLengthBytes,"]"]}),Object(Qe.jsx)(us,{onClick:()=>{var e;return is.copy(null===(e=this.state.hexIndex)||void 0===e?void 0:e.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(Qe.jsx)("div",{className:Ae()("card--value","card--value-textarea","card--value-textarea__hex","card--value-textarea__fit"),children:this.state.hexIndex})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsxs)("div",{className:"card--header row",children:[Object(Qe.jsx)("h2",{className:"margin-b-s",children:"Indexed Messages"}),void 0!==this.state.messageIds&&Object(Qe.jsx)("span",{className:"card--header-count",children:this.state.messageIds.length})]}),this.state.statusBusy&&Object(Qe.jsx)(as,{}),this.state.messageIds&&0===this.state.messageIds.length&&Object(Qe.jsx)("div",{className:"card--value",children:"There are no messages for this index."}),this.state.messageIds&&this.state.messageIds.length>0&&Object(Qe.jsx)("div",{className:"col card--value",children:null===(e=this.state.messageIds)||void 0===e?void 0:e.map(((e,t)=>Object(Qe.jsx)(d.b,{to:"/explorer/message/".concat(e),className:"margin-b-s",children:e},t)))})]})]})})}};function Os(){return(Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function fs(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Ss=n.createElement("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:1.72854});function ys(e,t){var s=e.title,a=e.titleId,i=fs(e,["title","titleId"]);return n.createElement("svg",Os({width:12,height:8,viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Ss)}var _s=n.forwardRef(ys);s.p;function ws(){return(ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Ns(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Cs=n.createElement("path",{d:" M 8 14.711 L 3.111 8.889 L 12.889 8.889 L 8 14.711 Z ",fill:"currentColor"}),Is=n.createElement("rect",{x:6.222,y:0,width:3.556,height:1.778,fill:"currentColor"}),ks=n.createElement("rect",{x:6.222,y:2.667,width:3.556,height:1.778,fill:"currentColor"}),Ms=n.createElement("rect",{x:6.222,y:5.333,width:3.556,height:4.889,fill:"currentColor"}),Ts=n.createElement("rect",{x:0,y:16,width:16,height:1.778,fill:"currentColor"});function Es(e,t){var s=e.title,a=e.titleId,i=Ns(e,["title","titleId"]);return n.createElement("svg",ws({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 16 17.778",width:"16pt",height:"17.778pt",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Cs,Is,ks,Ms,Ts)}var Ps=n.forwardRef(Es);s.p;class Ls{static filename(e,t){return"".concat(e,".").concat(t)}static createJsonDataUrl(e){const t=bt.Converter.bytesToBase64(bt.Converter.utf8ToBytes(JSON.stringify(e,void 0,"\t")));return"data:application/json;base64,".concat(t)}static createBinaryDataUrl(e){const t=bt.Converter.bytesToBase64(e);return"data:application/octet;base64,".concat(t)}static createHexDataUrl(e){const t=bt.Converter.bytesToBase64(bt.Converter.utf8ToBytes(bt.Converter.bytesToHex(e)));return"data:plain/text;base64,".concat(t)}static createBase64DataUrl(e){const t=bt.Converter.bytesToBase64(bt.Converter.utf8ToBytes(bt.Converter.bytesToBase64(e)));return"data:plain/text;base64,".concat(t)}}s(177);class Ds extends n.Component{render(){return Object(Qe.jsxs)("div",{className:"inclusion-state",children:[Object(Qe.jsxs)("div",{className:Ae()("inclusion-state-pill",{"inclusion__not-included":void 0===this.props.state},{inclusion__included:"included"===this.props.state},{"inclusion__no-transaction":"noTransaction"===this.props.state},{inclusion__conflicting:"conflicting"===this.props.state}),children:[void 0===this.props.state&&"Not included","included"===this.props.state&&"Included","noTransaction"===this.props.state&&"No Transaction","conflicting"===this.props.state&&"Conflicting"]}),void 0===this.props.state&&"The message is not yet referenced by a milestone.","included"===this.props.state&&"The message is referenced by a milestone, the transaction is included in the ledger.","noTransaction"===this.props.state&&"The message is referenced by a milestone, the data is included in the ledger, but there is no value transfer.","conflicting"===this.props.state&&"The message has a conflict and will not be included in the ledger."]})}}var Bs=Ds;class Rs extends n.Component{constructor(e){super(e);const t=bt.Converter.hexToUtf8(e.payload.index),s=e.payload.index.match(/.{1,2}/g),a=s?s.join(" "):e.payload.index;let i,r,n;if(e.payload.data){const t=e.payload.data.match(/.{1,2}/g);i=t?t.join(" "):e.payload.data,r=bt.Converter.hexToUtf8(e.payload.data);try{n=JSON.stringify(JSON.parse(r),void 0,"  ")}catch(c){}}this.state={utf8Index:t,hexIndex:a,indexLengthBytes:e.payload.index.length/2,utf8Data:r,hexData:i,jsonData:n,dataLengthBytes:e.payload.data?e.payload.data.length/2:0}}render(){return Object(Qe.jsxs)("div",{className:"indexation-payload",children:[Object(Qe.jsx)("h2",{children:"Indexation Payload"}),Object(Qe.jsxs)("div",{className:"card--label row middle",children:[Object(Qe.jsxs)("span",{className:"margin-r-t",children:["Index UTF8 [",this.state.indexLengthBytes,"]"]}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.state.utf8Index),buttonType:"copy",labelPosition:"right"})]}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)(d.b,{to:"/explorer/indexed/".concat(this.props.payload.index),children:this.state.utf8Index})}),Object(Qe.jsxs)("div",{className:"card--label row middle",children:[Object(Qe.jsxs)("span",{className:"margin-r-t",children:["Index Hex [",this.state.indexLengthBytes,"]"]}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.state.hexIndex.replace(/ /g,"")),buttonType:"copy",labelPosition:"right"})]}),Object(Qe.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__hex card--value-textarea__fit",children:this.state.hexIndex}),!this.state.jsonData&&this.state.utf8Data&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("div",{className:"card--label row bottom spread",children:[Object(Qe.jsxs)("span",{className:"margin-r-t",children:["Data UTF8 [",this.state.dataLengthBytes,"]"]}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.state.utf8Data),buttonType:"copy",labelPosition:"top"})]}),Object(Qe.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__utf8",children:this.state.utf8Data})]}),this.state.jsonData&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("div",{className:"card--label row bottom spread",children:["Data JSON",Object(Qe.jsx)(us,{onClick:()=>is.copy(this.state.jsonData),buttonType:"copy",labelPosition:"top"})]}),Object(Qe.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__json",children:this.state.jsonData})]}),this.state.hexData&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("div",{className:"card--label row middle",children:[Object(Qe.jsxs)("span",{className:"margin-r-t",children:["Data Hex [",this.state.dataLengthBytes,"]"]}),Object(Qe.jsx)(us,{onClick:()=>{var e;return is.copy(null===(e=this.state.hexData)||void 0===e?void 0:e.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(Qe.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__hex",children:this.state.hexData})]})]})}}var As=Rs;s(178);var Us=class extends Ie{constructor(e){super(e),this._tangleService=void 0,this._tangleService=ye.a.get("tangle"),this.state={}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t.updateMilestone();case 3:case"end":return s.stop()}}),s)})))()}componentDidUpdate(e){var t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t.props.milestoneIndex===e.milestoneIndex){s.next=3;break}return s.next=3,t.updateMilestone();case 3:case"end":return s.stop()}}),s)})))()}render(){return Object(Qe.jsxs)("div",{onClick:this.props.onClick,className:Ae()("message-tangle-state",{"message-tangle-state__no-click":!this.props.onClick},{"message-tangle-state__referenced":"referenced"===this.props.status},{"message-tangle-state__milestone":"milestone"===this.props.status},{"message-tangle-state__pending":"pending"===this.props.status},{"message-tangle-state__unknown":"unknown"===this.props.status}),children:["unknown"===this.props.status&&"Unknown","referenced"===this.props.status&&"Referenced".concat(void 0!==this.props.milestoneIndex&&this.props.milestoneIndex>1?" by MS ".concat(this.props.milestoneIndex):""),"milestone"===this.props.status&&"MS".concat(void 0!==this.props.milestoneIndex?" ".concat(this.props.milestoneIndex):""),"pending"===this.props.status&&"Pending",this.state.timestamp]})}updateMilestone(){var e=this;return Object(r.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.milestoneIndex){t.next=5;break}return t.next=3,e._tangleService.milestoneDetails(e.props.milestoneIndex);case 3:(s=t.sent)&&e.setState({timestamp:s.timestamp?" at ".concat(Be.dateShort(s.timestamp)):void 0});case 5:case"end":return t.stop()}}),t)})))()}};class Hs extends n.Component{render(){var e,t;return Object(Qe.jsxs)("div",{className:"milestone-payload",children:[Object(Qe.jsx)("h2",{children:"Milestone Payload"}),Object(Qe.jsx)("div",{className:"card--label",children:"Index"}),Object(Qe.jsx)("div",{className:"card--value",children:this.props.payload.index}),Object(Qe.jsx)("div",{className:"card--label",children:"Date"}),Object(Qe.jsx)("div",{className:"card--value",children:this.props.payload.timestamp&&Be.date(this.props.payload.timestamp)}),null===(e=this.props.payload.parentMessageIds)||void 0===e?void 0:e.map(((e,t)=>Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("div",{className:"card--label",children:["Parent Message ",t+1]}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono row",children:[e!=="0".repeat(64)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(d.b,{className:"margin-r-t",to:"/explorer/message/".concat(e),children:e}),Object(Qe.jsx)(us,{onClick:()=>is.copy(e),buttonType:"copy",labelPosition:"top"})]}),e==="0".repeat(64)&&Object(Qe.jsx)("span",{children:"Genesis"})]})]},t))),Object(Qe.jsx)("div",{className:"card--label",children:"Inclusion Merkle Proof"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.inclusionMerkleProof}),0!==this.props.payload.nextPoWScore&&0!==this.props.payload.nextPoWScoreMilestoneIndex&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Next PoW Score"}),Object(Qe.jsx)("div",{className:"card--value",children:this.props.payload.nextPoWScore}),Object(Qe.jsx)("div",{className:"card--label",children:"Next PoW Score Milestone Index"}),Object(Qe.jsx)("div",{className:"card--value",children:this.props.payload.nextPoWScoreMilestoneIndex})]}),this.props.payload.publicKeys&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Public Keys"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:null===(t=this.props.payload.publicKeys)||void 0===t?void 0:t.map((e=>Object(Qe.jsx)("div",{className:"margin-b-s",children:e},e)))})]}),Object(Qe.jsx)("div",{className:"card--label",children:"Signatures"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.signatures.map((e=>Object(Qe.jsx)("div",{className:"margin-b-s",children:e},e)))})]})}}var zs=Hs;class Fs extends n.Component{constructor(e){super(e),this._bech32Hrp=void 0;const t=ye.a.get("node-config");this._bech32Hrp=t.getBech32Hrp(),this.state={formatFull:!1}}render(){return Object(Qe.jsxs)("div",{className:"receipt-payload",children:[Object(Qe.jsx)("h2",{children:"Receipt Payload"}),Object(Qe.jsx)("div",{className:"card--label",children:"Migrated At"}),Object(Qe.jsx)("div",{className:"card--value row",children:this.props.payload.migratedAt}),Object(Qe.jsx)("div",{className:"card--label",children:"Final"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("div",{className:"margin-b-m",children:this.props.payload.final?"Yes":"No"})}),this.props.payload.funds.map(((e,t)=>Object(Qe.jsxs)("div",{className:"margin-b-s",children:[Object(Qe.jsxs)("h3",{className:"margin-b-t",children:["Migrated Fund ",t]}),Object(Qe.jsx)("div",{className:"card--label",children:"Tail Transaction Hash"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:e.tailTransactionHash}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:Object(Qe.jsx)(bs,{activeLinks:!0,addressDetails:ts.buildAddress(e.address.address,this._bech32Hrp)})}),Object(Qe.jsx)("div",{className:"card--label",children:"Deposit"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:Object(Qe.jsx)("button",{className:"card--value--button",type:"button",onClick:()=>this.setState({formatFull:!this.state.formatFull}),children:this.state.formatFull?"".concat(e.deposit," i"):bt.UnitsHelper.formatBest(e.deposit)})})]},t))),Object(Qe.jsx)("div",{className:"card--label",children:"Input Transaction Milestone Id"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.transaction.input.milestoneId}),Object(Qe.jsx)("div",{className:"card--label",children:"Output Transaction Amount to Treasury"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:Object(Qe.jsx)("button",{className:"card--value--button",type:"button",onClick:()=>this.setState({formatFull:!this.state.formatFull}),children:this.state.formatFull?"".concat(this.props.payload.transaction.output.amount," i"):bt.UnitsHelper.formatBest(this.props.payload.transaction.output.amount)})})]})}}var Vs=Fs;class Ws extends n.Component{constructor(e){super(e),this._bech32Hrp=void 0;const t=ye.a.get("node-config");this._bech32Hrp=t.getBech32Hrp();const s=[];for(let i=0;i<e.payload.unlockBlocks.length;i++)if(e.payload.unlockBlocks[i].type===bt.SIGNATURE_UNLOCK_BLOCK_TYPE){const t=e.payload.unlockBlocks[i];s.push(t)}else if(e.payload.unlockBlocks[i].type===bt.REFERENCE_UNLOCK_BLOCK_TYPE){const t=e.payload.unlockBlocks[i];s.push(e.payload.unlockBlocks[t.reference])}const a=[];for(let i=0;i<s.length;i++)a.push(ts.buildAddress(bt.Converter.bytesToHex(new bt.Ed25519Address(bt.Converter.hexToBytes(s[i].signature.publicKey)).toAddress()),this._bech32Hrp));this.state={formatFull:!1,unlockAddresses:a}}render(){return Object(Qe.jsxs)("div",{className:"transaction-payload",children:[Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{className:"margin-b-s",children:"Inputs"}),this.props.payload.essence.inputs.map(((e,t)=>Object(Qe.jsxs)("div",{className:"margin-b-s",children:[Object(Qe.jsxs)("h3",{className:"margin-b-t",children:[ms.getInputTypeName(e.type)," ",t]}),e.type===bt.UTXO_INPUT_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(bs,{activeLinks:!0,addressDetails:this.state.unlockAddresses[t]}),Object(Qe.jsx)("div",{className:"card--label",children:"Transaction Id"}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono",children:[e.transactionId==="0".repeat(64)&&Object(Qe.jsx)("span",{children:"Genesis"}),e.transactionId!=="0".repeat(64)&&e.transactionId]}),Object(Qe.jsx)("div",{className:"card--label",children:"Transaction Output Index"}),Object(Qe.jsx)("div",{className:"card--value",children:e.transactionOutputIndex})]})]},t)))]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{className:"margin-b-s",children:"Outputs"}),this.props.payload.essence.outputs.map(((e,t)=>Object(Qe.jsxs)("div",{className:"margin-b-s",children:[Object(Qe.jsxs)("h3",{className:"margin-b-t",children:[ms.getOutputTypeName(e.type)," ",t]}),(e.type===bt.SIG_LOCKED_SINGLE_OUTPUT_TYPE||e.type===bt.SIG_LOCKED_DUST_ALLOWANCE_OUTPUT_TYPE)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(bs,{activeLinks:!0,addressDetails:ts.buildAddress(e.address.address,this._bech32Hrp)}),Object(Qe.jsx)("div",{className:"card--label",children:"Amount"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:Object(Qe.jsx)("button",{className:"card--value--button",type:"button",onClick:()=>this.setState({formatFull:!this.state.formatFull}),children:this.state.formatFull?"".concat(e.amount," i"):bt.UnitsHelper.formatBest(e.amount)})})]})]},t)))]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{className:"margin-b-s",children:"Unlock Blocks"}),this.props.payload.unlockBlocks.map(((e,t)=>Object(Qe.jsxs)("div",{className:"margin-b-s",children:[Object(Qe.jsxs)("h3",{className:"margin-b-t",children:[ms.getUnlockBlockTypeName(e.type)," ",t]}),e.type===bt.SIGNATURE_UNLOCK_BLOCK_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Public Key"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:e.signature.publicKey}),Object(Qe.jsx)("div",{className:"card--label",children:"Signature"}),Object(Qe.jsx)("div",{className:"card--value card--value__mono",children:e.signature.signature})]}),e.type===bt.REFERENCE_UNLOCK_BLOCK_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Reference"}),Object(Qe.jsx)("div",{className:"card--value",children:e.reference})]})]},t)))]})]})}}var qs=Ws;s(179);var Ys=class extends Ie{constructor(e){super(e),this._tangleService=void 0,this._timerId=void 0,this._tangleService=ye.a.get("tangle"),this.state={childrenBusy:!0,dataUrls:{},selectedDataUrl:"json"}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){var a,n,c,l;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t._tangleService.search(t.props.match.params.messageId);case 3:(null===(a=s.sent)||void 0===a?void 0:a.message)?(n=new bt.WriteStream,Object(bt.serializeMessage)(n,a.message),c=n.finalBytes(),l={json:Ls.createJsonDataUrl(a.message),bin:Ls.createBinaryDataUrl(c),base64:Ls.createBase64DataUrl(c),hex:Ls.createHexDataUrl(c)},t.setState({message:a.message,dataUrls:l},Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateMessageDetails();case 2:case"end":return e.stop()}}),e)}))))):(null===a||void 0===a?void 0:a.unavailable)?t.props.history.replace("/explorer/unavailable"):t.props.history.replace("/explorer/search/".concat(t.props.match.params.messageId));case 5:case"end":return s.stop()}}),s)})))()}componentWillUnmount(){super.componentWillUnmount(),this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}render(){var e,t,s,a,i,r,n,l,o;return Object(Qe.jsx)("div",{className:"message",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsxs)("div",{className:"row phone-down-column start",children:[Object(Qe.jsx)("h2",{className:"margin-r-l",children:"Message"}),this.state.messageTangleStatus&&Object(Qe.jsx)(Us,{status:this.state.messageTangleStatus,milestoneIndex:null===(e=this.state.metadata)||void 0===e?void 0:e.referencedByMilestoneIndex,onClick:(null===(t=this.state.metadata)||void 0===t?void 0:t.referencedByMilestoneIndex)?()=>{var e;return this.props.history.push("/explorer/search/".concat(null===(e=this.state.metadata)||void 0===e?void 0:e.referencedByMilestoneIndex))}:void 0})]}),Object(Qe.jsx)("div",{className:"card--label",children:"Id"}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono row",children:[Object(Qe.jsx)("span",{className:"margin-r-t",children:this.props.match.params.messageId}),Object(Qe.jsx)(us,{onClick:()=>is.copy(this.props.match.params.messageId),buttonType:"copy",labelPosition:"top"})]}),null===(s=this.state.message)||void 0===s||null===(a=s.parentMessageIds)||void 0===a?void 0:a.map(((e,t)=>Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("div",{className:"card--label",children:["Parent Message ",t+1]}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono row",children:[e!=="0".repeat(64)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(d.b,{className:"margin-r-t",to:"/explorer/message/".concat(e),children:e}),Object(Qe.jsx)(us,{onClick:()=>is.copy(e),buttonType:"copy",labelPosition:"top"})]}),e==="0".repeat(64)&&Object(Qe.jsx)("span",{children:"Genesis"})]})]},t))),Object(Qe.jsx)("div",{className:"card--label",children:"Nonce"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("span",{className:"margin-r-t",children:null===(i=this.state.message)||void 0===i?void 0:i.nonce})})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{children:"Metadata"}),!this.state.metadata&&!this.state.metadataStatus&&Object(Qe.jsx)(as,{}),this.state.metadataStatus&&Object(Qe.jsx)("p",{className:"margin-t-s danger",children:this.state.metadataStatus}),this.state.metadata&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Is Solid"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("span",{className:"margin-r-t",children:(null===(r=this.state.metadata)||void 0===r?void 0:r.isSolid)?"Yes":"No"})}),Object(Qe.jsx)("div",{className:"card--label",children:"Ledger Inclusion"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)(Bs,{state:null===(n=this.state.metadata)||void 0===n?void 0:n.ledgerInclusionState})}),this.state.conflictReason&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Conflict Reason"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.conflictReason})]})]})]}),(null===(l=this.state.message)||void 0===l?void 0:l.payload)&&Object(Qe.jsxs)(c.a.Fragment,{children:[this.state.message.payload.type===bt.TRANSACTION_PAYLOAD_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(qs,{payload:this.state.message.payload}),this.state.message.payload.essence.payload&&Object(Qe.jsx)("div",{className:"card margin-t-m padding-l",children:Object(Qe.jsx)(As,{payload:this.state.message.payload.essence.payload})})]}),this.state.message.payload.type===bt.MILESTONE_PAYLOAD_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card margin-t-m padding-l",children:Object(Qe.jsx)(zs,{payload:this.state.message.payload})}),this.state.message.payload.receipt&&Object(Qe.jsx)("div",{className:"card margin-t-m padding-l",children:Object(Qe.jsx)(Vs,{payload:this.state.message.payload.receipt})})]}),this.state.message.payload.type===bt.INDEXATION_PAYLOAD_TYPE&&Object(Qe.jsx)("div",{className:"card margin-t-m padding-l",children:Object(Qe.jsx)(As,{payload:this.state.message.payload})})]}),Object(Qe.jsxs)("div",{className:"card margin-t-s padding-l",children:[Object(Qe.jsx)("div",{className:"row margin-b-s",children:Object(Qe.jsx)("h2",{children:"Tools"})}),Object(Qe.jsx)("div",{className:"card--label",children:"Export Message"}),Object(Qe.jsxs)("div",{className:"card--value row",children:[Object(Qe.jsxs)("div",{className:"select-wrapper",children:[Object(Qe.jsxs)("select",{value:this.state.selectedDataUrl,onChange:e=>this.setState({selectedDataUrl:e.target.value}),children:[Object(Qe.jsx)("option",{value:"json",children:"JSON"}),Object(Qe.jsx)("option",{value:"bin",children:"Binary"}),Object(Qe.jsx)("option",{value:"hex",children:"Hex"}),Object(Qe.jsx)("option",{value:"base64",children:"Base64"})]}),Object(Qe.jsx)(_s,{})]}),Object(Qe.jsx)("a",{className:"card--action card--action-plain",href:this.state.dataUrls[this.state.selectedDataUrl],download:Ls.filename(this.props.match.params.messageId,this.state.selectedDataUrl),role:"button",children:Object(Qe.jsx)(Ps,{})})]})]}),Object(Qe.jsxs)("div",{className:"card margin-t-s padding-l",children:[Object(Qe.jsxs)("div",{className:"row margin-b-s",children:[Object(Qe.jsx)("h2",{children:"Child Messages"}),void 0!==this.state.childrenIds&&Object(Qe.jsx)("span",{className:"card--header-count",children:this.state.childrenIds.length})]}),this.state.childrenBusy&&Object(Qe.jsx)(as,{}),null===(o=this.state.childrenIds)||void 0===o?void 0:o.map((e=>Object(Qe.jsx)("div",{className:"card--value card--value__mono margin-b-s",children:Object(Qe.jsx)(d.b,{to:"/explorer/message/".concat(e),children:e})},e))),!this.state.childrenBusy&&this.state.childrenIds&&0===this.state.childrenIds.length&&Object(Qe.jsx)("p",{children:"There are no children for this message."})]})]})})}updateMessageDetails(){var e=this;return Object(r.a)(i.a.mark((function t(){var s,a,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._tangleService.messageDetails(e.props.match.params.messageId);case 2:c=t.sent,e.setState({metadata:null===c||void 0===c?void 0:c.metadata,conflictReason:e.calculateConflictReason(null===c||void 0===c?void 0:c.metadata),childrenIds:(null===c||void 0===c?void 0:c.childrenIds)&&(null===c||void 0===c?void 0:c.childrenIds.length)>0?null===c||void 0===c?void 0:c.childrenIds:null!==(s=e.state.childrenIds)&&void 0!==s?s:[],messageTangleStatus:e.calculateStatus(null===c||void 0===c?void 0:c.metadata),childrenBusy:!1,metadataStatus:(null===c||void 0===c?void 0:c.unavailable)?"The node is currently unavailable or is not synced":void 0}),(null===c||void 0===c?void 0:c.unavailable)||(null===c||void 0===c||null===(a=c.metadata)||void 0===a?void 0:a.referencedByMilestoneIndex)&&(null===c||void 0===c||null===(n=c.metadata)||void 0===n?void 0:n.milestoneIndex)||(e._timerId=setTimeout(Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateMessageDetails();case 2:case"end":return t.stop()}}),t)}))),1e4));case 5:case"end":return t.stop()}}),t)})))()}calculateStatus(e){let t="unknown";return e&&(t=e.milestoneIndex?"milestone":e.referencedByMilestoneIndex?"referenced":"pending"),t}calculateConflictReason(e){let t="";return"conflicting"===(null===e||void 0===e?void 0:e.ledgerInclusionState)&&(t=e.conflictReason&&bt.CONFLICT_REASON_STRINGS[e.conflictReason]?bt.CONFLICT_REASON_STRINGS[e.conflictReason]:"The reason for the conflict is unknown"),t}};function Gs(){return(Gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Zs(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Ks=n.createElement("path",{d:"M5.48206 6.98708L0.318462 12.1921C0.218831 12.2891 0.139361 12.4052 0.0846907 12.5334C0.0300203 12.6617 0.00124313 12.7997 3.95234e-05 12.9393C-0.00116408 13.079 0.0252297 13.2174 0.0776802 13.3467C0.130131 13.4759 0.207588 13.5933 0.305532 13.692C0.403476 13.7907 0.519946 13.8688 0.648146 13.9217C0.776345 13.9746 0.913707 14.0012 1.05222 14C1.19072 13.9987 1.32761 13.9697 1.45487 13.9146C1.58214 13.8595 1.69725 13.7794 1.79348 13.679L7.69458 7.73051C7.89014 7.53332 8 7.26591 8 6.98708C8 6.70825 7.89014 6.44084 7.69458 6.24365L1.79348 0.295175C1.59674 0.103632 1.33323 -0.00235606 1.05972 3.97504e-05C0.786213 0.00243556 0.524578 0.113023 0.331169 0.307985C0.137761 0.502946 0.0280534 0.766681 0.0256767 1.04239C0.0232999 1.31809 0.128444 1.58371 0.318462 1.78203L5.48206 6.98708Z",fill:"currentColor"});function Js(e,t){var s=e.title,a=e.titleId,i=Zs(e,["title","titleId"]);return n.createElement("svg",Gs({width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Ks)}var Qs=n.forwardRef(Js);s.p,s(180);var Xs=class extends Ie{constructor(e){super(e),this._tangleService=void 0,this._tangleService=ye.a.get("tangle"),this.state={nextIndex:-1,previousIndex:-1,hasPrevious:!1,hasNext:!1}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t.loadIndex(t.props.match.params.milestoneIndex,!1);case 3:case"end":return s.stop()}}),s)})))()}render(){var e,t,s,a,n,l=this;return Object(Qe.jsx)("div",{className:"milestone",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{children:"Milestone"}),Object(Qe.jsx)("div",{className:"card--label",children:"Index"}),Object(Qe.jsx)("div",{className:"card--value",children:null===(e=this.state.milestone)||void 0===e?void 0:e.index}),Object(Qe.jsx)("div",{className:"card--label",children:"Message Id"}),Object(Qe.jsxs)("div",{className:"card--value card--value__mono row",children:[Object(Qe.jsx)("span",{className:"margin-r-t",children:Object(Qe.jsx)(d.b,{to:"/explorer/message/".concat(null===(t=this.state.milestone)||void 0===t?void 0:t.messageId),className:"info-box--title linked",children:null===(s=this.state.milestone)||void 0===s?void 0:s.messageId})}),Object(Qe.jsx)(us,{onClick:()=>{var e;return is.copy(null===(e=this.state.milestone)||void 0===e?void 0:e.messageId)},buttonType:"copy",labelPosition:"top"})]}),Object(Qe.jsx)("div",{className:"card--label",children:"Date"}),Object(Qe.jsx)("div",{className:"card--value",children:(null===(a=this.state.milestone)||void 0===a?void 0:a.timestamp)&&Be.date(null===(n=this.state.milestone)||void 0===n?void 0:n.timestamp)}),(this.state.hasPrevious||this.state.hasNext)&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("hr",{}),Object(Qe.jsxs)("div",{className:"row margin-t-s",children:[Object(Qe.jsxs)("button",{disabled:!this.state.hasPrevious,type:"button",onClick:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.loadIndex(l.state.previousIndex.toString(),!0));case 1:case"end":return e.stop()}}),e)}))),className:"card--action margin-r-t",children:[Object(Qe.jsx)(es,{className:"margin-r-t"}),"Previous Milestone"]}),Object(Qe.jsxs)("button",{disabled:!this.state.hasNext,type:"button",onClick:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.loadIndex(l.state.nextIndex.toString(),!0));case 1:case"end":return e.stop()}}),e)}))),className:"card--action margin-r-t",children:["Next Milestone",Object(Qe.jsx)(Qs,{className:"margin-l-t"})]})]})]})]})]})})}loadIndex(e,t){var s=this;return Object(r.a)(i.a.mark((function a(){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s._tangleService.milestoneDetails(Number.parseInt(e,10));case 2:(n=a.sent)?(s.setState({milestone:n},Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.checkForAdjacentMilestones());case 1:case"end":return e.stop()}}),e)})))),t&&window.history.replaceState(void 0,window.document.title,"/explorer/milestone/".concat(e))):s.props.history.replace("/explorer/search/".concat(e));case 4:case"end":return a.stop()}}),a)})))()}checkForAdjacentMilestones(){var e=this;return Object(r.a)(i.a.mark((function t(){var s,a,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.milestone){t.next=16;break}if(s=e.state.milestone.index+1,a=e.state.milestone.index-1,n=!1,c=!1,!(a>0)){t.next=10;break}return t.next=8,e._tangleService.milestoneDetails(a);case 8:t.sent&&(c=!0);case 10:return t.next=12,e._tangleService.milestoneDetails(s);case 12:t.sent&&(n=!0),e.setState({previousIndex:a,nextIndex:s,hasPrevious:c,hasNext:n}),n||setTimeout(Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.checkForAdjacentMilestones());case 1:case"end":return t.stop()}}),t)}))),5e3);case 16:case"end":return t.stop()}}),t)})))()}};function $s(){return($s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ea(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var ta=n.createElement("path",{d:" M 34 140 L 0.02 140 L 0.02 140 C 0.007 138.835 0 137.668 0 136.5 L 0 136.5 C 0 87.365 11.818 40.968 32.765 0 L 34 0 L 34 140 Z ",fill:"currentColor"});function sa(e,t){var s=e.title,a=e.titleId,i=ea(e,["title","titleId"]);return n.createElement("svg",$s({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 34 140",width:"34px",height:"140px",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,ta)}var aa=n.forwardRef(sa);s.p;function ia(){return(ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ra(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var na=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1V4H12V1C12 0.447715 12.4477 0 13 0C13.5523 0 14 0.447715 14 1V4H17V1C17 0.447715 17.4477 0 18 0C18.5523 0 19 0.447715 19 1V4.12602C20.4056 4.4878 21.5122 5.59439 21.874 7H25C25.5523 7 26 7.44772 26 8C26 8.55229 25.5523 9 25 9H22V12H25C25.5523 12 26 12.4477 26 13C26 13.5523 25.5523 14 25 14H22V17H25C25.5523 17 26 17.4477 26 18C26 18.5523 25.5523 19 25 19H21.874C21.5122 20.4056 20.4056 21.5122 19 21.874V25C19 25.5523 18.5523 26 18 26C17.4477 26 17 25.5523 17 25V22H14V25C14 25.5523 13.5523 26 13 26C12.4477 26 12 25.5523 12 25V22H9V25C9 25.5523 8.55229 26 8 26C7.44772 26 7 25.5523 7 25V21.874C5.59439 21.5122 4.4878 20.4056 4.12602 19H1C0.447715 19 0 18.5523 0 18C0 17.4477 0.447715 17 1 17H4V14H1C0.447715 14 0 13.5523 0 13C0 12.4477 0.447715 12 1 12H4V9H1C0.447715 9 0 8.55229 0 8C0 7.44772 0.447715 7 1 7H4.12602C4.4878 5.59439 5.59439 4.4878 7 4.12602V1ZM11 9C9.89543 9 9 9.89543 9 11V15C9 16.1046 9.89543 17 11 17H15C16.1046 17 17 16.1046 17 15V11C17 9.89543 16.1046 9 15 9H11Z",fill:"#666AF6"});function ca(e,t){var s=e.title,a=e.titleId,i=ra(e,["title","titleId"]);return n.createElement("svg",ia({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,na)}var la=n.forwardRef(ca);s.p;function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function da(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var ha=n.createElement("path",{d:"M11.9999 12.8115L9.67454 15.5795C10.3612 16.5407 10.7088 17.703 10.6624 18.8833C10.6161 20.0637 10.1785 21.1951 9.41854 22.0995C8.50834 23.1815 7.20609 23.8582 5.79753 23.9812C4.38897 24.1042 2.98915 23.6634 1.90521 22.7555C1.36875 22.3064 0.926138 21.7558 0.602702 21.1354C0.279265 20.515 0.0813554 19.8368 0.0202999 19.1398C-0.0407557 18.4428 0.0362414 17.7406 0.246884 17.0734C0.457528 16.4062 0.797681 15.7871 1.24788 15.2515C2.0087 14.3467 3.04825 13.72 4.20357 13.4695C5.35889 13.219 6.56467 13.359 7.63188 13.8675L10.2585 10.7395L3.07454 2.18885C2.96202 2.05495 2.87699 1.90019 2.82433 1.7334C2.77166 1.56662 2.7524 1.39109 2.76763 1.21685C2.78286 1.04261 2.83229 0.873089 2.9131 0.717973C2.9939 0.562856 3.10449 0.42519 3.23854 0.31285C3.37266 0.200246 3.52764 0.115165 3.69464 0.0624652C3.86165 0.0097655 4.03739 -0.00952042 4.21185 0.00570882C4.3863 0.0209381 4.55605 0.0703841 4.71139 0.151223C4.86674 0.232062 5.00463 0.342711 5.11721 0.47685L11.9999 8.66885L18.8812 0.47685C18.9938 0.342517 19.1318 0.231703 19.2872 0.150745C19.4427 0.0697879 19.6126 0.0202768 19.7872 0.00504451C19.9618 -0.0101878 20.1377 0.00915768 20.3049 0.0619742C20.472 0.114791 20.6271 0.200042 20.7612 0.31285C20.8953 0.42519 21.0059 0.562856 21.0867 0.717973C21.1675 0.873089 21.2169 1.04261 21.2321 1.21685C21.2474 1.39109 21.2281 1.56662 21.1754 1.7334C21.1228 1.90019 21.0377 2.05495 20.9252 2.18885L13.7399 10.7395L16.3665 13.8662C17.4338 13.3577 18.6395 13.2177 19.7948 13.4682C20.9502 13.7186 21.9897 14.3454 22.7505 15.2502C23.2007 15.7858 23.5409 16.4049 23.7515 17.0721C23.9622 17.7393 24.0392 18.4415 23.9781 19.1385C23.9171 19.8355 23.7192 20.5136 23.3957 21.134C23.0723 21.7545 22.6297 22.305 22.0932 22.7542C21.0093 23.6621 19.6094 24.1029 18.2009 23.9799C16.7923 23.8569 15.4901 23.1802 14.5799 22.0982C13.8199 21.1938 13.3823 20.0624 13.336 18.882C13.2896 17.7016 13.6372 16.5394 14.3239 15.5782L11.9999 12.8115ZM3.61988 20.7142C4.16456 21.1353 4.85102 21.3295 5.53559 21.256C6.22017 21.1825 6.84979 20.8471 7.29269 20.32C7.73559 19.7928 7.95744 19.1148 7.91181 18.4278C7.86618 17.7408 7.55661 17.0981 7.04788 16.6342C6.50587 16.18 5.80581 15.9595 5.10137 16.021C4.39692 16.0825 3.74566 16.421 3.29054 16.9622C2.34388 18.0889 2.49054 19.7689 3.61988 20.7142ZM20.3799 20.7142C20.648 20.4895 20.8692 20.2142 21.0308 19.9039C21.1924 19.5937 21.2912 19.2547 21.3217 18.9062C21.3522 18.5577 21.3136 18.2066 21.2083 17.8731C21.103 17.5395 20.9329 17.23 20.7079 16.9622C20.2528 16.4214 19.6018 16.0832 18.8977 16.0217C18.1936 15.9602 17.4938 16.1805 16.9519 16.6342C16.6837 16.8588 16.4624 17.134 16.3007 17.4442C16.1389 17.7544 16.0399 18.0934 16.0093 18.4419C15.9788 18.7904 16.0172 19.1415 16.1224 19.4751C16.2276 19.8087 16.3976 20.1183 16.6225 20.3862C17.5692 21.5129 19.2519 21.6595 20.3799 20.7142Z",fill:"#FF8B5C"});function ua(e,t){var s=e.title,a=e.titleId,i=da(e,["title","titleId"]);return n.createElement("svg",oa({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,ha)}var pa=n.forwardRef(ua);s.p;function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ma(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var va=n.createElement("path",{d:"m23.7055,11.46295q-1.43475,-3.0227 -3.41479,-4.93035l-1.38442,1.38442c1.12892,1.07886 2.11227,2.49021 2.96257,4.24794c-2.26383,4.68547 -5.47726,6.9112 -9.86887,6.9112q-1.97731,0 -3.64253,-0.60895l-1.50006,1.50006q2.3128,1.06797 5.14259,1.06797q7.84449,0 11.70551,-8.171a1.64046,1.64046 0 0 0 0,-1.40129zm-1.72971,-8.72444l-1.15994,-1.1613a0.21768,0.21768 0 0 0 -0.30801,0l-2.9759,2.97454q-2.4611,-1.25708 -5.53196,-1.25708q-7.84449,0 -11.70551,8.171a1.64073,1.64073 0 0 0 0,1.40129q1.5425,3.24881 3.71409,5.20816l-2.8793,2.87849a0.21768,0.21768 0 0 0 0,0.30774l1.16157,1.16157a0.21768,0.21768 0 0 0 0.30774,0l19.37722,-19.3764a0.21768,0.21768 0 0 0 0,-0.30801zm-19.84468,9.42645c2.26655,-4.68547 5.47999,-6.9112 9.86887,-6.9112c1.484,0 2.83332,0.25468 4.05747,0.77248l-1.91282,1.91282a4.78886,4.78886 0 0 0 -6.47939,6.47939l-2.26981,2.26981c-1.25626,-1.10879 -2.3392,-2.61102 -3.26432,-4.5233zm6.71257,0a3.05045,3.05045 0 0 1 3.97802,-2.90298l-3.83354,3.83354a3.04746,3.04746 0 0 1 -0.14448,-0.93056z",fill:"currentColor"}),ja=n.createElement("path",{d:"m11.89115,15.21242c-0.09414,0 -0.18693,-0.00435 -0.2789,-0.01279l-1.4372,1.4372a4.79131,4.79131 0 0 0 6.18798,-6.18798l-1.4372,1.4372c0.00843,0.09197 0.01279,0.18475 0.01279,0.2789a3.04583,3.04583 0 0 1 -3.04746,3.04746z",fill:"currentColor"});function ga(e,t){var s=e.title,a=e.titleId,i=ma(e,["title","titleId"]);return n.createElement("svg",ba({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,va,ja)}var xa=n.forwardRef(ga);s.p;function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function fa(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Sa=n.createElement("path",{d:"m23.69284,11.29876c-2.57667,-5.42785 -6.47156,-8.15945 -11.69285,-8.15945c-5.224,0 -9.11619,2.73159 -11.69285,8.16217a1.63896,1.63896 0 0 0 0,1.39977c2.57667,5.42785 6.47156,8.15945 11.69285,8.15945c5.224,0 9.11619,-2.73159 11.69285,-8.16217c0.20929,-0.44032 0.20929,-0.9513 0,-1.39977zm-11.69285,7.60498c-4.38414,0 -7.5941,-2.22332 -9.8582,-6.90373c2.2641,-4.68041 5.47406,-6.90373 9.8582,-6.90373c4.38414,0 7.5941,2.22332 9.8582,6.90373c-2.26138,4.68041 -5.47134,6.90373 -9.8582,6.90373zm-0.10872,-11.68742c-2.6419,0 -4.78369,2.14179 -4.78369,4.78369s2.14179,4.78369 4.78369,4.78369s4.78369,-2.14179 4.78369,-4.78369s-2.14179,-4.78369 -4.78369,-4.78369zm0,7.82785c-1.68245,0 -3.04417,-1.36172 -3.04417,-3.04417s1.36172,-3.04417 3.04417,-3.04417s3.04417,1.36172 3.04417,3.04417s-1.36172,3.04417 -3.04417,3.04417z",fill:"currentColor"});function ya(e,t){var s=e.title,a=e.titleId,i=fa(e,["title","titleId"]);return n.createElement("svg",Oa({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Sa)}var _a=n.forwardRef(ya);s.p;function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Ca=n.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#FF9800"}),Ia=n.createElement("circle",{cx:8,cy:8,r:4,fill:"#FF9800"});function ka(e,t){var s=e.title,a=e.titleId,i=Na(e,["title","titleId"]);return n.createElement("svg",wa({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Ca,Ia)}var Ma=n.forwardRef(ka);s.p,s(181);class Ta extends n.Component{constructor(e){super(e),this._metricsService=void 0,this._settingsService=void 0,this._peerSubscription=void 0,this._syncStatusSubscription=void 0,this._metricsService=ye.a.get("metrics"),this._settingsService=ye.a.get("settings"),this.state={blindMode:this._settingsService.getBlindMode()}}componentDidMount(){this._peerSubscription=this._metricsService.subscribe(_e.PeerMetric,(e=>{this.handleData(e)})),this._syncStatusSubscription=this._metricsService.subscribe(_e.SyncStatus,(e=>{if(e){const t=e.cmi,s=e.lmi;t&&t!==this.state.cmi&&this.setState({cmi:t}),s&&s!==this.state.lmi&&this.setState({lmi:s})}}))}componentWillUnmount(){this._peerSubscription&&(this._metricsService.unsubscribe(this._peerSubscription),this._peerSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}render(){var e;return Object(Qe.jsxs)("div",{className:"peers-summary",children:[Object(Qe.jsxs)("div",{className:"row middle spread margin-b-m",children:[Object(Qe.jsx)("h4",{children:"Peers"}),Object(Qe.jsx)("button",{type:"button",onClick:()=>this.toggleBlindMode(),className:"peers-summary--icon-button",children:this.state.blindMode?Object(Qe.jsx)(_a,{}):Object(Qe.jsx)(xa,{})})]}),!this.state.peers&&Object(Qe.jsx)("p",{children:"There are no peers."}),null===(e=this.state.peers)||void 0===e?void 0:e.map(((e,t)=>{var s,a;return Object(Qe.jsxs)(d.b,{to:"/peers/".concat(e.id),className:"peers-summary--item",children:[Object(Qe.jsxs)("div",{className:"peer-health-icon",children:[0===e.health&&Object(Qe.jsx)(We,{}),1===e.health&&Object(Qe.jsx)(Ma,{}),2===e.health&&Object(Qe.jsx)(Je,{})]}),Object(Qe.jsxs)("div",{className:"col",children:[Object(Qe.jsxs)("div",{className:"peer-id",children:[this.state.blindMode&&"*".repeat((null!==(s=e.alias)&&void 0!==s?s:e.id).length),!this.state.blindMode&&(null!==(a=e.alias)&&void 0!==a?a:e.id)]}),e.address&&Object(Qe.jsx)("div",{className:"peer-id",children:this.state.blindMode?"*".repeat(e.address.length):e.address})]})]},t)}))]})}handleData(e){let t;e&&(t=Te.sortPeers(e.map((e=>{const t=this.state.cmi?this.state.cmi:0,s=this.state.lmi?this.state.lmi:0;return{id:e.id,alias:e.alias,health:Te.calculateHealth(e,t,s),address:Te.formatPeerAddress(e)}})))),this.setState({peers:t})}toggleBlindMode(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}var Ea=Ta;s(182);var Pa=class extends Ie{constructor(e){super(e),this._themeService=void 0,this._metricsService=void 0,this._settingsService=void 0,this._nodeStatusSubscription=void 0,this._publicNodeStatusSubscription=void 0,this._syncStatusSubscription=void 0,this._mpsMetricsSubscription=void 0,this._networkId=void 0,this._metricsService=ye.a.get("metrics"),this._themeService=ye.a.get("theme"),this._settingsService=ye.a.get("settings");const t=ye.a.get("node-config");this._networkId=t.getNetworkId(),this.state={nodeName:"",nodeId:"",displayVersion:"",displayLatestVersion:"",lmi:"-",cmi:"-",pruningIndex:"-",memory:"-",uptime:"-",lastReceivedMpsTime:0,mpsIncoming:[],mpsOutgoing:[],bannerSrc:"",blindMode:this._settingsService.getBlindMode()}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.t0=t,s.next=4,Ne.getBanner(t._themeService.get());case 4:s.t1=s.sent,s.t2={bannerSrc:s.t1},s.t0.setState.call(s.t0,s.t2),we.subscribe("theme","home",function(){var e=Object(r.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Ne.getBanner(s);case 3:e.t1=e.sent,e.t2={bannerSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t._publicNodeStatusSubscription=t._metricsService.subscribe(_e.PublicNodeStatus,(e=>{if(e){const s=e.pruning_index.toString();s!==t.state.pruningIndex&&t.setState({pruningIndex:s})}})),t._nodeStatusSubscription=t._metricsService.subscribe(_e.NodeStatus,(e=>{if(e){const s=e.node_alias?e.node_alias:Ne.getConfiguration().name,a=e.node_id||"No node Id.",i=Be.duration(e.uptime),r=Be.iSize(Te.calculateMemoryUsage(e));s!==t.state.nodeName&&t.setState({nodeName:s}),a!==t.state.nodeId&&t.setState({nodeId:a}),i!==t.state.uptime&&t.setState({uptime:i}),r!==t.state.memory&&t.setState({memory:r}),t.checkVersion(e.version,e.latest_version)}})),t._syncStatusSubscription=t._metricsService.subscribe(_e.SyncStatus,(e=>{if(e){const s=e.lmi?e.lmi.toString():"",a=e.cmi?e.cmi.toString():"";s!==t.state.lmi&&t.setState({lmi:s}),a!==t.state.cmi&&t.setState({cmi:a})}})),t._mpsMetricsSubscription=t._metricsService.subscribe(_e.MPSMetrics,void 0,(e=>{const s=e.filter((e=>void 0!==e&&null!==e)),a=s.map((e=>e.incoming)),i=s.map((e=>e.outgoing));t.setState({mpsIncoming:a,mpsOutgoing:i,lastReceivedMpsTime:Date.now()})})),we.subscribe("settings.blindMode","home",(e=>{t.setState({blindMode:e})}));case 13:case"end":return s.stop()}}),s)})))()}componentWillUnmount(){super.componentWillUnmount(),we.unsubscribe("theme","home"),this._nodeStatusSubscription&&(this._metricsService.unsubscribe(this._nodeStatusSubscription),this._nodeStatusSubscription=void 0),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0),we.unsubscribe("settings.blindMode","home")}render(){var e;return Object(Qe.jsx)("div",{className:"home",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsx)("div",{className:"card",children:Object(Qe.jsxs)("div",{className:"banner row",children:[Object(Qe.jsxs)("div",{className:"node-info",children:[Object(Qe.jsxs)("div",{children:[Object(Qe.jsx)("h1",{children:this.state.blindMode?"**********":this.state.nodeName}),this.state.nodeId&&Object(Qe.jsx)("p",{className:"secondary margin-t-t word-break-all",children:this.state.blindMode?"*********":this.state.nodeId})]}),Object(Qe.jsx)("p",{className:"secondary",children:this._networkId}),Object(Qe.jsxs)("p",{className:"secondary",children:[this.state.displayVersion,this.state.displayLatestVersion]})]}),Object(Qe.jsx)(aa,{className:"banner-curve"}),Object(Qe.jsx)("div",{className:"banner-image",children:Object(Qe.jsx)("img",{src:this.state.bannerSrc})})]})}),Object(Qe.jsxs)("div",{className:"row fill margin-t-s desktop-down-column",children:[Object(Qe.jsxs)("div",{className:"col info-col fill",children:[Object(Qe.jsxs)("div",{className:"row tablet-down-column",children:[Object(Qe.jsx)(Gt,{caption:"CMI / LMI",value:"".concat(this.state.cmi," / ").concat(this.state.lmi),icon:Object(Qe.jsx)(Ht,{}),backgroundStyle:"green"}),Object(Qe.jsx)(Gt,{caption:"Pruning Index",value:null===(e=this.state.pruningIndex)||void 0===e?void 0:e.toString(),icon:Object(Qe.jsx)(pa,{}),backgroundStyle:"orange"})]}),Object(Qe.jsxs)("div",{className:"row margin-t-s tablet-down-column",children:[Object(Qe.jsx)(Gt,{caption:"Uptime",value:this.state.uptime,icon:Object(Qe.jsx)(qt,{}),backgroundStyle:"blue"}),Object(Qe.jsx)(Gt,{caption:"Memory Usage",value:this.state.memory,icon:Object(Qe.jsx)(la,{}),backgroundStyle:"purple"})]}),Object(Qe.jsx)("div",{className:"row margin-t-s",children:Object(Qe.jsx)("div",{className:"card fill messages-graph-panel",children:Object(Qe.jsx)(mt,{caption:"Messages Per Second",seriesMaxLength:20,timeInterval:1e3,endTime:this.state.lastReceivedMpsTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.mpsIncoming},{className:"bar-color-2",label:"Outgoing",values:this.state.mpsOutgoing}]})})})]}),Object(Qe.jsx)("div",{className:"card col peers-summary-col peers-summary-panel",children:Object(Qe.jsx)(Ea,{})})]})]})})}checkVersion(e,t){if(this.state.version!==e||this.state.latestVersion!==t){const s=this.compareVersions(e,t);this.setState({version:e,latestVersion:t,displayVersion:e}),s<0&&this.setState({displayLatestVersion:" - a new version ".concat(t," is available.")})}}compareVersions(e,t){const s=e.split("."),a=t.split(".");if(3===s.length&&3===a.length)for(let i=0;i<3;i++){const e=Number.parseInt(s[i],10),t=Number.parseInt(a[i],10);if(e>t)return 1;if(t>e)return-1;if(2===i){let e=96,t=96;const r=s[i].indexOf("-");r>0&&(e=s[i].charCodeAt(r+1));const n=a[i].indexOf("-");return n>0&&(t=a[i].charCodeAt(n+1)),e-t}}return 0}};s(183);var La=class extends Ie{constructor(e){super(e),this._authService=void 0,this._authService=ye.a.get("auth"),this.state={user:"",password:"",isBusy:!1,error:!1,redirect:""}}render(){return this.state.redirect.length>0?Object(Qe.jsx)(u.a,{to:this.state.redirect}):Object(Qe.jsx)("div",{className:"login",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsx)("h2",{children:"Login"}),Object(Qe.jsx)("div",{className:"card margin-t-s padding-l",children:Object(Qe.jsxs)("form",{children:[Object(Qe.jsx)("p",{children:"Please enter your credentials to unlock the full dashboard."}),Object(Qe.jsx)("div",{className:"card--label",children:"User"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("input",{type:"text",autoComplete:"username",value:this.state.user,disabled:this.state.isBusy,onChange:e=>this.setState({user:e.target.value}),autoFocus:!0})}),Object(Qe.jsx)("div",{className:"card--label",children:"Password"}),Object(Qe.jsx)("div",{className:"card--value row",children:Object(Qe.jsx)("input",{type:"password",autoComplete:"current-password",value:this.state.password,disabled:this.state.isBusy,onChange:e=>this.setState({password:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&this.state.password.trim().length>0&&this.state.user.trim().length>0&&this.login()}})}),Object(Qe.jsx)("hr",{}),Object(Qe.jsxs)("div",{className:"card--value row middle",children:[Object(Qe.jsx)("button",{className:"card--action margin-r-s",type:"button",disabled:this.state.isBusy||0===this.state.user.trim().length||0===this.state.password.trim().length,onClick:e=>this.login(),children:"Login"}),this.state.isBusy&&Object(Qe.jsx)(as,{compact:!0}),this.state.error&&Object(Qe.jsx)("p",{className:"danger margin-l-t",children:"Your login attempt failed, please try again."})]})]})})]})})}login(){var e=this;this.setState({isBusy:!0,error:!1},Object(r.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._authService.login(e.state.user,e.state.password);case 2:s=t.sent,e.setState({isBusy:!1,error:!s,redirect:s?"/":""});case 4:case"end":return t.stop()}}),t)}))))}};s(184);var Da=Object(u.g)(class extends Ie{constructor(e){super(e),this._metricsService=void 0,this._settingsService=void 0,this._peersSubscription=void 0,this._syncStatusSubscription=void 0,this._metricsService=ye.a.get("metrics"),this._settingsService=ye.a.get("settings"),this.state={address:"",isConnected:!1,isSynced:!1,hasPeers:!1,latestMilestoneIndex:"-",latestSolidMilestoneIndex:"-",pruningIndex:"-",syncedPeers:"-",connectedPeers:"-",newMessagesDiff:[],sentMessagesDiff:[],relation:"-",lastUpdateTime:0,blindMode:this._settingsService.getBlindMode()}}componentDidMount(){super.componentDidMount(),this._peersSubscription=this._metricsService.subscribe(_e.PeerMetric,void 0,(e=>{let t,s="",a=!1,i=!1,r=!1,n="-",c="-",l="-",o="-",d="-";const h=[],u=[],p=[],b=[];let m,v="-";var j,g=Object(Kt.a)(e);try{for(g.s();!(j=g.n()).done;){const e=j.value;if(e){const p=e.find((e=>e.id===this.props.match.params.id)),b=this.state.nodeLmi?this.state.nodeLmi:0;var x,O,f;if(p)t=p.alias,s=null!==(x=Te.formatPeerAddress(p))&&void 0!==x?x:"",a=p.connected,i=a&&Te.calculateIsSynced(p,b),m=null===(O=p.gossip)||void 0===O?void 0:O.metrics,v=p.relation,(null===(f=p.gossip)||void 0===f?void 0:f.heartbeat)&&(h.push(p.gossip.metrics.newMessages),u.push(p.gossip.metrics.sentMessages),a&&(r=p.gossip.heartbeat.connectedNeighbors>0,n=p.gossip.heartbeat.latestMilestoneIndex.toString(),c=p.gossip.heartbeat.solidMilestoneIndex.toString(),l=p.gossip.heartbeat.prunedMilestoneIndex.toString(),o=p.gossip.heartbeat.syncedNeighbors.toString(),d=p.gossip.heartbeat.connectedNeighbors.toString()))}}}catch(S){g.e(S)}finally{g.f()}for(let y=1;y<h.length;y++)p.push(Math.max(h[y]-h[y-1],0));for(let y=1;y<u.length;y++)b.push(Math.max(u[y]-u[y-1],0));this.setState({alias:t,address:s,isConnected:a,isSynced:i,hasPeers:r,latestMilestoneIndex:n,latestSolidMilestoneIndex:c,pruningIndex:l,syncedPeers:o,connectedPeers:d,newMessagesDiff:p,sentMessagesDiff:b,gossipMetrics:m,relation:v,lastUpdateTime:Date.now()})})),this._syncStatusSubscription=this._metricsService.subscribe(_e.SyncStatus,(e=>{if(e){const t=e.cmi,s=e.lmi;t&&t!==this.state.nodeCmi&&this.setState({nodeCmi:t}),s&&s!==this.state.nodeLmi&&this.setState({nodeLmi:s})}}))}componentWillUnmount(){super.componentWillUnmount(),this._peersSubscription&&(this._metricsService.unsubscribe(this._peersSubscription),this._peersSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}render(){var e,t,s,a,i,r,n,l,o,h,u,p,b,m,v,j,g,x,O,f,S,y;return Object(Qe.jsx)("div",{className:"peer",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)("div",{className:"row middle spread margin-b-s",children:[Object(Qe.jsxs)(d.b,{to:"/peers",className:"row inline middle",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Peers"})]}),Object(Qe.jsx)("button",{type:"button",onClick:()=>this.toggleBlindMode(),className:"peer--icon-button",children:this.state.blindMode?Object(Qe.jsx)(_a,{}):Object(Qe.jsx)(xa,{})})]}),Object(Qe.jsx)("div",{className:"card",children:Object(Qe.jsxs)("div",{className:"banner row tablet-down-column spread",children:[Object(Qe.jsxs)("div",{className:"node-info",children:[this.state.alias&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("h2",{className:"word-break-all",children:this.state.blindMode?"*".repeat(this.state.alias.length):this.state.alias}),Object(Qe.jsx)("p",{className:"secondary margin-t-t",children:this.state.blindMode?"*".repeat(this.props.match.params.id.length):this.props.match.params.id})]}),!this.state.alias&&Object(Qe.jsx)("h2",{className:"word-break-all",children:this.state.blindMode?"*".repeat(this.props.match.params.id.length):this.props.match.params.id}),Object(Qe.jsx)("p",{className:"secondary margin-t-t",children:this.state.blindMode?"*".repeat(this.state.address.length):this.state.address}),Object(Qe.jsxs)("p",{className:"secondary margin-t-t",children:["Relation:\xa0","".concat(this.state.relation.slice(0,1).toUpperCase()).concat(this.state.relation.slice(1))]}),this.state.nodeCmi&&Number(this.state.pruningIndex)>this.state.nodeCmi&&Object(Qe.jsx)("p",{className:"secondary warning margin-t-t",children:"Warning:\xa0 History of peer not sufficient to sync from. Consider using a newer snapshot if all peers have the same status."})]}),Object(Qe.jsxs)("div",{className:"health-indicators col tablet-down-only-row phone-down-column",children:[Object(Qe.jsx)($e,{label:"Connected",healthy:this.state.isConnected,className:"child"}),Object(Qe.jsx)($e,{label:"Synced",healthy:this.state.isSynced,className:"child"}),Object(Qe.jsx)($e,{label:"Peers",healthy:this.state.hasPeers,className:"child"})]})]})}),Object(Qe.jsxs)("div",{className:"row info margin-t-s",children:[Object(Qe.jsx)(Gt,{caption:"SMI / LMI",value:"".concat(this.state.latestSolidMilestoneIndex," / ").concat(this.state.latestMilestoneIndex),icon:Object(Qe.jsx)(Ht,{}),backgroundStyle:"green"}),Object(Qe.jsx)(Gt,{caption:"Pruning Index",value:this.state.pruningIndex,icon:Object(Qe.jsx)(pa,{}),backgroundStyle:"orange"}),Object(Qe.jsx)(Gt,{caption:"Synced Peers",value:"".concat(this.state.syncedPeers," / ").concat(this.state.connectedPeers),icon:Object(Qe.jsx)(Dt,{}),backgroundStyle:"purple"})]}),Object(Qe.jsxs)("div",{className:"card messages-graph-panel margin-t-s",children:[Object(Qe.jsx)(mt,{caption:"Messages per Second",endTime:this.state.lastUpdateTime,timeInterval:1e3,seriesMaxLength:30,series:[{className:"bar-color-1",label:"Incoming",values:this.state.newMessagesDiff},{className:"bar-color-2",label:"Outgoing",values:this.state.sentMessagesDiff}]}),Object(Qe.jsxs)("div",{className:"row wrap padding-s gossip",children:[Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Known Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(e=null===(t=this.state.gossipMetrics)||void 0===t?void 0:t.knownMessages)&&void 0!==e?e:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"New Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(s=null===(a=this.state.gossipMetrics)||void 0===a?void 0:a.newMessages)&&void 0!==s?s:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(i=null===(r=this.state.gossipMetrics)||void 0===r?void 0:r.receivedMessages)&&void 0!==i?i:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Messages"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(n=null===(l=this.state.gossipMetrics)||void 0===l?void 0:l.sentMessages)&&void 0!==n?n:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Message Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(o=null===(h=this.state.gossipMetrics)||void 0===h?void 0:h.receivedMessageRequests)&&void 0!==o?o:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Message Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(u=null===(p=this.state.gossipMetrics)||void 0===p?void 0:p.sentMessageRequests)&&void 0!==u?u:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Heartbeats"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(b=null===(m=this.state.gossipMetrics)||void 0===m?void 0:m.receivedHeartbeats)&&void 0!==b?b:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Heartbeats"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(v=null===(j=this.state.gossipMetrics)||void 0===j?void 0:j.sentHeartbeats)&&void 0!==v?v:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Received Milestone Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(g=null===(x=this.state.gossipMetrics)||void 0===x?void 0:x.receivedMilestoneRequests)&&void 0!==g?g:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Sent Milestone Requests"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(O=null===(f=this.state.gossipMetrics)||void 0===f?void 0:f.sentMilestoneRequests)&&void 0!==O?O:"-"})]}),Object(Qe.jsxs)("div",{className:"gossip-item",children:[Object(Qe.jsx)("h4",{children:"Dropped Packets"}),Object(Qe.jsx)("div",{className:"gossip-value",children:null!==(S=null===(y=this.state.gossipMetrics)||void 0===y?void 0:y.droppedPackets)&&void 0!==S?S:"-"})]})]})]})]})})}toggleBlindMode(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}});s(185);class Ba extends n.Component{render(){return Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"dialog-click-shield"}),Object(Qe.jsx)("div",{className:"dialog-container",children:Object(Qe.jsxs)("div",{className:"dialog",children:[Object(Qe.jsx)("div",{className:"dialog-header",children:Object(Qe.jsx)("h1",{children:this.props.title})}),Object(Qe.jsx)("div",{className:"dialog-content",children:this.props.children}),Object(Qe.jsx)("div",{className:"dialog-footer",children:this.props.actions})]})})]})}}var Ra=Ba;s(186);var Aa=Object(u.g)(class extends Ie{constructor(e){super(e),this._metricsService=void 0,this._settingsService=void 0,this._peersSubscription=void 0,this._syncStatusSubscription=void 0,this._metricsService=ye.a.get("metrics"),this._settingsService=ye.a.get("settings"),this.state={peers:[],dialogPeerAddress:"",dialogPeerAlias:"",blindMode:this._settingsService.getBlindMode()}}componentDidMount(){super.componentDidMount(),this._peersSubscription=this._metricsService.subscribe(_e.PeerMetric,void 0,(e=>{const t={};if(e.length>0){const l=new Set(e[e.length-1].map((e=>e.id)));var s,a=Object(Kt.a)(e);try{for(a.s();!(s=a.n()).done;){const e=s.value;if(e){var i,r=Object(Kt.a)(e);try{for(r.s();!(i=r.n()).done;){const e=i.value;if(l.has(e.id)){var n;const s=Te.formatPeerAddress(e),a=this.state.cmi?this.state.cmi:0,i=this.state.lmi?this.state.lmi:0,r=Te.calculateHealth(e,a,i);t[e.id]||(t[e.id]={id:e.id,address:"",health:0,relation:e.relation,newMessagesTotal:[],sentMessagesTotal:[],newMessagesDiff:[],sentMessagesDiff:[],lastUpdateTime:0}),t[e.id].id=e.id,t[e.id].alias=e.alias,t[e.id].address=s,t[e.id].health=r,t[e.id].relation=e.relation,t[e.id].lastUpdateTime=Date.now(),(null===(n=e.multiAddresses)||void 0===n?void 0:n.length)&&(t[e.id].originalAddress=e.multiAddresses[0]),e.gossip&&(t[e.id].newMessagesTotal.push(e.gossip.metrics.newMessages),t[e.id].sentMessagesTotal.push(e.gossip.metrics.sentMessages)),t[e.id].newMessagesDiff=[];for(let n=1;n<t[e.id].newMessagesTotal.length;n++)t[e.id].newMessagesDiff.push(Math.max(t[e.id].newMessagesTotal[n]-t[e.id].newMessagesTotal[n-1],0));t[e.id].sentMessagesDiff=[];for(let n=1;n<t[e.id].sentMessagesTotal.length;n++)t[e.id].sentMessagesDiff.push(Math.max(t[e.id].sentMessagesTotal[n]-t[e.id].sentMessagesTotal[n-1],0))}}}catch(c){r.e(c)}finally{r.f()}}}}catch(c){a.e(c)}finally{a.f()}}this.setState({peers:Te.sortPeers(Object.values(t))})})),this._syncStatusSubscription=this._metricsService.subscribe(_e.SyncStatus,(e=>{if(e){const t=e.cmi,s=e.lmi;t&&t!==this.state.cmi&&this.setState({cmi:t}),s&&s!==this.state.lmi&&this.setState({lmi:s})}}))}componentWillUnmount(){super.componentWillUnmount(),this._peersSubscription&&(this._metricsService.unsubscribe(this._peersSubscription),this._peersSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}render(){var e;return Object(Qe.jsx)("div",{className:"peers",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)("div",{className:"row spread",children:[Object(Qe.jsx)("h2",{children:"Peers"}),Object(Qe.jsxs)("div",{className:"row",children:[Object(Qe.jsx)("button",{type:"button",onClick:()=>this.toggleBlindMode(),className:"peers--icon-button",children:this.state.blindMode?Object(Qe.jsx)(_a,{}):Object(Qe.jsx)(xa,{})}),Object(Qe.jsx)("button",{type:"button",className:"add-button",onClick:()=>this.setState({dialogType:"add",dialogIsEdit:!0,dialogPeerId:"",dialogPeerAddress:"",dialogPeerAlias:"",dialogStatus:"",dialogBusy:!1}),children:"Add Peer"})]})]}),Object(Qe.jsxs)("div",{className:"peers-panel",children:[0===this.state.peers.length&&Object(Qe.jsx)("p",{className:"margin-t-s",children:"There are no peers."}),this.state.peers.map(((e,t)=>{var s,a,i,r;return Object(Qe.jsx)("div",{className:"peers-panel--item",children:Object(Qe.jsxs)("div",{className:"card col padding-m",children:[Object(Qe.jsxs)("div",{className:"row middle",children:[Object(Qe.jsxs)("span",{className:"peer-health",children:[0===e.health&&Object(Qe.jsx)(We,{}),1===e.health&&Object(Qe.jsx)(Ma,{}),2===e.health&&Object(Qe.jsx)(Je,{})]}),Object(Qe.jsxs)("div",{className:"peer-id word-break-all",children:[Object(Qe.jsxs)("span",{children:[this.state.blindMode&&"*".repeat((null!==(s=e.alias)&&void 0!==s?s:e.id).length),!this.state.blindMode&&(null!==(a=e.alias)&&void 0!==a?a:e.id)]}),Object(Qe.jsx)("span",{children:this.state.blindMode?"*".repeat(null!==(i=null===(r=e.address)||void 0===r?void 0:r.length)&&void 0!==i?i:10):e.address})]})]}),Object(Qe.jsx)(mt,{caption:"Messages per Second",seriesMaxLength:15,timeInterval:1e3,timeMarkers:5,endTime:e.lastUpdateTime,series:[{className:"bar-color-1",label:"Incoming",values:e.newMessagesDiff},{className:"bar-color-2",label:"Outgoing",values:e.sentMessagesDiff}]}),Object(Qe.jsxs)("div",{className:"row peer-actions",children:[Object(Qe.jsxs)("p",{className:"margin-t-s padding-t",children:["Relation: ","".concat(e.relation.slice(0,1).toUpperCase()).concat(e.relation.slice(1))]}),"known"!==e.relation&&e.originalAddress&&Object(Qe.jsx)("button",{type:"button",className:"card--action margin-t-s",onClick:()=>{var t;return this.setState({dialogType:"promote",dialogIsEdit:!0,dialogPeerAddress:null!==(t=e.originalAddress)&&void 0!==t?t:"",dialogPeerAlias:"",dialogPeerId:e.id,dialogStatus:"",dialogBusy:!1})},children:"Promote to Known"}),"known"===e.relation&&Object(Qe.jsx)("button",{type:"button",className:"card--action margin-t-s",onClick:()=>{var t,s;return this.setState({dialogType:"edit",dialogIsEdit:!0,dialogPeerAddress:null!==(t=e.originalAddress)&&void 0!==t?t:"",dialogPeerAlias:null!==(s=e.alias)&&void 0!==s?s:"",dialogPeerId:e.id,dialogPeerIdOriginal:e.id,dialogStatus:"",dialogBusy:!1})},children:"Edit"}),Object(Qe.jsx)("button",{type:"button",className:"card--action card--action-danger margin-t-s",onClick:()=>this.setState({dialogType:"delete",dialogIsEdit:!1,dialogPeerId:e.id,dialogPeerAddress:"",dialogPeerAlias:"",dialogStatus:"",dialogBusy:!1}),children:"Delete"}),Object(Qe.jsxs)(d.b,{to:"/peers/".concat(e.id),className:"card--action row middle inline margin-t-s",children:[Object(Qe.jsx)("span",{className:"margin-r-s",children:"More details"}),Object(Qe.jsx)(Qs,{className:"secondary"})]})]})]})},t)}))]}),this.state.dialogType&&Object(Qe.jsxs)(Ra,{title:{add:"Add Peer",edit:"Edit Peer",promote:"Promote to Known",delete:"Delete Confirmation"}[this.state.dialogType],actions:[Object(Qe.jsx)("button",{type:"button",onClick:()=>this.state.dialogIsEdit?this.peerConfigure():this.peerDelete(),disabled:this.state.dialogBusy||this.state.dialogIsEdit&&(0===this.state.dialogPeerAddress.trim().length||0===(null===(e=this.state.dialogPeerId)||void 0===e?void 0:e.trim().length)),children:this.state.dialogIsEdit?"OK":"Yes"},0),Object(Qe.jsx)("button",{type:"button",onClick:()=>this.setState({dialogPeerId:void 0,dialogPeerIdOriginal:void 0,dialogType:void 0}),disabled:this.state.dialogBusy,children:this.state.dialogIsEdit?"Cancel":"No"},1)],children:["delete"===this.state.dialogType&&Object(Qe.jsx)("p",{className:"margin-b-l",children:"Are you sure you want to delete the peer?"}),this.state.dialogIsEdit&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("p",{children:["Please enter the details of the peer to ",this.state.dialogType,"."]}),Object(Qe.jsx)("div",{className:"dialog--label",children:"Address"}),Object(Qe.jsx)("div",{className:"dialog--value",children:Object(Qe.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. /ip4/127.0.0.1/tcp/15600",value:this.state.dialogPeerAddress,disabled:this.state.dialogBusy,onChange:e=>this.setState({dialogPeerAddress:e.target.value})})}),Object(Qe.jsx)("div",{className:"dialog--label",children:"Id"}),Object(Qe.jsx)("div",{className:"dialog--value",children:Object(Qe.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. 12D3KooWC7uE9w3RN4Vh1FJAZa8SbE8yMWR6wCVBajcWpyWguV73",value:this.state.dialogPeerId,disabled:this.state.dialogBusy,onChange:e=>this.setState({dialogPeerId:e.target.value})})}),Object(Qe.jsx)("div",{className:"dialog--label",children:"Alias"}),Object(Qe.jsx)("div",{className:"dialog--value",children:Object(Qe.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. My Friend's Node",value:this.state.dialogPeerAlias,disabled:this.state.dialogBusy,onChange:e=>this.setState({dialogPeerAlias:e.target.value})})})]}),this.state.dialogBusy&&Object(Qe.jsx)(as,{}),Object(Qe.jsx)("p",{className:Ae()("margin-t-l",{danger:!this.state.dialogBusy}),children:this.state.dialogStatus})]})]})})}peerConfigure(){var e=this;this.setState({dialogBusy:!0,dialogStatus:"add"===this.state.dialogType?"Adding peer, please wait...":"Promoting peer, please wait..."},Object(r.a)(i.a.mark((function t(){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=ye.a.get("tangle"),t.prev=1,"edit"!==e.state.dialogType||!e.state.dialogPeerIdOriginal){t.next=5;break}return t.next=5,s.peerDelete(e.state.dialogPeerIdOriginal);case 5:return(a=e.state.dialogPeerAddress).endsWith("/")||(a+="/"),a+="p2p/".concat(e.state.dialogPeerId),t.next=10,s.peerAdd(a,e.state.dialogPeerAlias);case 10:e.setState({dialogBusy:!1,dialogStatus:"",dialogPeerId:void 0,dialogType:void 0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.setState({dialogBusy:!1,dialogStatus:"Failed to ".concat(e.state.dialogType," peer: ").concat(t.t0.message)});case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))))}peerDelete(){var e=this;this.setState({dialogBusy:!0,dialogStatus:"Deleting peer, please wait..."},Object(r.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.dialogPeerId){t.next=11;break}return s=ye.a.get("tangle"),t.prev=2,t.next=5,s.peerDelete(e.state.dialogPeerId);case 5:e.setState({dialogBusy:!1,dialogStatus:"",dialogPeerId:void 0,dialogType:void 0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.setState({dialogBusy:!1,dialogStatus:"Failed to delete peer: ".concat(t.t0.message)});case 11:case"end":return t.stop()}}),t,null,[[2,8]])}))))}toggleBlindMode(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}});s(187);class Ua extends Ie{constructor(e){super(e),this.state={events:{},eventIds:[],eventInfo:""}}static initPlugin(){return Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ua._isAvailable=!1,t=ye.a.get("tangle"),e.prev=2,e.next=5,t.info();case 5:e.sent.features.includes("Participation")&&(Ua._isAvailable=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()}static pluginDetails(){if(Ua._isAvailable)return{title:Ua.PLUGIN_TITLE,description:Ua.PLUGIN_DESCRIPTION,settings:Object(Qe.jsx)(Ua,{})}}static buildAuthHeaders(){const e=ye.a.get("auth"),t={},s=e.isLoggedIn();s&&(t.Authorization="Bearer ".concat(s));const a=e.csrf();return a&&(t["X-CSRF-Token"]=a),t}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e().call(t),s.next=3,t.fetchEvents();case 3:case"end":return s.stop()}}),s)})))()}componentDidUpdate(e,t){var s=this;return Object(r.a)(i.a.mark((function e(){var a,r,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.eventIds===t.eventIds){e.next=21;break}a=s.state.eventIds.filter((e=>!t.eventIds.includes(e))),r=Object(Kt.a)(a),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=13;break}return c=n.value,e.next=9,s.fetchEventInfo(c);case 9:return e.next=11,s.fetchEventStatus(c);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))()}render(){var e,t,s,a,n,l,o,d,h,u,p,b=this;return Object(Qe.jsx)("div",{className:"participation",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsx)("div",{className:"row end",children:Object(Qe.jsx)("button",{type:"button",className:"add-button",onClick:()=>this.setState({dialogType:"add",dialogStatus:"",dialogBusy:!1}),children:"Add Event"})}),Object(Qe.jsxs)("div",{className:"events-panel",children:[0===this.state.eventIds.length&&Object(Qe.jsx)("p",{className:"margin-t-s",children:"There are no events."}),this.state.eventIds.map(((e,t)=>{var s,a;const i=this.state.events[e];return Object(Qe.jsx)("div",{className:"events-panel--item",children:Object(Qe.jsxs)("div",{className:"card col padding-m",children:[Object(Qe.jsxs)("div",{className:"col",children:[Object(Qe.jsx)("div",{className:"event-id word-break-all margin-b-s",children:Object(Qe.jsxs)("span",{children:[Object(Qe.jsx)("h4",{children:"ID"})," ",e]})}),Object(Qe.jsxs)("div",{className:"event-item event-item--stretch",children:[Object(Qe.jsx)("h4",{children:"Name"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.name})]})]}),Object(Qe.jsxs)("div",{className:"row wrap",children:[Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Milestone index commence"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.milestoneIndexCommence})]}),Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Milestone index start"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.milestoneIndexStart})]}),Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Milestone index end"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.milestoneIndexEnd})]}),Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Type"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:0===(null===i||void 0===i?void 0:i.payload.type)?"Ballot":"Staking"})]}),Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Status"}),Object(Qe.jsxs)("div",{className:"event-value word-break-all",children:[null===i||void 0===i||null===(s=i.status)||void 0===s?void 0:s.status.slice(0,1).toUpperCase(),null===i||void 0===i||null===(a=i.status)||void 0===a?void 0:a.status.slice(1)]})]})]}),Object(Qe.jsxs)("div",{className:"row event-actions",children:[Object(Qe.jsx)("button",{type:"button",className:"card--action card--action margin-t-s margin-r-s",onClick:()=>this.setState({dialogType:"details",dialogStatus:"",dialogBusy:!1,dialogDetailsEvent:this.state.events[e]}),children:"More details"}),Object(Qe.jsx)("button",{type:"button",className:"card--action card--action-danger margin-t-s",onClick:()=>this.setState({dialogType:"delete",dialogStatus:"",dialogBusy:!1,deleteId:e}),children:"Delete"})]})]})},t)}))]}),this.state.dialogType&&Object(Qe.jsxs)(Ra,{title:{add:"Add Event",delete:"Delete Event",details:"Event details"}[this.state.dialogType],actions:[Object(Qe.jsx)("button",{className:"details"===this.state.dialogType?"d-none":"",type:"button",onClick:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==b.state.dialogType){e.next=5;break}return e.next=3,b.submitEvent();case 3:e.next=8;break;case 5:if(!b.state.deleteId){e.next=8;break}return e.next=8,b.eventDelete(b.state.deleteId);case 8:case"end":return e.stop()}}),e)}))),disabled:this.state.dialogBusy||"add"===this.state.dialogType&&(!this.state.eventInfo||0===this.state.eventInfo.trim().length||!this.validateJsonOrUrl(null===(e=this.state)||void 0===e?void 0:e.eventInfo)),children:"add"===this.state.dialogType?"OK":"Yes"},0),Object(Qe.jsx)("button",{type:"button",onClick:()=>this.setState({dialogType:void 0,deleteId:void 0,dialogDetailsEvent:void 0}),disabled:this.state.dialogBusy,children:"add"===this.state.dialogType||"details"===this.state.dialogType?"Cancel":"No"},1)],children:["delete"===this.state.dialogType&&Object(Qe.jsx)("p",{className:"margin-b-l",children:"Are you sure you want to delete the event \n                                    ".concat(this.state.deleteId?this.state.events[this.state.deleteId].name:"","?")}),"details"===this.state.dialogType&&this.state.dialogDetailsEvent&&Object(Qe.jsxs)("div",{className:"row wrap",children:[Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Milestone index"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===(t=this.state.dialogDetailsEvent.status)||void 0===t?void 0:t.milestoneIndex})]}),Object(Qe.jsxs)("div",{className:"event-item",children:[Object(Qe.jsx)("h4",{children:"Status"}),Object(Qe.jsxs)("div",{className:"event-value word-break-all",children:[null===(s=this.state.dialogDetailsEvent.status)||void 0===s?void 0:s.status.slice(0,1).toUpperCase(),null===(a=this.state.dialogDetailsEvent.status)||void 0===a?void 0:a.status.slice(1)]})]}),0===this.state.dialogDetailsEvent.payload.type&&Object(Qe.jsx)("div",{children:null===(n=this.state.dialogDetailsEvent.payload.questions)||void 0===n?void 0:n.map(((e,t)=>Object(Qe.jsxs)("div",{className:"event-item--highlight margin-b-s",children:[Object(Qe.jsxs)("div",{className:"event-item event-item--stretch",children:[Object(Qe.jsx)("h4",{children:"Question"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:e.text})]}),e.answers.map(((e,s)=>{var a,i,r,n;return Object(Qe.jsxs)("div",{className:"row wrap",children:[Object(Qe.jsxs)("div",{className:"event-item event-item--small",children:[Object(Qe.jsx)("h4",{children:"Answer"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:e.text})]}),Object(Qe.jsxs)("div",{className:"event-item event-item--small",children:[Object(Qe.jsx)("h4",{children:"current"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:(null===(a=this.state.dialogDetailsEvent)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.questions)?this.state.dialogDetailsEvent.status.questions[t].answers[s].current:""})]}),Object(Qe.jsxs)("div",{className:"event-item event-item--small",children:[Object(Qe.jsx)("h4",{children:"accumulated"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:(null===(r=this.state.dialogDetailsEvent)||void 0===r||null===(n=r.status)||void 0===n?void 0:n.questions)?this.state.dialogDetailsEvent.status.questions[t].answers[s].accumulated:""})]})]},s)}))]},t)))}),1===this.state.dialogDetailsEvent.payload.type&&Object(Qe.jsxs)("div",{className:"row event-item--highlight margin-b-s",children:[Object(Qe.jsxs)("div",{className:"event-item event-item--small",children:[Object(Qe.jsx)("h4",{children:"Symbol"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===(l=this.state.dialogDetailsEvent.status)||void 0===l||null===(o=l.staking)||void 0===o?void 0:o.symbol})]}),Object(Qe.jsxs)("div",{className:"event-item event-item--small",children:[Object(Qe.jsx)("h4",{children:"Staked"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===(d=this.state.dialogDetailsEvent.status)||void 0===d||null===(h=d.staking)||void 0===h?void 0:h.staked})]}),Object(Qe.jsxs)("div",{className:"event-item event-item--small",children:[Object(Qe.jsx)("h4",{children:"Rewarded"}),Object(Qe.jsx)("div",{className:"event-value word-break-all",children:null===(u=this.state.dialogDetailsEvent.status)||void 0===u||null===(p=u.staking)||void 0===p?void 0:p.rewarded})]})]})]}),"add"===this.state.dialogType&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsxs)("p",{children:["Please enter the details of the event to ",this.state.dialogType,"."]}),Object(Qe.jsx)("div",{className:"dialog--label",children:"JSON Configuration or URL"}),Object(Qe.jsxs)("div",{className:"dialog--value",children:[Object(Qe.jsx)("textarea",{className:"textarea--stretch dialog--value-textarea dialog--value-textarea__json",placeholder:'e.g. { "name":"Example event title"... } or http://example.com',value:this.state.eventInfo,disabled:this.state.dialogBusy,onChange:e=>this.setState({eventInfo:e.target.value})}),this.state.eventInfo&&!this.validateJsonOrUrl(this.state.eventInfo)&&Object(Qe.jsx)("span",{className:"validation--error",children:"Not a valid JSON or URL"})]})]}),this.state.dialogBusy&&Object(Qe.jsx)(as,{}),Object(Qe.jsx)("p",{className:Ae()("margin-t-l",{danger:!this.state.dialogBusy}),children:this.state.dialogStatus})]})]})})}fetchEvents(){var e=this;return Object(r.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/events","get",void 0,Ua.buildAuthHeaders());case 3:(s=t.sent).data?e.setState({eventIds:s.data.eventIds}):console.log(s.error),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}fetchEventInfo(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/events/".concat(e),"get",void 0,Ua.buildAuthHeaders());case 3:(a=s.sent).data?t.setState((t=>({events:Object(h.a)(Object(h.a)({},t.events),{},{[e]:a.data})}))):console.log(a.error),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}fetchEventStatus(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/events/".concat(e,"/status"),"get",void 0,Ua.buildAuthHeaders());case 3:(a=s.sent).data?t.state.events[e]&&t.setState((t=>Object(h.a)(Object(h.a)({},t),{},{events:Object(h.a)(Object(h.a)({},t.events),{},{[e]:Object(h.a)(Object(h.a)({},t.events[e]),{},{status:a.data})})}))):console.log(a.error),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}submitEvent(){var e=this;return Object(r.a)(i.a.mark((function t(){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.eventInfo){t.next=21;break}return t.prev=1,t.next=4,e.eventAdd(JSON.parse(e.state.eventInfo));case 4:t.next=21;break;case 6:return t.prev=6,t.t0=t.catch(1),t.prev=8,s=new URL(e.state.eventInfo),t.next=12,e.fetchEventJsonConfig(s);case 12:if(!(a=t.sent)){t.next=16;break}return t.next=16,e.eventAdd(a);case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(8),e.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(t.t1.message)});case 21:case"end":return t.stop()}}),t,null,[[1,6],[8,18]])})))()}eventAdd(e){var t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.setState({dialogBusy:!0,dialogStatus:"Adding event, please wait..."},Object(r.a)(i.a.mark((function s(){var a,r,n;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/admin/events","post",e,Ua.buildAuthHeaders());case 3:(a=s.sent).data?(r=a.data.eventId,t.setState((e=>({eventIds:[r,...e.eventIds],dialogBusy:!1,dialogStatus:"",dialogType:void 0,eventInfo:void 0})))):t.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(null===(n=a.error)||void 0===n?void 0:n.message)}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),t.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(s.t0.message)});case 10:case"end":return s.stop()}}),s,null,[[0,7]])}))));case 1:case"end":return s.stop()}}),s)})))()}eventDelete(e){var t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.setState({dialogBusy:!0,dialogStatus:"Deleting event, please wait..."},Object(r.a)(i.a.mark((function s(){var a,r;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/admin/events/".concat(e),"delete",void 0,Ua.buildAuthHeaders());case 3:a=s.sent,0===Object.keys(a).length?t.setState({eventIds:t.state.eventIds.filter((t=>t!==e)),dialogBusy:!1,dialogStatus:"",dialogType:void 0}):(t.setState({dialogBusy:!1,dialogStatus:"Failed to delete event: ".concat(null===(r=a.error)||void 0===r?void 0:r.message)}),console.log(a.error)),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),t.setState({dialogBusy:!1,dialogStatus:"Failed to delete event: ".concat(s.t0.message)});case 10:case"end":return s.stop()}}),s,null,[[0,7]])}))));case 1:case"end":return s.stop()}}),s)})))()}fetchEventJsonConfig(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,gt.json(e.origin,e.pathname,"get");case 3:return a=s.sent,s.abrupt("return",a.data?a.data:a);case 7:return s.prev=7,s.t0=s.catch(0),s.prev=9,s.next=12,gt.text(e.origin,e.pathname,"get");case 12:return a=s.sent,s.abrupt("return",a.data?a.data:a);case 16:s.prev=16,s.t1=s.catch(9),t.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(s.t1.message)});case 19:case"end":return s.stop()}}),s,null,[[0,7],[9,16]])})))()}validateJsonOrUrl(e){try{return JSON.parse(e),!0}catch(t){try{const t=new URL(e);return Boolean(t)}catch(s){return!1}}}}Ua.PLUGIN_TITLE="Participation",Ua.PLUGIN_DESCRIPTION="Manage on-tangle ballots and staking events tracked by the node.",Ua._isAvailable=!1;var Ha=Ua;s(188);var za=class extends Ie{constructor(e){super(e),this._authService=void 0,this._authService=ye.a.get("auth"),this.state={plugins:[]}}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){var a,r,n;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e().call(t),a=[],t._authService.isLoggedIn()&&((r=It.pluginDetails())&&a.push(r),(n=Ha.pluginDetails())&&a.push(n)),a.length>0&&t.setState({activeTab:a[0].title}),t.setState({plugins:a});case 5:case"end":return s.stop()}}),s)})))()}render(){return Object(Qe.jsx)("div",{className:"plugins",children:Object(Qe.jsxs)("div",{className:"content",children:[0===this.state.plugins.length&&Object(Qe.jsxs)("p",{className:"margin-t-s",children:["No plugins enabled which are supported by the dashboard.",Object(Qe.jsx)("br",{}),"More information about managing plugins can be found on the"," ",Object(Qe.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://wiki.iota.org/hornet/post_installation/managing_a_node#plugins",children:"Hornet Developer Documentation."})]}),Object(Qe.jsx)(jt,{tabs:this.state.plugins.map((e=>e.title)),activeTab:this.state.activeTab?this.state.activeTab:"",onTabChanged:e=>{this.setState({activeTab:e})},children:this.state.plugins.map(((e,t)=>Object(Qe.jsx)("div",{"data-label":e.title,children:e.settings},t)))})]})})}};s(189);var Fa=class extends Ie{constructor(e){super(e),this.state={statusBusy:!0,redirect:"",error:""}}componentDidMount(){super.componentDidMount(),this.trySearch()}componentDidUpdate(e){this.props.location.pathname!==e.location.pathname&&this.trySearch()}render(){return this.state.redirect.length>0?Object(Qe.jsx)(u.a,{to:this.state.redirect}):Object(Qe.jsx)("div",{className:"search",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{className:"margin-b-m",children:"Search"}),this.state.statusBusy&&Object(Qe.jsx)(as,{}),!this.state.statusBusy&&Object(Qe.jsxs)(c.a.Fragment,{children:[this.state.error&&Object(Qe.jsx)("p",{className:"danger",children:this.state.error}),Object(Qe.jsx)("br",{}),Object(Qe.jsx)("p",{children:"Please try again with your query in one of the following formats:"}),Object(Qe.jsx)("br",{}),Object(Qe.jsxs)("ul",{children:[Object(Qe.jsxs)("li",{children:[Object(Qe.jsx)("span",{children:"Messages"}),Object(Qe.jsx)("span",{children:"64 Hex characters"})]}),Object(Qe.jsxs)("li",{children:[Object(Qe.jsx)("span",{children:"Message using Transaction Id"}),Object(Qe.jsx)("span",{children:"64 Hex characters"})]}),Object(Qe.jsxs)("li",{children:[Object(Qe.jsx)("span",{children:"Addresses"}),Object(Qe.jsx)("span",{children:"64 Hex characters or Bech32 Format"})]}),Object(Qe.jsxs)("li",{children:[Object(Qe.jsx)("span",{children:"Outputs"}),Object(Qe.jsx)("span",{children:"68 Hex characters"})]}),Object(Qe.jsxs)("li",{children:[Object(Qe.jsx)("span",{children:"Milestone Index"}),Object(Qe.jsx)("span",{children:"Numeric"})]}),Object(Qe.jsxs)("li",{children:[Object(Qe.jsx)("span",{children:"Indexes"}),Object(Qe.jsx)("span",{children:"Maximum 64 UTF-8 chars or maximum 128 hex chars"})]})]})]})]})]})})}trySearch(){var e,t=this;const s=(null!==(e=this.props.match.params.query)&&void 0!==e?e:"").trim();s.length>0?this.setState({statusBusy:!0},Object(r.a)(i.a.mark((function e(){var a,r,n,c,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ye.a.get("tangle"),e.next=3,a.search(s);case 3:r=e.sent,n="",r&&(r.unavailable?n="/explorer/unavailable":(l=s,r.message?(c="message",o=new bt.WriteStream,Object(bt.serializeMessage)(o,r.message),l=bt.Converter.bytesToHex(bt.Blake2b.sum256(o.finalBytes()))):r.address?c="address":r.indexMessageIds?c="indexed":r.output?(c="message",l=r.output.messageId):r.milestone&&(c="milestone"),c&&(n="/explorer/".concat(c,"/").concat(l)))),t.setState({error:n.length>0?"":"Nothing could be found for the search.",statusBusy:!1,redirect:n});case 7:case"end":return e.stop()}}),e)})))):this.setState({statusBusy:!1,error:"The search is empty."})}};s(190);var Va=class extends Ie{constructor(e){super(e),this.state={}}render(){return Object(Qe.jsx)("div",{className:"unavailable",children:Object(Qe.jsxs)("div",{className:"content",children:[Object(Qe.jsxs)(d.b,{to:"/explorer",className:"row middle inline",children:[Object(Qe.jsx)(es,{className:"secondary"}),Object(Qe.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(Qe.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(Qe.jsx)("h2",{className:"margin-b-m",children:"Service Unavailable"}),Object(Qe.jsx)("p",{children:"The node is currently unavailable or is not synced, please try again later."})]})]})})}},Wa=s(19),qa=s.n(Wa);function Ya(){return(Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Ga(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var Za=n.createElement("path",{d:"M7.6151 6.00057L11.6514 1.96311C11.7605 1.85778 11.8475 1.73179 11.9073 1.59248C11.9671 1.45318 11.9986 1.30335 12 1.15174C12.0013 1.00013 11.9724 0.849774 11.915 0.709449C11.8576 0.569124 11.7728 0.441638 11.6656 0.33443C11.5584 0.227222 11.4309 0.142439 11.2906 0.0850271C11.1502 0.0276156 10.9999 -0.00127433 10.8483 4.31112e-05C10.6967 0.00136056 10.5468 0.032859 10.4075 0.0927004C10.2682 0.152542 10.1422 0.239528 10.0369 0.348583L5.99943 4.3849L1.96311 0.348583C1.85778 0.239528 1.73179 0.152542 1.59248 0.0927004C1.45318 0.032859 1.30335 0.00136056 1.15174 4.31112e-05C1.00013 -0.00127433 0.849774 0.0276156 0.709449 0.0850271C0.569124 0.142439 0.441638 0.227222 0.33443 0.33443C0.227222 0.441638 0.142439 0.569124 0.0850271 0.709449C0.0276156 0.849774 -0.00127433 1.00013 4.31112e-05 1.15174C0.00136056 1.30335 0.032859 1.45318 0.0927004 1.59248C0.152542 1.73179 0.239528 1.85778 0.348583 1.96311L4.3849 5.99943L0.348583 10.0369C0.239528 10.1422 0.152542 10.2682 0.0927004 10.4075C0.032859 10.5468 0.00136056 10.6967 4.31112e-05 10.8483C-0.00127433 10.9999 0.0276156 11.1502 0.0850271 11.2906C0.142439 11.4309 0.227222 11.5584 0.33443 11.6656C0.441638 11.7728 0.569124 11.8576 0.709449 11.915C0.849774 11.9724 1.00013 12.0013 1.15174 12C1.30335 11.9986 1.45318 11.9671 1.59248 11.9073C1.73179 11.8475 1.85778 11.7605 1.96311 11.6514L5.99943 7.6151L10.0369 11.6514C10.1422 11.7605 10.2682 11.8475 10.4075 11.9073C10.5468 11.9671 10.6967 11.9986 10.8483 12C10.9999 12.0013 11.1502 11.9724 11.2906 11.915C11.4309 11.8576 11.5584 11.7728 11.6656 11.6656C11.7728 11.5584 11.8576 11.4309 11.915 11.2906C11.9724 11.1502 12.0013 10.9999 12 10.8483C11.9986 10.6967 11.9671 10.5468 11.9073 10.4075C11.8475 10.2682 11.7605 10.1422 11.6514 10.0369L7.6151 5.99943V6.00057Z",fill:"#9AADCE"});function Ka(e,t){var s=e.title,a=e.titleId,i=Ga(e,["title","titleId"]);return n.createElement("svg",Ya({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,Za)}var Ja=n.forwardRef(Ka);s.p;function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Xa(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var $a=n.createElement("path",{d:"M6 3H8C8.53043 3 9.03914 3.21071 9.41421 3.58579C9.78929 3.96086 10 4.46957 10 5V19C10 19.5304 9.78929 20.0391 9.41421 20.4142C9.03914 20.7893 8.53043 21 8 21H6C5.46957 21 4.96086 20.7893 4.58579 20.4142C4.21071 20.0391 4 19.5304 4 19V5C4 4.46957 4.21071 3.96086 4.58579 3.58579C4.96086 3.21071 5.46957 3 6 3V3ZM6 5V19H8V5H6ZM16 3H18C18.5304 3 19.0391 3.21071 19.4142 3.58579C19.7893 3.96086 20 4.46957 20 5V19C20 19.5304 19.7893 20.0391 19.4142 20.4142C19.0391 20.7893 18.5304 21 18 21H16C15.4696 21 14.9609 20.7893 14.5858 20.4142C14.2107 20.0391 14 19.5304 14 19V5C14 4.46957 14.2107 3.96086 14.5858 3.58579C14.9609 3.21071 15.4696 3 16 3V3ZM16 5V19H18V5H16Z",fill:"#9AADCE"});function ei(e,t){var s=e.title,a=e.titleId,i=Xa(e,["title","titleId"]);return n.createElement("svg",Qa({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,$a)}var ti=n.forwardRef(ei);s.p;function si(){return(si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ai(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var ii=n.createElement("path",{d:"M7.78205 4.3598L19.2432 11.5176L7.92341 18.8969L7.78205 4.3598Z",stroke:"#9AADCE",strokeWidth:2,strokeLinejoin:"round"});function ri(e,t){var s=e.title,a=e.titleId,i=ai(e,["title","titleId"]);return n.createElement("svg",si({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?n.createElement("title",{id:a},s):null,ii)}var ni=n.forwardRef(ri);s.p,s(227);class ci extends Ie{constructor(e){super(e),this._graphElement=void 0,this._graph=void 0,this._renderer=void 0,this._graphics=void 0,this._vizualizerService=void 0,this._metricsService=void 0,this._tangleService=void 0,this._themeService=void 0,this._mpsMetricsSubscription=void 0,this._resize=void 0,this._enteredVertexId=void 0,this._graphElement=null,this._resize=()=>this.resize(),this._vizualizerService=ye.a.get("visualizer"),this._metricsService=ye.a.get("metrics"),this._tangleService=ye.a.get("tangle"),this._themeService=ye.a.get("theme"),this.state={mps:"-",total:"-",tips:"-",referenced:"-",conflicting:"-",solid:"-",isActive:!0,theme:this._themeService.get()}}componentDidMount(){super.componentDidMount(),window.addEventListener("resize",this._resize),this._vizualizerService.subscribe(((e,t)=>{"add"===t||"update"===t?this.updateVertex(e):"delete"===t&&this.deleteVertex(e)}),(e=>{this.state.isActive&&this.setState({total:e.total.toString(),tips:e.tips.toString(),referenced:e.total>0?"".concat((e.referenced/e.total*100).toFixed(2),"%"):"-",conflicting:e.total>0?"".concat((e.conflicting/e.total*100).toFixed(2),"%"):"-",solid:e.total>0?"".concat((e.solid/e.total*100).toFixed(2),"%"):"-"})}),((e,t,s)=>this.referenceVertex(e,t,s))),this._mpsMetricsSubscription=this._metricsService.subscribe(_e.MPSMetrics,(e=>{e&&this.state.isActive&&this.setState({mps:e.new.toString()})})),we.subscribe("theme","visualizer",(e=>{this.setState({theme:e},(()=>this.styleAllLinks()))}))}componentWillUnmount(){super.componentWillUnmount(),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0),this._vizualizerService.unsubscribe(),we.unsubscribe("theme","visualizer"),this._graph=void 0,this._graphics=void 0,this._renderer=void 0,this._graphElement=null,window.removeEventListener("resize",this._resize)}render(){return Object(Qe.jsxs)("div",{className:"visualizer",children:[Object(Qe.jsx)("div",{className:"canvas",ref:e=>this.setupGraph(e)}),Object(Qe.jsx)("div",{className:"action-panel-container",children:Object(Qe.jsx)("div",{className:"card padding-0",children:Object(Qe.jsx)("button",{className:"icon-button",type:"button",onClick:()=>this.toggleActivity(),children:this.state.isActive?Object(Qe.jsx)(ti,{}):Object(Qe.jsx)(ni,{})})})}),Object(Qe.jsx)("div",{className:"stats-panel-container",children:Object(Qe.jsxs)("div",{className:"card stats-panel",children:[Object(Qe.jsx)("div",{className:"card--label",children:"Messages"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.total}),Object(Qe.jsx)("div",{className:"card--label",children:"MPS"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.mps}),Object(Qe.jsx)("div",{className:"card--label",children:"Tips"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.tips}),Object(Qe.jsx)("div",{className:"card--label",children:"Referenced"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.referenced}),Object(Qe.jsx)("div",{className:"card--label",children:"Conflicting"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.conflicting}),Object(Qe.jsx)("div",{className:"card--label",children:"Solid"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.solid})]})}),Object(Qe.jsx)("div",{className:"key-panel-container",children:Object(Qe.jsxs)("div",{className:"card key-panel",children:[Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--solid"}),Object(Qe.jsx)("div",{className:"key-label",children:"Solid"})]}),Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--unsolid"}),Object(Qe.jsx)("div",{className:"key-label",children:"Unsolid"})]}),Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--referenced"}),Object(Qe.jsx)("div",{className:"key-label",children:"Referenced"})]}),Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--conflicting"}),Object(Qe.jsx)("div",{className:"key-label",children:"Conflicting"})]}),Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--milestone"}),Object(Qe.jsx)("div",{className:"key-label",children:"Milestone"})]}),Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--unknown"}),Object(Qe.jsx)("div",{className:"key-label",children:"Unknown"})]}),Object(Qe.jsxs)("div",{className:"key-panel-item",children:[Object(Qe.jsx)("div",{className:"key-marker vertex-state--tip"}),Object(Qe.jsx)("div",{className:"key-label",children:"Tip"})]})]})}),this.state.selected&&this._graphElement&&Object(Qe.jsx)("div",{className:"info-panel-container",children:Object(Qe.jsxs)("div",{className:"card fill padding-m",children:[Object(Qe.jsxs)("div",{className:"row middle spread",children:[Object(Qe.jsxs)("div",{className:"row middle",children:[Object(Qe.jsx)("div",{className:Ae()("info-panel--key","vertex-state--".concat(this.state.selected.state.toLowerCase()))}),Object(Qe.jsxs)("h3",{children:[this.state.selected.state,this.state.selected.title]})]}),Object(Qe.jsx)("button",{type:"button",className:"icon-button",onClick:()=>this.selectNode(),children:Object(Qe.jsx)(Ja,{})})]}),Object(Qe.jsxs)("div",{className:"col",children:[this.state.selected.vertex.fullId&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Message Id"}),Object(Qe.jsx)("div",{className:"card--value",children:Object(Qe.jsx)("a",{href:this.calculateMessageLink(this.state.selected.vertex),target:"_blank",rel:"noopener noreferrer",children:this.state.selected.vertex.fullId})})]}),this.state.selected.payload&&this.state.selected.payload.type===bt.TRANSACTION_PAYLOAD_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Total"}),Object(Qe.jsx)("div",{className:"card--value",children:bt.UnitsHelper.formatBest(this.calculateTotal())})]}),this.state.selected.payload&&this.state.selected.payload.type===bt.MILESTONE_PAYLOAD_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Index"}),Object(Qe.jsx)("div",{className:"card--value",children:this.state.selected.payload.index}),Object(Qe.jsx)("div",{className:"card--label",children:"Date"}),Object(Qe.jsx)("div",{className:"card--value",children:Be.date(this.state.selected.payload.timestamp,!1)})]}),this.state.selected.payload&&this.state.selected.payload.type===bt.INDEXATION_PAYLOAD_TYPE&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)("div",{className:"card--label",children:"Index UTF8"}),Object(Qe.jsx)("div",{className:"card--value",children:Object(Qe.jsx)("a",{href:this.calculateIndexedLink(this.state.selected.payload.index),target:"_blank",rel:"noopener noreferrer",children:bt.Converter.hexToUtf8(this.state.selected.payload.index)})}),Object(Qe.jsx)("div",{className:"card--label",children:"Index Hex"}),Object(Qe.jsx)("div",{className:"card--value",children:Object(Qe.jsx)("a",{href:this.calculateIndexedLink(this.state.selected.payload.index),target:"_blank",rel:"noopener noreferrer",children:this.state.selected.payload.index})})]})]})]})})]})}setupGraph(e){if(this._graphElement=e,e&&!this._graph){this._graph=qa.a.Graph.graph(),this._graphics=qa.a.Graph.View.webglGraphics();const t=qa.a.Graph.Layout.forceDirected(this._graph,{springLength:10,springCoeff:1e-4,stableThreshold:.15,gravity:-2,dragCoeff:.02,timeStep:20,theta:.8});this._graphics.node((e=>qa.a.Graph.View.webglSquare(this.calculateSize(e.data),"#".concat(ci.STATE_COLOR_MAP[this.calculateState(e.data)].toString(16))))),this._graphics.link((()=>qa.a.Graph.View.webglLine("#".concat(ci.THEME_COLOR_LINKS[this.state.theme].toString(16))))),this._renderer=qa.a.Graph.View.renderer(this._graph,{container:e,graphics:this._graphics,layout:t,renderLinks:!0});const s=qa.a.Graph.webglInputEvents(this._graphics,this._graph);s.click((e=>this.selectNode(e))),s.dblClick((e=>{this.selectNode(),window.open(this.calculateMessageLink(e.data),"_blank")})),s.mouseEnter((e=>{var t,s;this.state.selected||(this._enteredVertexId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0),e&&(this._enteredVertexId=null!==(t=null===(s=e.data)||void 0===s?void 0:s.shortId)&&void 0!==t?t:e.id.slice(0,7),this.connectedLinkStyle(this._enteredVertexId,!0)))})),s.mouseLeave((e=>{this._enteredVertexId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0)})),this._renderer.run(),this._graphics.scale(1,{x:e.clientWidth/2,y:e.clientHeight/2});for(let e=0;e<12;e++)this._renderer.zoomOut()}}updateVertex(e){if(this._graph){let t=this.updateNodeUI(e.shortId);if(t||(t=this._graph.addNode(e.shortId,e)),e.parents){const s=[];for(let a=0;a<e.parents.length;a++){const i=e.parents[a];s.includes(i)||t.links&&t.links.some((e=>e.toId===i))||(s.push(i),this._graph.addLink(e.shortId,i))}}}}updateNodeUI(e){if(this._graphics&&this._graph){var t;const s=null===(t=this._graph)||void 0===t?void 0:t.getNode(e);if(s){const t=this._graphics.getNodeUI(e);t&&(t.color=ci.STATE_COLOR_MAP[this.calculateState(s.data)],t.size=this.calculateSize(s.data))}return s}}calculateState(e){return e&&e.parents?e.isMilestone?"Milestone":e.isTip?"Tip":e.isConflicting?"Conflicting":e.isReferenced?"Referenced":e.isSolid?"Solid":"Unsolid":"Unknown"}calculateSize(e){return e&&e.parents?e.isSelected||e.isMilestone?30:20:10}deleteVertex(e){this._graph&&(this._graph.removeNode(e.shortId),this.state.selected&&this.state.selected.vertex.shortId===e.shortId&&(this.setState({selected:void 0}),this.connectedLinkStyle(this.state.selected.vertex.shortId,!1)),this._enteredVertexId&&this._enteredVertexId===e.shortId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0))}referenceVertex(e,t,s){if(this._graph){const a=this._graph.getNode(e);if(a){const e=[];this.dfsIterator(a,(e=>{if(this._graph){const a=this._graph.getNode(e);if(!a||!a.data)return!0;if(!a.data.isReferenced&&!a.data.isConflicting)return t.includes(a.data.shortId)?(s.conflicting++,a.data.isConflicting=!0,this.updateVertex(a.data),!1):(s.referenced++,a.data.isReferenced=!0,this.updateVertex(a.data),!1)}return!0}),void 0,!1,e)}}}dfsIterator(e,t,s,a,i){if(this._graph){i.push(e);let d=0;for(;i.length>d;){var r,n;const e=i[d++],h=null!==(r=null===(n=e.data)||void 0===n?void 0:n.shortId)&&void 0!==r?r:e.id.slice(0,7);if(!(null===t||void 0===t?void 0:t(h))){var c,l=Object(Kt.a)(e.links);try{for(l.s();!(c=l.n()).done;){const e=c.value;if(!a&&e.fromId===h){s&&s(e.id);const t=this._graph.getNode(e.toId);t&&!i.includes(t)&&i.push(t)}if(a&&e.toId===h){s&&s(e.id);const t=this._graph.getNode(e.fromId);t&&!i.includes(t)&&i.push(t)}}}catch(o){l.e(o)}finally{l.f()}}}}}resize(){this._graphics&&this._graphElement&&(this._graphics.updateSize(),this._graphics.scale(1,{x:this._graphElement.clientWidth/2,y:this._graphElement.clientHeight/2}))}toggleActivity(){this._renderer&&(this.state.isActive?this._renderer.pause():this._renderer.resume()),this.setState({isActive:!this.state.isActive})}selectNode(e){var t=this;this.state.selected&&(this.state.selected.vertex.isSelected=!1,this.updateNodeUI(this.state.selected.vertex.shortId),this.connectedLinkStyle(this.state.selected.vertex.shortId,!1)),e?(e.data||(e.data={shortId:e.id}),e.data.isSelected=!0,this.updateNodeUI(e.id),this._enteredVertexId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0),this.connectedLinkStyle(e.data.shortId,!0),this.setState({selected:{vertex:null===e||void 0===e?void 0:e.data,state:this.calculateState(e.data)}},Object(r.a)(i.a.mark((function s(){var a,r,n;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(null===(a=e.data)||void 0===a?void 0:a.fullId)){s.next=7;break}return s.next=3,t._tangleService.payload(e.data.fullId);case 3:r=s.sent,n="",r?r.type===bt.TRANSACTION_PAYLOAD_TYPE?n=" - Transaction":r.type===bt.MILESTONE_PAYLOAD_TYPE?n="":r.type===bt.INDEXATION_PAYLOAD_TYPE&&(n=" - Indexation"):e.data.isMilestone&&(n=" - Checkpoint"),t.setState({selected:{vertex:null===e||void 0===e?void 0:e.data,state:t.calculateState(e.data),payload:r,title:n}});case 7:case"end":return s.stop()}}),s)}))))):this.setState({selected:void 0})}calculateMessageLink(e){return(null===e||void 0===e?void 0:e.fullId)?"".concat(window.location.protocol,"//").concat(window.location.host,"/explorer/message/").concat(e.fullId):""}calculateIndexedLink(e){return"".concat(window.location.protocol,"//").concat(window.location.host,"/explorer/indexed/").concat(e)}connectedLinkStyle(e,t){if(this._graph){const s=this._graph.getNode(e);if(s){const e=[],a=[];this.dfsIterator(s,void 0,(e=>{if(this._graphics){const s=this._graphics.getLinkUI(e);s&&(s.color=t?ci.COLOR_LINK_CHILDREN:ci.THEME_COLOR_LINKS[this.state.theme])}}),!0,a),this.dfsIterator(s,void 0,(e=>{if(this._graphics){const s=this._graphics.getLinkUI(e);s&&(s.color=t?ci.COLOR_LINK_PARENTS:ci.THEME_COLOR_LINKS[this.state.theme])}}),!1,e)}}}styleAllLinks(){this._graph&&this._graphics&&this._graph.forEachLink((e=>{if(this._graphics){const t=this._graphics.getLinkUI(e.id);t&&(t.color=ci.THEME_COLOR_LINKS[this.state.theme])}}))}calculateTotal(){var e,t;let s=0;if((null===(e=this.state.selected)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.type)===bt.TRANSACTION_PAYLOAD_TYPE){var a,i=Object(Kt.a)(this.state.selected.payload.essence.outputs);try{for(i.s();!(a=i.n()).done;){const e=a.value;e.type===bt.SIG_LOCKED_SINGLE_OUTPUT_TYPE&&(s+=e.amount)}}catch(r){i.e(r)}finally{i.f()}}return s}}ci.STATE_COLOR_MAP={Solid:1286275071,Unsolid:2414279423,Referenced:1642628351,Conflicting:4287323391,Milestone:1718286079,Tip:4291453695,Unknown:2595081983},ci.THEME_COLOR_LINKS={dark:4294967074,light:3722305023},ci.COLOR_LINK_CHILDREN=4284132095,ci.COLOR_LINK_PARENTS=65535;var li=ci;var oi=Object(u.g)(class extends Ie{constructor(e){super(e),this._themeService=void 0,this._authService=void 0,this._metricsService=void 0,this._publicNodeStatusSubscription=void 0,this._statusSubscription=void 0,this._syncStatusSubscription=void 0,this._alias=void 0,this._lmi=void 0,this._cmi=void 0,this._lastStatus=void 0,this._statusTimer=void 0,this._themeService=ye.a.get("theme"),this._authService=ye.a.get("auth"),this._metricsService=ye.a.get("metrics"),this._lastStatus=0,this.state={isLoggedIn:Boolean(this._authService.isLoggedIn()),theme:this._themeService.get(),online:!1,syncHealth:!1,nodeHealth:!1},this.updateTitle()}componentDidMount(){var e=()=>super.componentDidMount,t=this;return Object(r.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e().call(t),we.subscribe("auth-state","app",(e=>{t.setState({isLoggedIn:e})})),we.subscribe("theme","app",(e=>{t.setState({theme:e})})),t._statusSubscription=t._metricsService.subscribe(_e.NodeStatus,(e=>{e&&e.node_alias!==t._alias&&(t._alias=e.node_alias,t.updateTitle())})),t._syncStatusSubscription=t._metricsService.subscribe(_e.SyncStatus,(e=>{if(e){const s=e.lmi?e.lmi.toString():"",a=e.cmi?e.cmi.toString():"";s===t._lmi&&a===t._cmi||(t._cmi=a,t._lmi=s,t.updateTitle())}})),t._publicNodeStatusSubscription=t._metricsService.subscribe(_e.PublicNodeStatus,(e=>{e&&(t._lastStatus=Date.now(),t.state.online||(we.publish("online",!0),t.setState({online:!0})),e.is_healthy!==t.state.nodeHealth&&t.setState({nodeHealth:e.is_healthy}),e.is_synced!==t.state.syncHealth&&t.setState({syncHealth:e.is_synced}))})),t._statusTimer=setInterval((()=>{Date.now()-t._lastStatus>1e4&&t.state.online&&(t.setState({online:!1}),we.publish("online",!1))}),1e3);case 7:case"end":return s.stop()}}),s)})))()}componentWillUnmount(){super.componentWillUnmount(),we.unsubscribe("auth-state","app"),we.unsubscribe("theme","app"),this._statusSubscription&&(this._metricsService.unsubscribe(this._statusSubscription),this._statusSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),void 0!==this._statusTimer&&(clearInterval(this._statusTimer),this._statusTimer=void 0)}render(){const e=[{label:"Home",icon:Object(Qe.jsx)(C,{}),route:"/",hidden:!this.state.isLoggedIn},{label:"Analytics",icon:Object(Qe.jsx)(j,{}),route:"/analytics",hidden:!this.state.isLoggedIn},{label:"Peers",icon:Object(Qe.jsx)($,{}),route:"/peers",hidden:!this.state.isLoggedIn},{label:"Explorer",icon:Object(Qe.jsx)(S,{}),route:"/explorer"},{label:"Visualizer",icon:Object(Qe.jsx)(Se,{}),route:"/visualizer"},{label:"Plugins",icon:Object(Qe.jsx)(ie,{}),route:"/plugins",hidden:!this.state.isLoggedIn},{label:"Login",icon:Object(Qe.jsx)(Z,{}),route:"/login",hidden:this.state.isLoggedIn},{label:"Logout",icon:Object(Qe.jsx)(H,{}),function:()=>this._authService.logout(),hidden:!this.state.isLoggedIn}],t=[{label:"Light",icon:Object(Qe.jsx)(je,{}),function:()=>this._themeService.apply("light",!0),hidden:"light"===this.state.theme},{label:"Dark",icon:Object(Qe.jsx)(E,{}),function:()=>this._themeService.apply("dark",!0),hidden:"dark"===this.state.theme}];return Object(Qe.jsxs)("div",{className:"app",children:[Object(Qe.jsx)(Me,{size:"phone",aboveBelow:"above",children:Object(Qe.jsx)(pt,{fullWidth:!1,middle:this.state.online?e:[],end:this.state.online?t:[]})}),Object(Qe.jsxs)("div",{className:"col fill",children:[Object(Qe.jsx)(ot,{children:Object(Qe.jsx)(Me,{size:"phone",aboveBelow:"below",children:Object(Qe.jsx)(ht,{children:Object(Qe.jsx)(pt,{fullWidth:!0,middle:this.state.online?e:[],end:this.state.online?t:[]})})})}),Object(Qe.jsxs)("div",{className:"fill scroll-content",children:[!this.state.online&&Object(Qe.jsx)("p",{className:"padding-l",children:"The node is offline or loading."}),this.state.online&&Object(Qe.jsxs)(c.a.Fragment,{children:[Object(Qe.jsx)(Me,{size:"tablet",aboveBelow:"below",children:Object(Qe.jsxs)("div",{className:"card card__flat row middle health-indicators",children:[Object(Qe.jsx)($e,{label:"Health",healthy:this.state.nodeHealth,className:"child margin-r-l"}),Object(Qe.jsx)($e,{label:"Sync",healthy:this.state.syncHealth,className:"child"})]})}),Object(Qe.jsxs)(u.d,{children:[this.state.isLoggedIn&&[Object(Qe.jsx)(u.b,{exact:!0,path:"/",component:()=>Object(Qe.jsx)(Pa,{})},"home"),Object(Qe.jsx)(u.b,{path:"/analytics/:section?",component:e=>Object(Qe.jsx)(Mt,Object(h.a)({},e))},"analytics"),Object(Qe.jsx)(u.b,{exact:!0,path:"/peers",component:()=>Object(Qe.jsx)(Aa,{})},"peers"),Object(Qe.jsx)(u.b,{path:"/peers/:id",component:e=>Object(Qe.jsx)(Da,Object(h.a)({},e))},"peer")],!this.state.isLoggedIn&&Object(Qe.jsx)(u.b,{path:"/",exact:!0,component:()=>Object(Qe.jsx)(Zt,{})}),Object(Qe.jsx)(u.b,{path:"/explorer",exact:!0,component:()=>Object(Qe.jsx)(Zt,{})}),Object(Qe.jsx)(u.b,{path:"/explorer/search/:query?",component:e=>Object(Qe.jsx)(Fa,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/explorer/unavailable",component:e=>Object(Qe.jsx)(Va,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/explorer/message/:messageId",component:e=>Object(Qe.jsx)(Ys,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/explorer/milestone/:milestoneIndex",component:e=>Object(Qe.jsx)(Xs,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/explorer/indexed/:index",component:e=>Object(Qe.jsx)(xs,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/explorer/address/:address",component:e=>Object(Qe.jsx)(gs,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/visualizer",component:e=>Object(Qe.jsx)(li,Object(h.a)({},e))}),Object(Qe.jsx)(u.b,{path:"/plugins",component:()=>Object(Qe.jsx)(za,{})}),Object(Qe.jsx)(u.b,{path:"/login",component:()=>Object(Qe.jsx)(La,{})}),Object(Qe.jsx)(u.b,{exact:!0,path:"*",component:()=>Object(Qe.jsx)(u.a,{to:"/"})})]})]})]})]})]})}updateTitle(){let e=Ne.getConfiguration().name;this._alias&&(e+=" (".concat(this._alias,")")),this._lmi&&this._cmi&&(e+=" ".concat(this._cmi," / ").concat(this._lmi)),document.title=e}});s(228);class di{constructor(){if(this._jwt=void 0,this._csrf=void 0,this._jwt=void 0,document.cookie){const e=document.cookie.split(";").find((e=>e.trim().startsWith("_csrf")));if(e){const t=e.split("=");2===t.length&&(this._csrf=t[1])}}}initialize(){var e=this;return Object(r.a)(i.a.mark((function t(){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=ye.a.get("storage"),!(a=s.load("dashboard-jwt"))){t.next=5;break}return t.next=5,e.login(void 0,void 0,a);case 5:case"end":return t.stop()}}),t)})))()}login(e,t,s){var a=this;return Object(r.a)(i.a.mark((function r(){var n,c,l;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a.logout(),i.prev=1,n={},a._csrf&&(n["X-CSRF-Token"]=a._csrf),i.next=6,gt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/auth","post",{user:e,password:t,jwt:s},n);case 6:(c=i.sent).jwt&&(l=ye.a.get("storage"),a._jwt=c.jwt,l.save("dashboard-jwt",a._jwt),we.publish("auth-state",!0)),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),console.error(i.t0);case 13:return i.abrupt("return",void 0!==a._jwt);case 14:case"end":return i.stop()}}),r,null,[[1,10]])})))()}logout(){if(this._jwt){ye.a.get("storage").remove("dashboard-jwt"),this._jwt=void 0,we.publish("auth-state",!1)}}isLoggedIn(){return this._jwt}csrf(){return this._csrf}}class hi{load(e){let t;if(window.localStorage)try{const s=window.localStorage.getItem(e);s&&(t=JSON.parse(s))}catch(s){}return t}save(e,t){if(window.localStorage)try{const s=JSON.stringify(t);window.localStorage.setItem(e,s)}catch(s){}}remove(e){if(window.localStorage)try{window.localStorage.removeItem(e)}catch(t){}}clear(e){if(window.localStorage)try{if(e){const a=[],i=window.localStorage.length;for(let t=0;t<i;t++){const s=window.localStorage.key(t);(null===s||void 0===s?void 0:s.startsWith(e))&&a.push(s)}for(var t=0,s=a;t<s.length;t++){const e=s[t];window.localStorage.removeItem(e)}}else window.localStorage.clear()}catch(a){}}}class ui{constructor(){this._webSocketService=void 0,this._webSocketSubscriptions=void 0,this._cached=void 0,this._subscriptions=void 0,this._webSocketService=ye.a.get("web-socket"),this._webSocketSubscriptions=[],this._subscriptions={},this._cached={}}initialize(){for(var e=0,t=[{topic:_e.SyncStatus,isPublic:!0},{topic:_e.NodeStatus,isPublic:!1},{topic:_e.PublicNodeStatus,isPublic:!0},{topic:_e.MPSMetrics,isPublic:!0},{topic:_e.DBSizeMetric,isPublic:!1},{topic:_e.PeerMetric,isPublic:!1},{topic:_e.Ms,isPublic:!0},{topic:_e.ConfirmedMsMetrics,isPublic:!0},{topic:_e.SpamMetrics,isPublic:!1},{topic:_e.AvgSpamMetrics,isPublic:!1}];e<t.length;e++){const s=t[e];this._webSocketSubscriptions.push(this._webSocketService.subscribe(s.topic,!s.isPublic,(e=>{this.triggerCallbacks(s.topic,e)})))}}closedown(){for(let e=0;e<this._webSocketSubscriptions.length;e++)this._webSocketService.unsubscribe(this._webSocketSubscriptions[e]);this._webSocketSubscriptions=[]}subscribe(e,t,s){this._subscriptions[e]||(this._subscriptions[e]=[]);const a=bt.Converter.bytesToHex(bt.RandomHelper.generate(32));return this._subscriptions[e].push({subscriptionId:a,singleCallback:t,multipleCallback:s}),this._cached[e]&&this._cached[e].length>0&&(s&&s(this._cached[e]),t&&t(this._cached[e][this._cached[e].length-1])),a}unsubscribe(e){var t,s=Object(Kt.a)(Object.keys(this._subscriptions).map((e=>Number(e))));try{for(s.s();!(t=s.n()).done;){const s=t.value,a=this._subscriptions[s].findIndex((t=>t.subscriptionId===e));if(a>=0&&(this._subscriptions[s].splice(a,1),0===this._subscriptions[s].length)){delete this._subscriptions[s];break}}}catch(a){s.e(a)}finally{s.f()}}triggerCallbacks(e,t){if(this._cached[e]||(this._cached[e]=[]),(e===_e.DBSizeMetric||e===_e.ConfirmedMsMetrics)&&Array.isArray(t)?this._cached[e].push(...t):this._cached[e].push(t),this._cached[e]=this._cached[e].slice(-60),this._subscriptions[e]){var s,a=Object(Kt.a)(this._subscriptions[e]);try{for(a.s();!(s=a.n()).done;){const t=s.value;t.singleCallback&&t.singleCallback(this._cached[e][this._cached[e].length-1]),t.multipleCallback&&t.multipleCallback(this._cached[e])}}catch(i){a.e(i)}finally{a.f()}}}}class pi{constructor(){this._networkId=void 0,this._bech32Hrp=void 0,this._networkId=void 0,this._bech32Hrp=void 0}initialize(){var e=this;return Object(r.a)(i.a.mark((function t(){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._bech32Hrp&&e._networkId){t.next=12;break}return s=ye.a.get("tangle"),t.prev=2,t.next=5,s.info();case 5:a=t.sent,e._bech32Hrp=a.bech32HRP,e._networkId=a.networkId,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})))()}getBech32Hrp(){var e;return null!==(e=this._bech32Hrp)&&void 0!==e?e:"iota"}getNetworkId(){var e;return null!==(e=this._networkId)&&void 0!==e?e:""}}class bi{constructor(){this._blindMode=void 0,this._storageService=void 0,this._storageService=ye.a.get("storage"),this._blindMode=!1}initialize(){var e;this._blindMode=null!==(e=this._storageService.load("blindMode"))&&void 0!==e&&e}getBlindMode(){return this._blindMode}setBlindMode(e){this._blindMode=e,this._storageService.save("blindMode",this._blindMode),we.publish("settings.blindMode",this._blindMode)}}class mi{constructor(){this._nodeInfo=void 0,this._authService=void 0,this._authService=ye.a.get("auth")}info(){var e=this;return Object(r.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.buildClient(),t.next=3,s.info();case 3:return e._nodeInfo=t.sent,t.abrupt("return",e._nodeInfo);case 5:case"end":return t.stop()}}),t)})))()}search(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a,r,n,c,l,o,d,h,u;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=e.toLowerCase(),r=t.buildClient(),s.prev=2,!/^\d+$/.test(e)){s.next=8;break}return s.next=6,r.milestone(Number.parseInt(e,10));case 6:return n=s.sent,s.abrupt("return",{milestone:n});case 8:s.next=14;break;case 10:if(s.prev=10,s.t0=s.catch(2),!t.checkForUnavailable(s.t0)){s.next=14;break}return s.abrupt("return",{unavailable:!0});case 14:if(s.prev=14,t._nodeInfo){s.next=18;break}return s.next=18,t.info();case 18:if(!t._nodeInfo||!bt.Bech32Helper.matches(a,t._nodeInfo.bech32HRP)){s.next=27;break}return s.next=21,r.address(a);case 21:if(!(c=s.sent)){s.next=27;break}return s.next=25,r.addressOutputs(a);case 25:return l=s.sent,s.abrupt("return",{address:c,addressOutputIds:l.outputIds});case 27:s.next=33;break;case 29:if(s.prev=29,s.t1=s.catch(14),!t.checkForUnavailable(s.t1)){s.next=33;break}return s.abrupt("return",{unavailable:!0});case 33:if(!bt.Converter.isHex(a)||64!==a.length){s.next=56;break}return s.prev=34,s.next=37,r.message(a);case 37:return o=s.sent,s.abrupt("return",{message:o});case 41:if(s.prev=41,s.t2=s.catch(34),!t.checkForUnavailable(s.t2)){s.next=45;break}return s.abrupt("return",{unavailable:!0});case 45:return s.prev=45,s.next=48,r.transactionIncludedMessage(a);case 48:return o=s.sent,s.abrupt("return",{message:o});case 52:if(s.prev=52,s.t3=s.catch(45),!t.checkForUnavailable(s.t3)){s.next=56;break}return s.abrupt("return",{unavailable:!0});case 56:if(s.prev=56,!bt.Converter.isHex(a)||68!==a.length){s.next=62;break}return s.next=60,r.output(a);case 60:return d=s.sent,s.abrupt("return",{output:d});case 62:s.next=68;break;case 64:if(s.prev=64,s.t4=s.catch(56),!t.checkForUnavailable(s.t4)){s.next=68;break}return s.abrupt("return",{unavailable:!0});case 68:if(s.prev=68,!bt.Converter.isHex(a)||64!==a.length){s.next=78;break}return s.next=72,r.addressEd25519(a);case 72:return c=s.sent,s.next=75,r.addressEd25519Outputs(a);case 75:if(!((l=s.sent).count>0)){s.next=78;break}return s.abrupt("return",{address:c,addressOutputIds:l.outputIds});case 78:s.next=84;break;case 80:if(s.prev=80,s.t5=s.catch(68),!t.checkForUnavailable(s.t5)){s.next=84;break}return s.abrupt("return",{unavailable:!0});case 84:if(s.prev=84,!(e.length>0)){s.next=98;break}if(!(e.length>=2&&e.length<=128&&bt.Converter.isHex(a))){s.next=91;break}return s.next=89,r.messagesFind(bt.Converter.hexToBytes(a));case 89:(h=s.sent).count>0&&(u="hex");case 91:if(u||!(e.length<=64)){s.next=96;break}return s.next=94,r.messagesFind(e);case 94:(h=s.sent).count>0&&(u="utf8");case 96:if(!(h&&h.count>0)){s.next=98;break}return s.abrupt("return",{indexMessageIds:h.messageIds,indexMessageType:u});case 98:s.next=104;break;case 100:if(s.prev=100,s.t6=s.catch(84),!t.checkForUnavailable(s.t6)){s.next=104;break}return s.abrupt("return",{unavailable:!0});case 104:return s.abrupt("return",{});case 105:case"end":return s.stop()}}),s,null,[[2,10],[14,29],[34,41],[45,52],[56,64],[68,80],[84,100]])})))()}payload(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a,r;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a=t.buildClient(),s.next=4,a.message(e);case 4:return r=s.sent,s.abrupt("return",null===r||void 0===r?void 0:r.payload);case 8:s.prev=8,s.t0=s.catch(0);case 10:case"end":return s.stop()}}),s,null,[[0,8]])})))()}outputDetails(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a=t.buildClient(),s.next=4,a.output(e);case 4:return s.abrupt("return",s.sent);case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})))()}milestoneDetails(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a=t.buildClient(),s.next=4,a.milestone(e);case 4:return s.abrupt("return",s.sent);case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})))()}messageDetails(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a,r,n;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a=t.buildClient(),s.next=4,a.messageMetadata(e);case 4:return r=s.sent,s.next=7,a.messageChildren(e);case 7:return n=s.sent,s.abrupt("return",{metadata:r,childrenIds:n?n.childrenMessageIds:void 0});case 11:return s.prev=11,s.t0=s.catch(0),s.abrupt("return",{unavailable:t.checkForUnavailable(s.t0)});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()}peerAdd(e,t){var s=this;return Object(r.a)(i.a.mark((function a(){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.buildClient(),a.next=3,r.peerAdd(e,t);case 3:case"end":return a.stop()}}),a)})))()}peerDelete(e){var t=this;return Object(r.a)(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.buildClient(),s.next=3,a.peerDelete(e);case 3:case"end":return s.stop()}}),s)})))()}buildClient(){const e=this._authService.isLoggedIn(),t={};e&&(t.Authorization="Bearer ".concat(e));const s=this._authService.csrf();return s&&(t["X-CSRF-Token"]=s),new bt.SingleNodeClient("".concat(window.location.protocol,"//").concat(window.location.host),{basePath:"/api/v1/",headers:t})}checkForUnavailable(e){return 503===e.httpStatus}}class vi{constructor(){this._theme=void 0,this._theme="light"}initialize(){const e=ye.a.get("storage").load("theme");this.apply(e,!1)}apply(e,t){const s=this._theme;this._theme=null!==e&&void 0!==e?e:"light",document.body.classList.remove("theme-".concat(s)),document.body.classList.add("theme-".concat(this._theme)),we.publish("theme",this._theme),t&&this.save()}get(){return this._theme}save(){ye.a.get("storage").save("theme",this._theme)}}class ji{constructor(){this._webSocketService=void 0,this._subscriptions=void 0,this._vertices=void 0,this._verticesOrder=void 0,this._counts=void 0,this._verticesLimit=void 0,this._vertexCallback=void 0,this._countsCallback=void 0,this._referencedCallback=void 0,this._subscriptions=[],this._vertices={},this._verticesOrder=[],this._verticesLimit=5e3,this._counts={total:0,solid:0,referenced:0,conflicting:0,tips:0},this._webSocketService=ye.a.get("web-socket")}subscribe(e,t,s){this._subscriptions.push(this._webSocketService.subscribe(_e.Vertex,!1,(e=>this.updateVertices(e))),this._webSocketService.subscribe(_e.MilestoneInfo,!1,(e=>this.updateMilestoneInfo(e))),this._webSocketService.subscribe(_e.TipInfo,!1,(e=>this.updateTipInfo(e))),this._webSocketService.subscribe(_e.ConfirmedInfo,!1,(e=>this.updateConfirmedInfo(e))),this._webSocketService.subscribe(_e.SolidInfo,!1,(e=>this.updateSolidInfo(e)))),this._vertexCallback=e,this._countsCallback=t,this._referencedCallback=s}unsubscribe(){var e,t=Object(Kt.a)(this._subscriptions);try{for(t.s();!(e=t.n()).done;){const t=e.value;this._webSocketService.unsubscribe(t)}}catch(s){t.e(s)}finally{t.f()}this._subscriptions=[],this._vertices={},this._verticesOrder=[]}updateVertices(e){if(e){const t=e.id.slice(0,7);let s=this._vertices[t],a="add";s?(a="update",!s.isSolid&&e.is_solid&&this._counts.solid++,!s.isReferenced&&e.is_referenced&&this._counts.referenced++,!s.isConflicting&&e.is_conflicting&&this._counts.conflicting++,!s.isTip&&e.is_tip&&this._counts.tips++):(e.is_solid&&this._counts.solid++,e.is_referenced&&this._counts.referenced++,e.is_conflicting&&this._counts.conflicting++,e.is_tip&&this._counts.tips++,this._verticesOrder.push(t),this.checkLimit(),s={fullId:e.id,shortId:t}),s.parents=e.parents,s.isSolid=e.is_solid,s.isReferenced=e.is_referenced,s.isConflicting=e.is_conflicting,s.isMilestone=e.is_milestone,s.isTip=e.is_tip,s.isSelected=e.is_selected,this._vertices[t]=s,this._counts.total=this._verticesOrder.length,this._vertexCallback&&this._vertexCallback(s,a),this._countsCallback&&this._countsCallback(this._counts)}}checkLimit(){for(;this._verticesOrder.length>this._verticesLimit;){const a=this._verticesOrder.shift();if(a){const i=this.removeVertex(a);if(null===i||void 0===i?void 0:i.parents){var e,t=Object(Kt.a)(i.parents);try{for(t.s();!(e=t.n()).done;){const t=e.value;this.removeVertex(t)}}catch(s){t.e(s)}finally{t.f()}}}}this._countsCallback&&this._countsCallback(this._counts)}removeVertex(e){if(!e)return;let t=this._vertices[e];return t?(t.isSolid&&this._counts.solid--,t.isReferenced&&this._counts.referenced--,t.isConflicting&&this._counts.conflicting--,t.isTip&&this._counts.tips--,delete this._vertices[e]):t={shortId:e},this._vertexCallback&&this._vertexCallback(t,"delete"),t}updateTipInfo(e){if(e){const t=this._vertices[e.id];t&&(this._counts.tips+=e.is_tip?1:t.isTip?-1:0,t.isTip=e.is_tip,this._vertexCallback&&this._vertexCallback(t,"update"),this._countsCallback&&this._countsCallback(this._counts))}}updateMilestoneInfo(e){if(e){const t=this._vertices[e.id];t&&(t.isMilestone=!0,this._vertexCallback&&this._vertexCallback(t,"update"))}}updateConfirmedInfo(e){if(e){const s=this._vertices[e.id];if(s&&!s.isReferenced){var t;if(this._referencedCallback)this._referencedCallback(e.id,null!==(t=e.excluded_ids)&&void 0!==t?t:[],this._counts);this._countsCallback&&this._countsCallback(this._counts)}}}updateSolidInfo(e){if(e){const t=this._vertices[e.id];t&&!t.isSolid&&(t.isSolid=!0,this._counts.solid++,this._vertexCallback&&this._vertexCallback(t,"update"),this._countsCallback&&this._countsCallback(this._counts))}}}var gi=s(94);function xi(){return(xi=Object(r.a)(i.a.mark((function e(){var t,s,a,n,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye.a.register("storage",(()=>new hi)),t=new bi,ye.a.register("settings",(()=>t)),s=new di,e.next=6,s.initialize();case 6:return ye.a.register("auth",(()=>s)),a=new gi.a,ye.a.register("web-socket",(()=>a)),ye.a.register("tangle",(()=>new mi)),(n=new vi).initialize(),ye.a.register("theme",(()=>n)),c=new pi,e.next=16,c.initialize();case 16:return ye.a.register("node-config",(()=>c)),l=new ui,ye.a.register("metrics",(()=>l)),l.initialize(),ye.a.register("visualizer",(()=>new ji)),we.subscribe("auth-state","init",Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.resubscribe(),e.next=3,It.initPlugin();case 3:return e.next=5,Ha.initPlugin();case 5:case"end":return e.stop()}}),e)})))),we.subscribe("online","init",function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,c.initialize();case 3:a.resubscribe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=25,It.initPlugin();case 25:return e.next=27,Ha.initPlugin();case 27:return t.initialize(),e.abrupt("return",Ne.initialize());case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return xi.apply(this,arguments)})().then((e=>{o.a.render(e?Object(Qe.jsx)(d.a,{children:Object(Qe.jsx)(oi,{})}):Object(Qe.jsx)("div",{children:"REACT_APP_BRAND_ID is not set"}),document.querySelector("#root"))})).catch((e=>console.error(e)))}],[[229,1,2]]]);
//# sourceMappingURL=main.ce1ae9c8.chunk.js.map