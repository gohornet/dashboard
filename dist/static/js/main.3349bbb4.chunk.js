(this["webpackJsonpnode-dashboard"]=this["webpackJsonpnode-dashboard"]||[]).push([[0],[,,,,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(3),i=s(4),n=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"register",value:function(e,t){this._services[e]=t}},{key:"unregister",value:function(e){delete this._services[e]}},{key:"get",value:function(e){return!this._instances[e]&&this._services[e]&&(this._instances[e]=this._services[e](e)),this._instances[e]}}]),e}();n._services={},n._instances={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return l}));var a=s(15),i=s(3),n=s(4),r=s(13),c=s(7),l=function(){function t(){Object(i.a)(this,t),this._reconnectTimer=void 0,this._lastMessage=void 0,this._webSocket=void 0,this._subscriptions=void 0,this._authService=void 0,this._authService=c.a.get("auth"),this._subscriptions={},this._lastMessage=0}return Object(n.a)(t,[{key:"subscribe",value:function(e,t,s){this._subscriptions[e]||(this._subscriptions[e]={requiresAuth:t,isSubscribed:!1,subs:[]});var a=r.Converter.bytesToHex(r.RandomHelper.generate(32));return this._subscriptions[e].subs.push({subscriptionId:a,callback:s}),this._webSocket&&this._webSocket.readyState===WebSocket.OPEN?this.subscribeTopic(e):this._webSocket||this.connectSocket(),a}},{key:"unsubscribe",value:function(e){var t,s=Object(a.a)(Object.keys(this._subscriptions).map((function(e){return Number(e)})));try{for(s.s();!(t=s.n()).done;){var i=t.value,n=this._subscriptions[i].subs.findIndex((function(t){return t.subscriptionId===e}));if(n>=0&&(this._subscriptions[i].subs.splice(n,1),0===this._subscriptions[i].subs.length)){this.unsubscribeTopic(i),delete this._subscriptions[i];break}}}catch(r){s.e(r)}finally{s.f()}0===Object.keys(this._subscriptions).length&&(this.clearTimer(),this.disconnectSocket())}},{key:"resubscribe",value:function(){var e,t=Object.keys(this._subscriptions).map((function(e){return Number(e)})),s=Object(a.a)(t);try{for(s.s();!(e=s.n()).done;){var i=e.value;this.unsubscribeTopic(i)}}catch(l){s.e(l)}finally{s.f()}if(this._webSocket&&this._webSocket.readyState===WebSocket.OPEN){var n,r=Object(a.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;this.subscribeTopic(c)}}catch(l){r.e(l)}finally{r.f()}}}},{key:"connectSocket",value:function(){var e,t=this;this.clearTimer(),this.disconnectSocket();var s="ws:";"https:"===window.location.protocol&&(s="wss:"),s+="//".concat(window.location.hostname,":").concat(null!==(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BRAND_ID:"hornet"}).REACT_APP_SOCKET)&&void 0!==e?e:window.location.port,"/ws"),this._webSocket=new WebSocket(s),this._webSocket.onopen=function(){var e,s=Object(a.a)(Object.keys(t._subscriptions).map((function(e){return Number(e)})));try{for(s.s();!(e=s.n()).done;){var i=e.value;t.subscribeTopic(i)}}catch(n){s.e(n)}finally{s.f()}},this._webSocket.onclose=function(){t.disconnectSocket()},this._webSocket.onerror=function(e){console.error("Socket error",e)},this._webSocket.onmessage=function(e){t._lastMessage=Date.now(),t.handleMessage(e.data)},this._lastMessage=Date.now(),this._reconnectTimer=setInterval((function(){return t.reconnect()}),5e3)}},{key:"disconnectSocket",value:function(){if(this._webSocket){try{this._webSocket.readyState===WebSocket.OPEN&&this._webSocket.close()}catch(e){}this._webSocket=void 0}}},{key:"clearTimer",value:function(){this._reconnectTimer&&(clearInterval(this._reconnectTimer),this._reconnectTimer=void 0)}},{key:"subscribeTopic",value:function(t){if(this._subscriptions[t]){var s=this._subscriptions[t].requiresAuth,a=this._authService.isLoggedIn();if(!s||s&&a){this._subscriptions[t].isSubscribed=!0;var i=new ArrayBuffer(2+(a&&s?a.length:0)),n=new Uint8Array(i);n[0]=0,n[1]=t,a&&s&&n.set(e.from(a),2),this._webSocket&&this._webSocket.send(i)}}}},{key:"unsubscribeTopic",value:function(e){var t;if(null!==(t=this._subscriptions[e])&&void 0!==t&&t.isSubscribed){this._subscriptions[e].isSubscribed=!1;var s=new ArrayBuffer(2),a=new Uint8Array(s);a[0]=1,a[1]=e,this._webSocket&&this._webSocket.readyState===WebSocket.OPEN&&this._webSocket.send(s)}}},{key:"handleMessage",value:function(e){var t=JSON.parse(e);if(this._subscriptions[t.type]){var s,i=Object(a.a)(this._subscriptions[t.type].subs);try{for(i.s();!(s=i.n()).done;){s.value.callback(t.data)}}catch(n){i.e(n)}finally{i.f()}}}},{key:"reconnect",value:function(){Object.keys(this._subscriptions)&&(Date.now()-this._lastMessage>1e4&&this.connectSocket())}}]),t}()}).call(this,s(53).Buffer)},,,,,,function(e,t,s){var a={"./bee/brand.json":86,"./hornet/brand.json":87};function i(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=85},function(e){e.exports=JSON.parse('{"name":"Bee"}')},function(e){e.exports=JSON.parse('{"name":"Hornet"}')},function(e,t,s){var a={"./bee/themes/dark/logo-navigation.svg":[182,4],"./bee/themes/light/logo-navigation.svg":[183,6],"./hornet/themes/dark/logo-navigation.svg":[184,8],"./hornet/themes/light/logo-navigation.svg":[185,10]};function i(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return s.e(t[1]).then((function(){return s(i)}))}i.keys=function(){return Object.keys(a)},i.id=88,e.exports=i},function(e,t,s){var a={"./bee/themes/dark/banner.svg":[186,3],"./bee/themes/light/banner.svg":[187,5],"./hornet/themes/dark/banner.svg":[188,7],"./hornet/themes/light/banner.svg":[189,9]};function i(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return s.e(t[1]).then((function(){return s(i)}))}i.keys=function(){return Object.keys(a)},i.id=89,e.exports=i},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},,,,,function(e,t,s){},function(e,t,s){},,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a,i=s(6),n=s(2),r=s.n(n),c=s(1),l=s.n(c),o=s(76),d=s.n(o),u=s(12),h=s(16),p=s(3),b=s(4),v=s(11),m=s(10),j=s(8),f=s(9),g=s(17),O=["title","titleId"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},x.apply(this,arguments)}function y(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function S(e,t){var s=e.title,i=e.titleId,n=y(e,O);return c.createElement("svg",x({width:16,height:18,viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},n),s?c.createElement("title",{id:i},s):null,a||(a=c.createElement("path",{d:"M1 0C1.26522 0 1.51957 0.105357 1.70711 0.292893C1.89464 0.48043 2 0.734784 2 1V17C2 17.2652 1.89464 17.5196 1.70711 17.7071C1.51957 17.8946 1.26522 18 1 18C0.734784 18 0.48043 17.8946 0.292893 17.7071C0.105357 17.5196 0 17.2652 0 17V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0ZM15 4C15.2652 4 15.5196 4.10536 15.7071 4.29289C15.8946 4.48043 16 4.73478 16 5V17C16 17.2652 15.8946 17.5196 15.7071 17.7071C15.5196 17.8946 15.2652 18 15 18C14.7348 18 14.4804 17.8946 14.2929 17.7071C14.1054 17.5196 14 17.2652 14 17V5C14 4.73478 14.1054 4.48043 14.2929 4.29289C14.4804 4.10536 14.7348 4 15 4ZM8 8C8.26522 8 8.51957 8.10536 8.70711 8.29289C8.89464 8.48043 9 8.73478 9 9V17C9 17.2652 8.89464 17.5196 8.70711 17.7071C8.51957 17.8946 8.26522 18 8 18C7.73478 18 7.48043 17.8946 7.29289 17.7071C7.10536 17.5196 7 17.2652 7 17V9C7 8.73478 7.10536 8.48043 7.29289 8.29289C7.48043 8.10536 7.73478 8 8 8Z",fill:"currentColor"})))}var _,N=c.forwardRef(S),w=(s.p,["title","titleId"]);function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},k.apply(this,arguments)}function C(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function I(e,t){var s=e.title,a=e.titleId,i=C(e,w);return c.createElement("svg",k({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,_||(_=c.createElement("path",{d:"M2.252 8C2.08416 8.6534 1.99949 9.32538 2 10C2 10.69 2.088 11.36 2.252 12H5.1C4.96518 10.6701 4.96518 9.32993 5.1 8H2.252ZM3.07 6H5.416C5.682 4.783 6.066 3.693 6.537 2.786C5.08518 3.48542 3.87722 4.60523 3.07 6ZM17.748 8H14.9C15.0348 9.32993 15.0348 10.6701 14.9 12H17.748C17.912 11.36 18 10.69 18 10C18 9.31 17.912 8.64 17.748 8ZM16.93 6C16.1228 4.60523 14.9148 3.48542 13.463 2.786C13.935 3.693 14.318 4.783 14.584 6H16.93ZM7.112 8C7.03708 8.66403 6.99968 9.33176 7 10C7 10.685 7.038 11.355 7.112 12H12.888C13.0386 10.6709 13.0386 9.32908 12.888 8H7.112ZM7.47 6H12.53C12.348 5.2483 12.0855 4.51841 11.747 3.823C11.119 2.568 10.447 2 10 2C9.552 2 8.881 2.568 8.253 3.823C7.938 4.455 7.673 5.19 7.47 6ZM3.07 14C3.87722 15.3948 5.08518 16.5146 6.537 17.214C6.065 16.307 5.682 15.217 5.416 14H3.07ZM16.93 14H14.584C14.318 15.217 13.934 16.307 13.463 17.214C14.9148 16.5146 16.1228 15.3948 16.93 14ZM7.47 14C7.673 14.81 7.938 15.545 8.253 16.177C8.881 17.432 9.553 18 10 18C10.448 18 11.119 17.432 11.747 16.177C12.062 15.545 12.327 14.81 12.53 14H7.47ZM10 20C4.477 20 0 15.523 0 10C0 4.477 4.477 0 10 0C15.523 0 20 4.477 20 10C20 15.523 15.523 20 10 20Z",fill:"currentColor"})))}var M,T=c.forwardRef(I),E=(s.p,["title","titleId"]);function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},P.apply(this,arguments)}function L(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function D(e,t){var s=e.title,a=e.titleId,i=L(e,E);return c.createElement("svg",P({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,M||(M=c.createElement("path",{d:"M18 18V6.80002L10 2.00002L2 6.80002V18H6V14.918C6 13.8572 6.42143 12.8397 7.17157 12.0896C7.92172 11.3394 8.93913 10.918 10 10.918C11.0609 10.918 12.0783 11.3394 12.8284 12.0896C13.5786 12.8397 14 13.8572 14 14.918V18H18ZM12 20V14.918C12 14.3876 11.7893 13.8789 11.4142 13.5038C11.0391 13.1287 10.5304 12.918 10 12.918C9.46957 12.918 8.96086 13.1287 8.58579 13.5038C8.21071 13.8789 8 14.3876 8 14.918V20H2C1.46957 20 0.960859 19.7893 0.585786 19.4142C0.210714 19.0391 0 18.5304 0 18L0 6.80002C-3.32274e-06 6.45465 0.0894306 6.11516 0.259593 5.81462C0.429755 5.51407 0.674847 5.26271 0.971 5.08502L8.971 0.285019C9.28183 0.0985175 9.63751 0 10 0C10.3625 0 10.7182 0.0985175 11.029 0.285019L19.029 5.08502C19.3252 5.26271 19.5702 5.51407 19.7404 5.81462C19.9106 6.11516 20 6.45465 20 6.80002V18C20 18.5304 19.7893 19.0391 19.4142 19.4142C19.0391 19.7893 18.5304 20 18 20H12Z",fill:"currentColor"})))}var B,A=c.forwardRef(D),R=(s.p,["title","titleId"]);function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},U.apply(this,arguments)}function F(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function H(e,t){var s=e.title,a=e.titleId,i=F(e,R);return c.createElement("svg",U({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,B||(B=c.createElement("path",{d:"m19.49261,11.36231c-0.20411,-0.05103 -0.40822,0 -0.58682,0.12757c-0.66336,0.56131 -1.42878,1.02056 -2.27074,1.32672c-0.79093,0.30617 -1.6584,0.45925 -2.5769,0.45925c-2.06662,0 -3.95465,-0.84196 -5.30689,-2.19419c-1.35224,-1.35224 -2.19419,-3.24026 -2.19419,-5.30689c0,-0.86747 0.15308,-1.70943 0.40822,-2.47485c0.28065,-0.81644 0.68887,-1.55635 1.22467,-2.19419c0.22962,-0.28065 0.1786,-0.68887 -0.10206,-0.9185c-0.1786,-0.12757 -0.38271,-0.1786 -0.58682,-0.12757c-2.16868,0.58682 -4.05671,1.88803 -5.40894,3.62297c-1.30121,1.70943 -2.09214,3.82708 -2.09214,6.14885c0,2.78101 1.12261,5.30689 2.95961,7.14389s4.36287,2.95961 7.14389,2.95961c2.34728,0 4.51596,-0.81644 6.2509,-2.16868c1.76046,-1.37775 3.03615,-3.34232 3.57194,-5.58754c0.12757,-0.38271 -0.07654,-0.7399 -0.43374,-0.81644zm-3.90362,5.3324c-1.47981,1.17364 -3.36783,1.88803 -5.43446,1.88803c-2.42382,0 -4.61801,-0.99504 -6.19987,-2.5769c-1.58186,-1.58186 -2.5769,-3.77605 -2.5769,-6.19987c0,-2.0156 0.66336,-3.8526 1.81149,-5.3324c0.79093,-1.02056 1.78597,-1.86251 2.9341,-2.44933c-0.12757,0.28065 -0.25514,0.56131 -0.35719,0.86747c-0.33168,0.9185 -0.48476,1.88803 -0.48476,2.90858c0,2.42382 0.99504,4.64353 2.5769,6.22539s3.80157,2.5769 6.22539,2.5769c1.07158,0 2.09214,-0.1786 3.03615,-0.53579c0.33168,-0.12757 0.66336,-0.25514 0.96953,-0.40822c-0.61233,1.17364 -1.45429,2.21971 -2.50036,3.03615z",fill:"currentColor"})))}var z,V,Y,W,K=c.forwardRef(H),q=(s.p,["title","titleId"]);function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},G.apply(this,arguments)}function Z(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function J(e,t){var s=e.title,a=e.titleId,i=Z(e,q);return c.createElement("svg",G({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,z||(z=c.createElement("path",{d:"m21.87281,24l-12.02632,0c-1.10464,0 -2.00439,-1.009 -2.00439,-2.25l0,-10.5c0,-1.241 0.89975,-2.25 2.00439,-2.25l12.02632,0c1.10464,0 2.00439,1.009 2.00439,2.25l0,10.5c0,1.241 -0.89975,2.25 -2.00439,2.25zm-12.02632,-13.5c-0.36792,0 -0.66813,0.336 -0.66813,0.75l0,10.5c0,0.414 0.30021,0.75 0.66813,0.75l12.02632,0c0.36792,0 0.66813,-0.336 0.66813,-0.75l0,-10.5c0,-0.414 -0.30021,-0.75 -0.66813,-0.75l-12.02632,0z",fill:"currentColor"})),V||(V=c.createElement("path",{d:"m11.35526,10.5c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-3.75c0,-2.481 -2.019,-4.5 -4.5,-4.5s-4.5,2.019 -4.5,4.5l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75l0,-3.75c0,-3.309 2.691,-6 6,-6s6,2.691 6,6l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})),Y||(Y=c.createElement("path",{d:"m15.7193,17c-1.103,0 -2,-0.897 -2,-2s0.897,-2 2,-2s2,0.897 2,2s-0.897,2 -2,2zm0,-2.5c-0.275,0 -0.5,0.224 -0.5,0.5s0.225,0.5 0.5,0.5s0.5,-0.224 0.5,-0.5s-0.225,-0.5 -0.5,-0.5z",fill:"currentColor"})),W||(W=c.createElement("path",{d:"m15.7193,20c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-2.75c0,-0.414 0.336,-0.75 0.75,-0.75s0.75,0.336 0.75,0.75l0,2.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})))}var Q,X,$,ee,te=c.forwardRef(J),se=(s.p,["title","titleId"]);function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ae.apply(this,arguments)}function ie(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function ne(e,t){var s=e.title,a=e.titleId,i=ie(e,se);return c.createElement("svg",ae({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Q||(Q=c.createElement("path",{d:"m18.75,24l-13.5,0c-1.24,0 -2.25,-1.009 -2.25,-2.25l0,-10.5c0,-1.241 1.01,-2.25 2.25,-2.25l13.5,0c1.24,0 2.25,1.009 2.25,2.25l0,10.5c0,1.241 -1.01,2.25 -2.25,2.25zm-13.5,-13.5c-0.413,0 -0.75,0.336 -0.75,0.75l0,10.5c0,0.414 0.337,0.75 0.75,0.75l13.5,0c0.413,0 0.75,-0.336 0.75,-0.75l0,-10.5c0,-0.414 -0.337,-0.75 -0.75,-0.75l-13.5,0z",fill:"currentColor"})),X||(X=c.createElement("path",{d:"m17.25,10.5c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-3.75c0,-2.481 -2.019,-4.5 -4.5,-4.5s-4.5,2.019 -4.5,4.5l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75l0,-3.75c0,-3.309 2.691,-6 6,-6s6,2.691 6,6l0,3.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})),$||($=c.createElement("path",{d:"m12,17c-1.103,0 -2,-0.897 -2,-2s0.897,-2 2,-2s2,0.897 2,2s-0.897,2 -2,2zm0,-2.5c-0.275,0 -0.5,0.224 -0.5,0.5s0.225,0.5 0.5,0.5s0.5,-0.224 0.5,-0.5s-0.225,-0.5 -0.5,-0.5z",fill:"currentColor"})),ee||(ee=c.createElement("path",{d:"m12,20c-0.414,0 -0.75,-0.336 -0.75,-0.75l0,-2.75c0,-0.414 0.336,-0.75 0.75,-0.75s0.75,0.336 0.75,0.75l0,2.75c0,0.414 -0.336,0.75 -0.75,0.75z",fill:"currentColor"})))}var re,ce=c.forwardRef(ne),le=(s.p,["title","titleId"]);function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},oe.apply(this,arguments)}function de(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function ue(e,t){var s=e.title,a=e.titleId,i=de(e,le);return c.createElement("svg",oe({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,re||(re=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.6569 5.62329C7.03439 7.02356 5.63123 8 4 8C1.79086 8 0 6.20914 0 4C0 1.79086 1.79086 0 4 0C6.09134 0 7.80782 1.60496 7.98493 3.65037L12.3431 4.37673C12.9656 2.97645 14.3688 2 16 2C18.2091 2 20 3.79086 20 6C20 8.20914 18.2091 10 16 10C14.9749 10 14.04 9.61443 13.3321 8.9804L7.77815 12.6831C7.88518 12.9902 7.95583 13.3143 7.98493 13.6504L12.3431 14.3767C12.9656 12.9764 14.3688 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20C13.9087 20 12.1922 18.3951 12.0151 16.3497L7.6569 15.6233C7.03439 17.0236 5.63123 18 4 18C1.79086 18 0 16.2091 0 14C0 11.7909 1.79086 10 4 10C5.02504 10 5.96002 10.3856 6.66784 11.0196L12.2218 7.3169C12.1148 7.00981 12.0442 6.68568 12.0151 6.34965L7.6569 5.62329ZM6 4C6 5.10457 5.10457 6 4 6C2.89543 6 2 5.10457 2 4C2 2.89543 2.89543 2 4 2C5.10457 2 6 2.89543 6 4ZM16 8C17.1046 8 18 7.10457 18 6C18 4.89543 17.1046 4 16 4C14.8954 4 14 4.89543 14 6C14 7.10457 14.8954 8 16 8ZM6 14C6 15.1046 5.10457 16 4 16C2.89543 16 2 15.1046 2 14C2 12.8954 2.89543 12 4 12C5.10457 12 6 12.8954 6 14ZM16 18C17.1046 18 18 17.1046 18 16C18 14.8954 17.1046 14 16 14C14.8954 14 14 14.8954 14 16C14 17.1046 14.8954 18 16 18Z",fill:"currentColor"})))}var he,pe=c.forwardRef(ue),be=(s.p,["title","titleId"]);function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ve.apply(this,arguments)}function me(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function je(e,t){var s=e.title,a=e.titleId,i=me(e,be);return c.createElement("svg",ve({width:32,height:20,viewBox:"0 5 32 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,he||(he=c.createElement("path",{d:"M18 13V8C18 7.73478 18.1054 7.48043 18.2929 7.29289C18.4804 7.10536 18.7348 7 19 7C19.2652 7 19.5196 7.10536 19.7071 7.29289C19.8946 7.48043 20 7.73478 20 8V13C20.5304 13 21.0391 13.2107 21.4142 13.5858C21.7893 13.9609 22 14.4696 22 15V18.5C21.9999 19.7247 21.5911 20.9144 20.8385 21.8805C20.0859 22.8467 19.0324 23.5342 17.845 23.834C17.9584 24.0628 18.0114 24.3167 17.9992 24.5717C17.987 24.8267 17.9099 25.0744 17.7753 25.2913C17.6406 25.5082 17.4528 25.6871 17.2296 25.8111C17.0064 25.9352 16.7553 26.0002 16.5 26H15.5C15.2447 26.0002 14.9936 25.9352 14.7704 25.8111C14.5472 25.6871 14.3594 25.5082 14.2247 25.2913C14.0901 25.0744 14.013 24.8267 14.0008 24.5717C13.9886 24.3167 14.0416 24.0628 14.155 23.834C12.9676 23.5342 11.9141 22.8467 11.1615 21.8805C10.4089 20.9144 10.0001 19.7247 10 18.5V15C10 14.4696 10.2107 13.9609 10.5858 13.5858C10.9609 13.2107 11.4696 13 12 13V8C12 7.73478 12.1054 7.48043 12.2929 7.29289C12.4804 7.10536 12.7348 7 13 7C13.2652 7 13.5196 7.10536 13.7071 7.29289C13.8946 7.48043 14 7.73478 14 8V13H18Z",fill:"currentColor"})))}var fe,ge,Oe,xe,ye,Se,_e,Ne,we,ke=c.forwardRef(je),Ce=(s.p,["title","titleId"]);function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ie.apply(this,arguments)}function Me(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Te(e,t){var s=e.title,a=e.titleId,i=Me(e,Ce);return c.createElement("svg",Ie({width:20,height:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,fe||(fe=c.createElement("path",{d:"m13.48664,6.42723c-0.8956,-0.8956 -2.15997,-1.4751 -3.52971,-1.4751s-2.63411,0.55316 -3.52971,1.4751c-0.8956,0.8956 -1.4751,2.15997 -1.4751,3.52971s0.5795,2.63411 1.4751,3.52971c0.8956,0.8956 2.15997,1.4751 3.52971,1.4751s2.63411,-0.55316 3.52971,-1.4751c0.8956,-0.8956 1.4751,-2.15997 1.4751,-3.52971s-0.55316,-2.63411 -1.4751,-3.52971zm-0.94828,6.11114c-0.65853,0.65853 -1.58047,1.05364 -2.58143,1.05364s-1.9229,-0.39512 -2.58143,-1.05364s-1.05364,-1.58047 -1.05364,-2.58143s0.39512,-1.9229 1.05364,-2.58143s1.58047,-1.05364 2.58143,-1.05364s1.9229,0.39512 2.58143,1.05364s1.05364,1.58047 1.05364,2.58143s-0.39512,1.9229 -1.05364,2.58143z",fill:"currentColor"})),ge||(ge=c.createElement("path",{d:"m19.229,9.27207l-2.02826,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487c0,0.36878 0.31609,0.68487 0.68487,0.68487l2.02826,0c0.36878,0 0.68487,-0.31609 0.68487,-0.68487c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),Oe||(Oe=c.createElement("path",{d:"m9.95694,16.51587c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487l0,2.02826c0,0.36878 0.31609,0.68487 0.68487,0.68487c0.36878,0 0.68487,-0.31609 0.68487,-0.68487l0,-2.02826c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),xe||(xe=c.createElement("path",{d:"m16.99001,16.04173l-1.44876,-1.44876c-0.23707,-0.26341 -0.68487,-0.26341 -0.94828,0s-0.26341,0.68487 0,0.94828l1.44876,1.44876c0.26341,0.26341 0.68487,0.26341 0.94828,0s0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})),ye||(ye=c.createElement("path",{d:"m9.95694,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487l0,2.02826c0,0.36878 0.31609,0.68487 0.68487,0.68487c0.36878,0 0.68487,-0.31609 0.68487,-0.68487l0,-2.02826c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),Se||(Se=c.createElement("path",{d:"m17.01635,2.92386c-0.26341,-0.26341 -0.68487,-0.26341 -0.94828,0l-1.44876,1.44876c-0.26341,0.26341 -0.26341,0.68487 0,0.94828c0.23707,0.26341 0.68487,0.26341 0.94828,0l1.44876,-1.44876c0.26341,-0.26341 0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})),_e||(_e=c.createElement("path",{d:"m2.71313,9.27207l-2.02826,0c-0.36878,0 -0.68487,0.31609 -0.68487,0.68487s0.28975,0.68487 0.68487,0.68487l2.02826,0c0.36878,0 0.68487,-0.31609 0.68487,-0.68487c0,-0.36878 -0.31609,-0.68487 -0.68487,-0.68487z",fill:"currentColor"})),Ne||(Ne=c.createElement("path",{d:"m5.29456,14.59297c-0.23707,-0.26341 -0.68487,-0.26341 -0.94828,0l-1.44876,1.44876c-0.26341,0.26341 -0.26341,0.68487 0,0.94828s0.68487,0.26341 0.94828,0l1.44876,-1.44876c0.26341,-0.26341 0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})),we||(we=c.createElement("path",{d:"m5.29456,4.37262l-1.44876,-1.44876c-0.26341,-0.26341 -0.68487,-0.26341 -0.94828,0s-0.26341,0.68487 0,0.94828l1.44876,1.44876c0.26341,0.26341 0.68487,0.26341 0.94828,0s0.26341,-0.68487 0,-0.94828z",fill:"currentColor"})))}var Ee,Pe=c.forwardRef(Te),Le=(s.p,["title","titleId"]);function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},De.apply(this,arguments)}function Be(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ae(e,t){var s=e.title,a=e.titleId,i=Be(e,Le);return c.createElement("svg",De({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Ee||(Ee=c.createElement("path",{d:"M0.694333 17.3063C-1.21567 15.3943 0.952333 10.1263 5.53933 5.53935C10.1263 0.952348 15.3943 -1.21665 17.3063 0.694348C19.2163 2.60635 17.0483 7.87435 12.4613 12.4613C7.87433 17.0483 2.60633 19.2173 0.694333 17.3063ZM2.08033 15.9203C2.89533 16.7363 7.18233 14.9703 11.0773 11.0753C14.9723 7.18035 16.7373 2.89335 15.9223 2.07835C15.1073 1.26235 10.8203 3.02835 6.92533 6.92335C3.03033 10.8183 1.26533 15.1053 2.08033 15.9203ZM5.54033 12.4603C0.952333 7.87435 -1.21667 2.60635 0.694333 0.694348C2.60633 -1.21565 7.87433 0.952348 12.4613 5.53935C17.0483 10.1263 19.2173 15.3943 17.3063 17.3063C15.3943 19.2163 10.1263 17.0483 5.53933 12.4613L5.54033 12.4603ZM6.92533 11.0753C10.8203 14.9703 15.1073 16.7353 15.9223 15.9203C16.7383 15.1053 14.9723 10.8183 11.0773 6.92335C7.18233 3.02835 2.89533 1.26335 2.08033 2.07835C1.26433 2.89335 3.03033 7.18035 6.92533 11.0753ZM9.00033 11.0003C8.4699 11.0003 7.96119 10.7896 7.58612 10.4146C7.21105 10.0395 7.00033 9.53078 7.00033 9.00035C7.00033 8.46992 7.21105 7.96121 7.58612 7.58613C7.96119 7.21106 8.4699 7.00035 9.00033 7.00035C9.53077 7.00035 10.0395 7.21106 10.4145 7.58613C10.7896 7.96121 11.0003 8.46992 11.0003 9.00035C11.0003 9.53078 10.7896 10.0395 10.4145 10.4146C10.0395 10.7896 9.53077 11.0003 9.00033 11.0003Z",fill:"currentColor"})))}var Re,Ue=c.forwardRef(Ae),Fe=(s.p,s(7));!function(e){e[e.SyncStatus=0]="SyncStatus",e[e.PublicNodeStatus=1]="PublicNodeStatus",e[e.NodeStatus=2]="NodeStatus",e[e.MPSMetrics=3]="MPSMetrics",e[e.TipSelMetric=4]="TipSelMetric",e[e.Ms=5]="Ms",e[e.PeerMetric=6]="PeerMetric",e[e.ConfirmedMsMetrics=7]="ConfirmedMsMetrics",e[e.Vertex=8]="Vertex",e[e.SolidInfo=9]="SolidInfo",e[e.ConfirmedInfo=10]="ConfirmedInfo",e[e.MilestoneInfo=11]="MilestoneInfo",e[e.TipInfo=12]="TipInfo",e[e.DBSizeMetric=13]="DBSizeMetric",e[e.DBCleanup=14]="DBCleanup",e[e.SpamMetrics=15]="SpamMetrics",e[e.AvgSpamMetrics=16]="AvgSpamMetrics"}(Re||(Re={}));var He=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"subscribe",value:function(t,s,a){e._subscriptions[t]=e._subscriptions[t]||{},e._subscriptions[t][s]=a}},{key:"unsubscribe",value:function(t,s){e._subscriptions[t]&&delete e._subscriptions[t][s]}},{key:"publish",value:function(t,s){setTimeout((function(){if(e._subscriptions[t])for(var a in e._subscriptions[t])e._subscriptions[t][a](s)}),0)}}]),e}();He._subscriptions={};var ze=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"initialize",value:function(){if(e._brandId)return e._brandConfiguration=s(85)("./".concat(e._brandId,"/brand.json")),document.title="".concat(e._brandConfiguration.name," Dashboard"),e._brandConfiguration}},{key:"getConfiguration",value:function(){return e._brandConfiguration}},{key:"getLogoNavigation",value:function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(88)("./".concat(e._brandId,"/themes/").concat(a,"/logo-navigation.svg"));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBanner",value:function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(89)("./".concat(e._brandId,"/themes/").concat(a,"/banner.svg"));case 2:return t.abrupt("return",t.sent.default);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();ze._brandId="hornet",ze._brandConfiguration=void 0;s(90);var Ve=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){var e;Object(p.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i)))._isMounted=void 0,e}return Object(b.a)(s,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"setState",value:function(e,t){this._isMounted&&Object(v.a)(Object(m.a)(s.prototype),"setState",this).call(this,e,t)}}]),s}(c.Component),Ye=Ve,We=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._resize=void 0,a._resize=function(){return a.resize()},a.state={isVisible:a.calculateVisible()},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){return this.state.isVisible?this.props.children:null}},{key:"resize",value:function(){var e=this.calculateVisible();this.setState({isVisible:e})}},{key:"calculateVisible",value:function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);return"above"===this.props.aboveBelow?e>=s.SIZE_BREAKPOINTS[this.props.size]:e<s.SIZE_BREAKPOINTS[this.props.size]}}]),s}(c.Component);We.SIZE_BREAKPOINTS={phone:480,tablet:768,desktop:1024};var Ke,qe,Ge=We,Ze=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"calculateMemoryUsage",value:function(e){return e.mem.heap_inuse+(e.mem.heap_idle-e.mem.heap_released)+e.mem.m_span_inuse+e.mem.m_cache_inuse+e.mem.stack_sys}},{key:"formatPeerAddress",value:function(e){var t;if(e.multiAddresses)for(var s=0;s<e.multiAddresses.length&&!t;s++)t=this.extractAddress(e.multiAddresses[s]);return t}},{key:"extractAddress",value:function(t){var s=e.extractIp4(t);return s||(s=e.extractIp6(t)),s||(s=e.extractDns(t)),s}},{key:"extractIp4",value:function(e){var t=/\/ip4\/((?:\d{1,3}.){3}\d{1,3})\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}},{key:"extractIp6",value:function(e){var t=/\/ip6\/(.*?)\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}},{key:"extractDns",value:function(e){var t=/\/dns\/(.*?)\/tcp\/(\d*)/.exec(e);if(t&&3===t.length)return"".concat(t[1],":").concat(t[2])}},{key:"sortPeers",value:function(e){return e.sort((function(e,t){var s,a;return e.health!==t.health?t.health-e.health:(null!==(s=e.alias)&&void 0!==s?s:e.id).localeCompare(null!==(a=t.alias)&&void 0!==a?a:t.id)}))}},{key:"calculateHealth",value:function(t,s,a){var i,n,r,c=0;t.connected&&(c=e.calculateIsSynced(t,a)&&null!==(i=t.gossip)&&void 0!==i&&i.heartbeat&&(null===(n=t.gossip)||void 0===n||null===(r=n.heartbeat)||void 0===r?void 0:r.prunedMilestoneIndex)<s?2:1);return c}},{key:"calculateIsSynced",value:function(e,t){var s,a=!1;if(null!==(s=e.gossip)&&void 0!==s&&s.heartbeat){var i=t<e.gossip.heartbeat.latestMilestoneIndex?e.gossip.heartbeat.latestMilestoneIndex:t;e.gossip.heartbeat.solidMilestoneIndex>=i-2&&(a=!0)}return a}}]),e}(),Je=s(49),Qe=s.n(Je),Xe=s(32),$e=s.n(Xe),et=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"duration",value:function(e){return e<36e5?Qe()(e,{largest:1,round:!0}):Qe()(e,{largest:2,round:!0})}},{key:"size",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"0 bytes";var s=Math.floor(Math.log(e)/Math.log(1e3)),a=["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"],i=Number((e/Math.pow(1e3,s)).toFixed(t)),n=a[s];return"bytes"===n&&1===i&&(n="byte"),void 0===n?e.toFixed(t).toString():"".concat(i," ").concat(n)}},{key:"iSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"0 bytes";var s=Math.floor(Math.log(e)/Math.log(1024)),a=["bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=Number((e/Math.pow(1024,s)).toFixed(t)),n=a[s];return"bytes"===n&&1===i&&(n="byte"),void 0===n?e.toFixed(t).toString():"".concat(i," ").concat(n)}},{key:"date",value:function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=e.milliseconds(t);var a=$e()(t),i=a.format("LLLL");if(s){var n=t>Date.now()?"in the future":"ago";i+=" - ".concat($e.a.duration($e()().diff(a)).humanize()," ").concat(n)}return i}},{key:"dateShort",value:function(t){return $e()(e.milliseconds(t)).format("YYYY-MM-DD HH:mm")}},{key:"milliseconds",value:function(e){return e.toString().length<13?1e3*e:e}}]),e}(),tt=(s(91),s(14)),st=s.n(tt),at=["title","titleId"];function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},it.apply(this,arguments)}function nt(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function rt(e,t){var s=e.title,a=e.titleId,i=nt(e,at);return c.createElement("svg",it({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Ke||(Ke=c.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#FF6755"})),qe||(qe=c.createElement("circle",{cx:8,cy:8,r:4,fill:"#FF6755"})))}var ct,lt,ot=c.forwardRef(rt),dt=(s.p,["title","titleId"]);function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ut.apply(this,arguments)}function ht(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function pt(e,t){var s=e.title,a=e.titleId,i=ht(e,dt);return c.createElement("svg",ut({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,ct||(ct=c.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#61E884"})),lt||(lt=c.createElement("circle",{cx:8,cy:8,r:4,fill:"#61E884"})))}var bt,vt=c.forwardRef(pt),mt=(s.p,s(92),s(0)),jt=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsxs)("div",{className:st()("health-indicator",this.props.className),children:[this.props.healthy?Object(mt.jsx)(vt,{}):Object(mt.jsx)(ot,{}),Object(mt.jsx)("span",{className:"label",children:this.props.label})]})}}]),s}(c.Component),ft=jt,gt=(s(94),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a,i,n;return Object(p.a)(this,s),(n=t.call(this,e))._graphWidth=void 0,n._graphHeight=void 0,n._graphWidth=null!==(a=n.props.graphWidth)&&void 0!==a?a:80,n._graphHeight=null!==(i=n.props.graphHeight)&&void 0!==i?i:10,n.state=Object(h.a)({},n.calculateGraph()),n}return Object(b.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.values!==e.values&&this.setState(this.calculateGraph())}},{key:"render",value:function(){return Object(mt.jsxs)("div",{className:st()("micro-graph",this.props.className),children:[Object(mt.jsx)("span",{className:"label",children:this.props.label}),Object(mt.jsx)("span",{className:"value",children:this.props.value}),Object(mt.jsx)("span",{className:"canvas",children:Object(mt.jsxs)("svg",{width:this._graphWidth,height:this._graphHeight,children:[this.state.graphPoints&&this.state.graphPoints.length>0&&Object(mt.jsx)("path",{d:this.state.graphPoints.map((function(e){return"".concat(e.type," ").concat(e.x," ").concat(e.y)})).join(" "),stroke:"currentColor",strokeWidth:"2",fill:"none"}),this.state.circle&&this.state.circle.x>=0&&Object(mt.jsx)("circle",{cx:this.state.circle.x,cy:this.state.circle.y,r:"3",fill:"currentColor"})]})})]})}},{key:"calculateGraph",value:function(){for(var e,t,s=this._graphWidth/2,a=this.props.values.slice(-s),i=-1,n=-1,r=0;r<a.length;r++)(void 0===e||a[r]<e)&&(e=a[r]),(void 0===t||a[r]>t)&&(t=a[r]);var c=[];if(void 0!==t&&void 0!==e){var l=t-e,o=0===l?1:l/this._graphHeight,d=(a[0]-e)/o;c.push({type:"M",x:0,y:this._graphHeight-d});for(var u=s/a.length*2,h=1;h<a.length;h++){var p=(a[h]-e)/o;c.push({type:"l",x:u,y:-1*(p-d)}),d=p}i=(a.length-1)*u,n=10-d}return{graphPoints:c,circle:{x:i,y:n}}}}]),s}(c.Component)),Ot=["title","titleId"];function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xt.apply(this,arguments)}function yt(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function St(e,t){var s=e.title,a=e.titleId,i=yt(e,Ot);return c.createElement("svg",xt({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,bt||(bt=c.createElement("path",{d:"M8.0005 14.0005C8.78843 14.0005 9.56865 13.8453 10.2966 13.5438C11.0246 13.2423 11.686 12.8003 12.2431 12.2431C12.8003 11.686 13.2423 11.0246 13.5438 10.2966C13.8453 9.56865 14.0005 8.78843 14.0005 8.0005C14.0005 7.21257 13.8453 6.43236 13.5438 5.7044C13.2423 4.97645 12.8003 4.31501 12.2431 3.75786C11.686 3.20071 11.0246 2.75875 10.2966 2.45723C9.56865 2.1557 8.78843 2.0005 8.0005 2.0005C6.4092 2.0005 4.88308 2.63264 3.75786 3.75786C2.63264 4.88308 2.0005 6.4092 2.0005 8.0005C2.0005 9.5918 2.63264 11.1179 3.75786 12.2431C4.88308 13.3684 6.4092 14.0005 8.0005 14.0005ZM14.3205 12.9065L17.9005 16.4865C17.9959 16.5788 18.072 16.6892 18.1244 16.8113C18.1767 16.9333 18.2042 17.0645 18.2052 17.1973C18.2063 17.3301 18.1809 17.4618 18.1305 17.5846C18.0802 17.7075 18.0058 17.8191 17.9119 17.9129C17.8179 18.0067 17.7062 18.0809 17.5833 18.1311C17.4604 18.1813 17.3287 18.2065 17.1959 18.2052C17.0631 18.204 16.9319 18.1763 16.8099 18.1238C16.688 18.0713 16.5777 17.9951 16.4855 17.8995L12.9055 14.3195C11.298 15.5674 9.2753 16.1557 7.24926 15.9647C5.22322 15.7737 3.34611 14.8178 2.00005 13.2916C0.654 11.7653 -0.0598121 9.78345 0.00392902 7.74943C0.0676701 5.7154 0.904173 3.78213 2.34315 2.34315C3.78213 0.904173 5.7154 0.0676701 7.74943 0.00392902C9.78345 -0.0598121 11.7653 0.654 13.2916 2.00005C14.8178 3.34611 15.7737 5.22322 15.9647 7.24926C16.1557 9.2753 15.5674 11.298 14.3195 12.9055L14.3205 12.9065Z",fill:"#9AADCE"})))}var _t,Nt,wt=c.forwardRef(St),kt=(s.p,s(95),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={query:""},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:st()("search-input",{"search-input--compact":this.props.compact},this.props.className),children:[Object(mt.jsx)("button",{type:"button",className:"icon-button",onClick:function(){return e.props.onSearch(e.state.query)},children:Object(mt.jsx)(wt,{})}),Object(mt.jsx)("input",{type:"text",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})},onKeyDown:function(t){"Enter"===t.key&&e.props.onSearch(e.state.query)},placeholder:this.props.compact?"Search the Tangle":"Search messages, addresses, outputs, milestones, indexes"})]})}}]),s}(c.Component)),Ct=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._authService=void 0,a._metricsService=void 0,a._nodeStatusSubscription=void 0,a._publicNodeStatusSubscription=void 0,a._databaseSizeSubscription=void 0,a._mpsMetricsSubscription=void 0,a._metricsService=Fe.a.get("metrics"),a._authService=Fe.a.get("auth"),a.state={syncHealth:!1,nodeHealth:!1,mps:"-",mpsValues:[],memorySizeFormatted:"-",memorySize:[],databaseSizeFormatted:"-",databaseSize:[],isLoggedIn:Boolean(a._authService.isLoggedIn()),online:!1},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),He.subscribe("auth-state","header",(function(t){e.setState({isLoggedIn:t})})),He.subscribe("online","header",(function(t){t!==e.state.online&&e.setState({online:t})})),this._publicNodeStatusSubscription=this._metricsService.subscribe(Re.PublicNodeStatus,(function(t){t&&(e.state.online||e.setState({online:!0}),t.is_healthy!==e.state.nodeHealth&&e.setState({nodeHealth:t.is_healthy}),t.is_synced!==e.state.syncHealth&&e.setState({syncHealth:t.is_synced}))})),this._nodeStatusSubscription=this._metricsService.subscribe(Re.NodeStatus,(function(t){if(t){var s=et.iSize(Ze.calculateMemoryUsage(t),1);s!==e.state.memorySizeFormatted&&e.setState({memorySizeFormatted:s})}}),(function(t){var s=t.filter((function(e){return void 0!==e&&null!==e}));e.setState({memorySize:s.map((function(e){return Ze.calculateMemoryUsage(e)}))})})),this._databaseSizeSubscription=this._metricsService.subscribe(Re.DBSizeMetric,(function(t){if(t){var s=et.size(t.total);s!==e.state.databaseSizeFormatted&&e.setState({databaseSizeFormatted:s})}}),(function(t){var s=t.filter((function(e){return void 0!==e&&null!==e})).map((function(e){return e.total}));e.setState({databaseSize:s})})),this._mpsMetricsSubscription=this._metricsService.subscribe(Re.MPSMetrics,(function(t){if(t){var s=e.state.mpsValues.slice(-40);s.push(t.new);var a=s[s.length-1].toString();a!==e.state.mps&&e.setState({mps:a}),e.setState({mpsValues:s})}}))}},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),He.unsubscribe("auth-state","header"),He.unsubscribe("online","header"),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),this._nodeStatusSubscription&&(this._metricsService.unsubscribe(this._nodeStatusSubscription),this._nodeStatusSubscription=void 0),this._databaseSizeSubscription&&(this._metricsService.unsubscribe(this._databaseSizeSubscription),this._databaseSizeSubscription=void 0),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0)}},{key:"render",value:function(){var e=this;return Object(mt.jsx)("header",{className:"header",children:Object(mt.jsx)("div",{className:"content",children:this.state.online&&Object(mt.jsxs)(l.a.Fragment,{children:[this.props.children,Object(mt.jsx)(kt,{compact:!0,onSearch:function(t){return e.props.history.push("/explorer/search/".concat(t))},className:"child child-fill"}),Object(mt.jsxs)(Ge,{size:"tablet",aboveBelow:"above",children:[Object(mt.jsx)(ft,{label:"Health",healthy:this.state.nodeHealth,className:"child"}),Object(mt.jsx)(ft,{label:"Sync",healthy:this.state.syncHealth,className:"child"})]}),Object(mt.jsxs)(Ge,{size:"desktop",aboveBelow:"above",children:[Object(mt.jsx)(gt,{label:"MPS",value:this.state.mps,values:this.state.mpsValues,className:"child"}),this.state.isLoggedIn&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(gt,{label:"Database",value:this.state.databaseSizeFormatted,values:this.state.databaseSize,className:"child"}),Object(mt.jsx)(gt,{label:"Memory",value:this.state.memorySizeFormatted,values:this.state.memorySize,className:"child"})]})]})]})})})}}]),s}(Ye),It=Object(g.g)(Ct),Mt=(s(100),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._themeService=void 0,a._themeService=Fe.a.get("theme"),a.state={logoSrc:"",isOpen:!1},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ze.getLogoNavigation(this._themeService.get());case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2),He.subscribe("theme","navmenu",function(){var e=Object(i.a)(r.a.mark((function e(s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,ze.getLogoNavigation(s);case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){He.unsubscribe("theme","navmenu")}},{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"nav-menu",onClick:function(){return e.state.isOpen&&e.setState({isOpen:!1})},children:[Object(mt.jsx)("button",{type:"button",onClick:function(){return e.setState({isOpen:!e.state.isOpen})},children:Object(mt.jsx)("img",{src:this.state.logoSrc,className:"logo"})}),this.state.isOpen&&Object(mt.jsx)("div",{className:"popup-container",children:this.props.children})]})}}]),s}(c.Component)),Tt=Object(g.g)(Mt),Et=(s(101),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._themeService=void 0,a._themeService=Fe.a.get("theme"),a.state={logoSrc:""},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ze.getLogoNavigation(this._themeService.get());case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2),He.subscribe("theme","navpanel",function(){var e=Object(i.a)(r.a.mark((function e(s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,ze.getLogoNavigation(s);case 3:e.t1=e.sent,e.t2={logoSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){He.unsubscribe("theme","navpanel")}},{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:st()("nav-panel",{"full-width":this.props.fullWidth}),children:[Object(mt.jsx)(u.b,{to:"/",children:Object(mt.jsx)("img",{src:this.state.logoSrc,className:"logo"})}),Object(mt.jsx)("div",{className:"nav-panel-middle",children:this.props.middle.map((function(t){return Object(mt.jsxs)(l.a.Fragment,{children:[!t.hidden&&t.route&&Object(mt.jsxs)(u.b,{to:t.route,className:st()("nav-panel--button",{"nav-panel--button__selected":t.route.length>1&&e.props.location.pathname.startsWith(t.route)||t.route===e.props.location.pathname}),children:[t.icon,Object(mt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]}),!t.hidden&&t.function&&Object(mt.jsxs)("button",{type:"button",onClick:function(){var e;return null===(e=t.function)||void 0===e?void 0:e.call(t)},className:st()("nav-panel--button"),children:[t.icon,Object(mt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]})]},t.label)}))}),Object(mt.jsx)("div",{className:"nav-panel-end",children:this.props.end.map((function(t){return Object(mt.jsxs)(l.a.Fragment,{children:[!t.hidden&&t.route&&Object(mt.jsxs)(u.b,{to:t.route,className:st()("nav-panel--button",{"nav-panel--button__selected":t.route.length>1&&e.props.location.pathname.startsWith(t.route)||t.route===e.props.location.pathname}),children:[t.icon,Object(mt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]}),!t.hidden&&t.function&&Object(mt.jsxs)("button",{type:"button",onClick:function(){var e;return null===(e=t.function)||void 0===e?void 0:e.call(t)},className:st()("nav-panel--button"),children:[t.icon,Object(mt.jsx)("span",{className:"nav-panel-button-label",children:t.label})]})]},t.label)}))})]})}}]),s}(c.Component)),Pt=Object(g.g)(Et),Lt=s(22),Dt=s(29),Bt=(s(105),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._graphElement=void 0,a._resize=void 0,a._graphElement=null,a._resize=function(){return a.resize()},a.state={},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this._resize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.series.length===e.series.length;if(t)for(var s=0;s<this.props.series.length&&(t=Dt.ArrayHelper.equal(this.props.series[s].values,e.series[s].values));s++);t||this.setState(this.calculateGraph())}},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._graphElement=null,window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){var e,t,s=this;return Object(mt.jsxs)("div",{className:st()("graph",this.props.className),children:[Object(mt.jsxs)("div",{className:"title-row",children:[Object(mt.jsx)("div",{className:"caption",children:this.props.caption}),Object(mt.jsx)("div",{className:"key",children:this.props.series.length>1&&this.props.series.map((function(e,t){return Object(mt.jsxs)("span",{className:"key",children:[Object(mt.jsx)("div",{className:st()("key-color",e.className)}),Object(mt.jsx)("span",{className:"key-label",children:e.label})]},t)}))})]}),Object(mt.jsx)("span",{className:"canvas",children:Object(mt.jsxs)("svg",{ref:function(e){return s.setElement(e)},children:[null===(e=this.state.paths)||void 0===e?void 0:e.map((function(e,t){return Object(mt.jsx)("path",{d:e.path,className:e.className,strokeWidth:1},t)})),null===(t=this.state.text)||void 0===t?void 0:t.map((function(e,t){var s;return Object(mt.jsx)("text",{x:e.x,y:e.y,textAnchor:null!==(s=e.anchor)&&void 0!==s?s:"start",className:"axis-label",children:e.content},t)}))]})})]})}},{key:"setElement",value:function(e){var t=this;setTimeout((function(){!t._graphElement&&e&&(t._graphElement=e,t.setState(t.calculateGraph()))}),100)}},{key:"resize",value:function(){this._graphElement&&this.setState(this.calculateGraph())}},{key:"calculateGraph",value:function(){var e=[],t=[],s=[];if(this._graphElement&&this.props.series.length>0){try{var a=this._graphElement.width.baseVal.value,i=this._graphElement.height.baseVal.value-20,n=this.props.seriesMaxLength;a<500&&(n/=2);for(var r=this.props.series.map((function(e){return e.values.slice(-n)})),c=0,l=Math.min(n,r[0].length),o=0;o<r.length;o++)for(var d=0;d<r[o].length;d++)r[o][d]>c&&(c=r[o][d]);0===c&&(c=4);for(var u=c<=2?2:0,h=.9*i/c,p=(a-30-10-10)/(n*this.props.series.length),b=i/3,v=0;v<4;v++)s.push({path:"M ".concat(30," ").concat(i-v*b," L ").concat(a," ").concat(i-v*b),className:"axis-color"}),t.push({x:25,y:i-v*b+2,anchor:"end",content:(v*(c/.9/3)).toFixed(u)});if(this.props.timeInterval&&this.props.endTime){var m,j=null!==(m=this.props.timeMarkers)&&void 0!==m?m:Math.floor(a/100);a<300&&(j=3);for(var f=this.props.endTime-l*this.props.timeInterval,g=n*this.props.timeInterval/j,O=0;O<=j;O++){var x=new Date(f+O*g);t.push({x:25+(a-10-10)/j*O,y:i+20,anchor:"middle",content:"".concat(x.getHours().toString().padStart(2,"0"),":").concat(x.getMinutes().toString().padStart(2,"0"),".").concat(x.getSeconds().toString().padStart(2,"0"))})}}for(var y=0;y<l;y++)for(var S=0;S<r.length;S++){var _=r[S][y];e.push({path:this.calculatePath(i,p,40,S+y*r.length,_*h),className:this.props.series[S].className})}}catch(N){}}return{text:t,paths:[].concat(s,Object(Lt.a)(e.reverse()))}}},{key:"calculatePath",value:function(e,t,s,a,i){var n=["M ".concat(s+a*t+2," ").concat(e)];return(n=[].concat(Object(Lt.a)(n),Object(Lt.a)(i<=0?["L ".concat(s+(a*t+2)," ").concat(e-1),"L ".concat(s+(a+1)*t-2," ").concat(e-1),"L ".concat(s+(a+1)*t-2," ").concat(e)]:["L ".concat(s+a*t+2," ").concat(e-i),"C ".concat(s+a*t+2," ").concat(e-i-10," ").concat(s+(a+1)*t-2," ").concat(e-i-10," ").concat(s+(a+1)*t-2," ").concat(e-i),"L ".concat(s+(a+1)*t-2," ").concat(e)]))).join(" ")}}]),s}(Ye)),At=(s(106),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={activeTab:e.activeTab.toLowerCase()},a}return Object(b.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.activeTab.toLowerCase()!==e.activeTab.toLowerCase()&&this.setState({activeTab:this.props.activeTab.toLowerCase()})}},{key:"render",value:function(){var e,t=this;return Object(mt.jsxs)("div",{className:"tab-panel",children:[Object(mt.jsx)("div",{className:"tab-panel--buttons",children:this.props.tabs.map((function(e){return Object(mt.jsxs)("button",{type:"button",className:st()("tab-panel--button",{"tab-panel--button__selected":e.toLowerCase()===t.state.activeTab}),onClick:function(s){return t.setState({activeTab:e.toLowerCase()},(function(){t.props.onTabChanged&&t.props.onTabChanged(t.state.activeTab)}))},children:[Object(mt.jsx)("div",{children:e}),Object(mt.jsx)("div",{className:"underline"})]},e)}))}),null===(e=this.props.children)||void 0===e?void 0:e.flat().map((function(e,s){return Object(mt.jsx)(l.a.Fragment,{children:l.a.isValidElement(e)&&e.props["data-label"]&&e.props["data-label"].toLowerCase()===t.state.activeTab&&e},s)}))]})}}]),s}(c.Component)),Rt=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"json",value:function(){var e=Object(i.a)(r.a.mark((function e(t,s,a,i,n,c){var l,o,d,u,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=null!==(l=n)&&void 0!==l?l:{})["Content-Type"]="application/json",void 0!==c&&(o=new AbortController,d=setTimeout((function(){o&&o.abort()}),c)),e.prev=3,e.next=6,fetch("".concat(t.replace(/\/$/,""),"/").concat(s.replace(/^\//,"")),{method:a,headers:n,body:i?JSON.stringify(i):void 0,signal:o?o.signal:void 0});case 6:if(204!==(u=e.sent).status){e.next=11;break}e.t0={},e.next=14;break;case 11:return e.next=13,u.json().catch((function(e){throw new Error("Fetched failed: ".concat(e.message))}));case 13:e.t0=e.sent;case 14:return h=e.t0,e.abrupt("return",h);case 18:if(e.prev=18,e.t1=e.catch(3),!(e.t1 instanceof Error)){e.next=24;break}throw"AbortError"===e.t1.name?new Error("Timeout"):e.t1;case 24:throw e.t1;case 25:return e.prev=25,d&&clearTimeout(d),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[3,18,25,28]])})));return function(t,s,a,i,n,r){return e.apply(this,arguments)}}()},{key:"text",value:function(){var e=Object(i.a)(r.a.mark((function e(t,s,a,i,n,c){var l,o,d,u,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=null!==(l=n)&&void 0!==l?l:{})["Content-Type"]="text/plain",void 0!==c&&(o=new AbortController,d=setTimeout((function(){o&&o.abort()}),c)),e.prev=3,e.next=6,fetch("".concat(t.replace(/\/$/,""),"/").concat(s.replace(/^\//,"")),{method:a,headers:n,body:i?JSON.stringify(i):void 0,signal:o?o.signal:void 0});case 6:if(204!==(u=e.sent).status){e.next=11;break}e.t0={},e.next=14;break;case 11:return e.next=13,u.json().catch((function(e){throw new Error("Fetched failed: ".concat(u.statusText))}));case 13:e.t0=e.sent;case 14:return h=e.t0,e.abrupt("return",h);case 18:if(e.prev=18,e.t1=e.catch(3),!(e.t1 instanceof Error)){e.next=24;break}throw"AbortError"===e.t1.name?new Error("Timeout"):e.t1;case 24:throw e.t1;case 25:return e.prev=25,d&&clearTimeout(d),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[3,18,25,28]])})));return function(t,s,a,i,n,r){return e.apply(this,arguments)}}()},{key:"urlParams",value:function(e){var t=[];for(var s in e)null!==e[s]&&void 0!==e[s]&&t.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(e[s])));return t.length>0?"?".concat(t.join("&")):""}}]),e}(),Ut=(s(107),["title","titleId"]);function Ft(){return Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ft.apply(this,arguments)}function Ht(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function zt(e,t){var s=e.title,a=e.titleId,i=Ht(e,Ut);return c.createElement("svg",Ft({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,_t||(_t=c.createElement("g",{filter:"url(#filter0_d)"},c.createElement("circle",{cx:14,cy:14,r:12,fill:"currentColor"}))),Nt||(Nt=c.createElement("defs",null,c.createElement("filter",{id:"filter0_d",x:0,y:0,width:28,height:28,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),c.createElement("feOffset",{dy:1}),c.createElement("feGaussianBlur",{stdDeviation:1}),c.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.375 0 0 0 0 0.375 0 0 0 0 0.375 0 0 0 0.25 0"}),c.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),c.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))}var Vt=c.forwardRef(zt),Yt=(s.p,function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={value:e.value},a}return Object(b.a)(s,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"render",value:function(){var e=this;return Object(mt.jsx)("button",{type:"button",className:st()("toggle-button",{"toggle-button--checked":this.state.value}),onClick:function(t){return e.setState({value:!e.state.value},(function(){e.props.onChanged(e.state.value)}))},children:Object(mt.jsx)("div",{className:"icon-container",children:Object(mt.jsx)(Vt,{})})})}}]),s}(c.Component)),Wt=(s(108),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={isRunning:!1,mps:"1",cpu:"80",workers:"0",workersMax:0},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.pluginStatus();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(mt.jsx)("div",{className:"card padding-l",children:Object(mt.jsxs)("div",{className:"spammer",children:[Object(mt.jsx)("h2",{children:s.PLUGIN_TITLE}),Object(mt.jsx)("p",{className:"margin-t-s",children:s.PLUGIN_DESCRIPTION}),Object(mt.jsx)("div",{className:"card--label",children:"Running"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)(Yt,{value:this.state.isRunning,onChanged:function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s?e.pluginStart():e.pluginStop();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),Object(mt.jsx)("h2",{className:"margin-t-s",children:"Settings"}),Object(mt.jsx)("div",{className:"card--label",children:"Messages Per Second"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("input",{type:"text",value:this.state.mps,disabled:!this.state.isRunning,onChange:function(t){return e.setState({mps:t.target.value})},onBlur:function(t){return e.validateSettings()}})}),Object(mt.jsx)("div",{className:"card--label",children:"CPU Utilization"}),Object(mt.jsxs)("div",{className:"card--value row middle",children:[Object(mt.jsx)("input",{type:"text",value:this.state.cpu,disabled:!this.state.isRunning,onChange:function(t){return e.setState({cpu:t.target.value})},onBlur:function(t){return e.validateSettings()}}),Object(mt.jsx)("p",{className:"margin-l-t",children:"%"})]}),Object(mt.jsx)("div",{className:"card--label",children:"Number of Workers"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("input",{type:"text",value:this.state.workers,disabled:!this.state.isRunning,onChange:function(t){return e.setState({workers:t.target.value})},onBlur:function(t){return e.validateSettings()}})}),Object(mt.jsx)("hr",{}),Object(mt.jsx)("div",{className:"card--value",children:Object(mt.jsx)("button",{className:"card--action margin-r-s",type:"button",disabled:!this.state.isRunning,onClick:function(){var t=Object(i.a)(r.a.mark((function t(s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.pluginStart());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Apply"})})]})})}},{key:"pluginStatus",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/v1/status","get",void 0,s.buildAuthHeaders());case 3:(t=e.sent).data?this.setState({isRunning:t.data.running,mps:t.data.mpsRateLimit.toString(),cpu:(100*t.data.cpuMaxUsage).toString(),workers:t.data.spammerWorkers.toString(),workersMax:t.data.spammerWorkersMax}):console.log(t.error),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"validateSettings",value:function(){var e=Number.parseFloat(this.state.mps);Number.isNaN(e)&&this.setState({mps:"1"});var t=Number.parseFloat(this.state.cpu);(Number.isNaN(t)||t<0||t>100)&&this.setState({cpu:"80"});var s=Number.parseInt(this.state.workers,10);(Number.isNaN(s)||s<=0||s>this.state.workersMax)&&this.setState({workers:this.state.workersMax.toString()})}},{key:"pluginStart",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/start","post",{mpsRateLimit:Number.parseFloat(this.state.mps),cpuMaxUsage:Number.parseFloat(this.state.cpu)/100,spammerWorkers:Number.parseInt(this.state.workers,10)},s.buildAuthHeaders());case 3:return e.next=5,this.pluginStatus();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"pluginStop",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/spammer/stop","post",void 0,s.buildAuthHeaders());case 3:return e.next=5,this.pluginStatus();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"initPlugin",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s._isAvailable=!1,t=Fe.a.get("tangle"),e.prev=2,e.next=5,t.info();case 5:e.sent.plugins.includes("spammer/v1")&&(s._isAvailable=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"pluginDetails",value:function(){if(s._isAvailable)return{title:s.PLUGIN_TITLE,description:s.PLUGIN_DESCRIPTION,settings:Object(mt.jsx)(s,{})}}},{key:"buildAuthHeaders",value:function(){var e=Fe.a.get("auth"),t={},s=e.isLoggedIn();s&&(t.Authorization="Bearer ".concat(s));var a=e.csrf();return a&&(t["X-CSRF-Token"]=a),t}}]),s}(Ye));Wt.PLUGIN_TITLE="Spammer",Wt.PLUGIN_DESCRIPTION="Spam the IOTA network with data messages.",Wt._isAvailable=!1;var Kt=Wt,qt=(s(109),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a,i;Object(p.a)(this,s),(i=t.call(this,e))._metricsService=void 0,i._mpsMetricsSubscription=void 0,i._confirmedMsMetricsSubscription=void 0,i._statusSubscription=void 0,i._databaseSizeSubscription=void 0,i._spamAvgSubscription=void 0,i._spamSubscription=void 0,i._authService=void 0,i._metricsService=Fe.a.get("metrics"),i._authService=Fe.a.get("auth");var n=Boolean(Kt.pluginDetails());return i.state={tabs:i.calculateTabs(n),activeTab:null!==(a=i.props.match.params.section)&&void 0!==a?a:"tangle",mpsIncoming:[],mpsOutgoing:[],lastReceivedMpsTime:0,averageMilestoneTime:0,lastMsReceivedTime:0,milestoneTiming:[],mps:[],rmps:[],lastStatusReceivedTime:0,lastDbInterval:1e3,memorySize:[],lastStatusInterval:1e3,lastDbReceivedTime:0,databaseSize:[],isSpammerAvailable:n,lastSpamAvgReceivedTime:0,spamNewMsgs:[],spamAvgMsgs:[],lastSpamReceivedTime:0,lastSpamInterval:0,lastSpamIntervals:[],tipSelection:[],pow:[],requestQueue:{queued:[],pending:[],processing:[],averageLatency:[]},memory:{stackAlloc:[],heapReleased:[],heapInUse:[],heapIdle:[],heapSys:[],totalAlloc:[]},caches:{requestQueue:[],children:[],milestones:[],messages:[],incomingMessageWorkUnits:[]}},i}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),this._mpsMetricsSubscription=this._metricsService.subscribe(Re.MPSMetrics,void 0,(function(e){var s=e.filter((function(e){return void 0!==e&&null!==e}));t.setState({lastReceivedMpsTime:Date.now(),mpsIncoming:s.map((function(e){return e.incoming})),mpsOutgoing:s.map((function(e){return e.outgoing}))})})),this._confirmedMsMetricsSubscription=this._metricsService.subscribe(Re.ConfirmedMsMetrics,void 0,(function(e){for(var s=e.filter((function(e){return void 0!==e&&null!==e})),a=0,i=0;i<s.length;i++)a+=s[i].time_since_last_ms;t.setState({averageMilestoneTime:a/s.length*1e3,lastMsReceivedTime:Date.now(),milestoneTiming:s.map((function(e){return e.time_since_last_ms})),mps:s.map((function(e){return e.mps*e.time_since_last_ms})),rmps:s.map((function(e){return e.rmps*e.time_since_last_ms}))})})),this._statusSubscription=this._metricsService.subscribe(Re.NodeStatus,void 0,(function(e){var a=e.filter((function(e){return void 0!==e&&null!==e}));if(t.setState({memorySize:a.map((function(e){return Ze.calculateMemoryUsage(e)/s.BYTES_PER_MIB})),lastStatusReceivedTime:Date.now(),lastStatusInterval:0===t.state.lastStatusReceivedTime?1e3:Date.now()-t.state.lastStatusReceivedTime}),a.length>0){var i=a[a.length-1],n={newMessages:i.server_metrics.new_msgs,knownMessages:i.server_metrics.known_msgs,receivedMessages:i.server_metrics.known_msgs+i.server_metrics.new_msgs,receivedMessageRequests:i.server_metrics.rec_msg_req,receivedMilestoneRequests:i.server_metrics.rec_ms_req,receivedHeartbeats:i.server_metrics.rec_heartbeat,sentMessages:i.server_metrics.sent_msgs,sentMessageRequests:i.server_metrics.sent_msg_req,sentMilestoneRequests:i.server_metrics.sent_ms_req,sentHeartbeats:i.server_metrics.sent_heartbeat,droppedPackets:i.server_metrics.dropped_sent_packets};t.setState({gossipMetrics:n})}t.setState({requestQueue:{queued:a.map((function(e){return e.request_queue_queued})),pending:a.map((function(e){return e.request_queue_pending})),processing:a.map((function(e){return e.request_queue_processing})),averageLatency:a.map((function(e){return e.request_queue_avg_latency}))}}),t.setState({memory:{stackAlloc:a.map((function(e){return e.mem.stack_sys/s.BYTES_PER_MIB})),heapReleased:a.map((function(e){return e.mem.heap_released/s.BYTES_PER_MIB})),heapInUse:a.map((function(e){return e.mem.heap_inuse/s.BYTES_PER_MIB})),heapIdle:a.map((function(e){return e.mem.heap_idle/s.BYTES_PER_MIB})),heapSys:a.map((function(e){return e.mem.heap_sys/s.BYTES_PER_MIB})),totalAlloc:a.map((function(e){return e.mem.sys/s.BYTES_PER_MIB}))}}),t.setState({caches:{requestQueue:a.map((function(e){return e.caches.request_queue.size})),children:a.map((function(e){return e.caches.children.size})),milestones:a.map((function(e){return e.caches.milestones.size})),messages:a.map((function(e){return e.caches.messages.size})),incomingMessageWorkUnits:a.map((function(e){return e.caches.incoming_message_work_units.size}))}})})),this._databaseSizeSubscription=this._metricsService.subscribe(Re.DBSizeMetric,void 0,(function(e){var a=e.filter((function(e){return void 0!==e&&null!==e}));t.setState({databaseSize:a.map((function(e){return e.total/s.BYTES_PER_MB})),lastDbReceivedTime:Date.now(),lastDbInterval:0===t.state.lastDbReceivedTime?6e4:Date.now()-t.state.lastDbReceivedTime})})),this._spamSubscription=this._metricsService.subscribe(Re.SpamMetrics,void 0,(function(e){var s=e.filter((function(e){return void 0!==e&&null!==e})),a=0===t.state.lastSpamReceivedTime?100:Date.now()-t.state.lastSpamReceivedTime,i=t.state.lastSpamIntervals.slice();i.push(a);for(var n=0,r=0;r<i.length;r++)n+=i[r];n/=i.length,t.setState({tipSelection:s.map((function(e){return 1e6*e.tipselect})),pow:s.map((function(e){return e.pow})),lastSpamReceivedTime:Date.now(),lastSpamInterval:n,lastSpamIntervals:i})})),this._spamAvgSubscription=this._metricsService.subscribe(Re.AvgSpamMetrics,void 0,(function(e){var s=e.filter((function(e){return void 0!==e&&null!==e}));t.setState({spamNewMsgs:s.map((function(e){return e.newMsgs})),spamAvgMsgs:s.map((function(e){return e.avgMsgs})),lastSpamAvgReceivedTime:Date.now()})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0),this._confirmedMsMetricsSubscription&&(this._metricsService.unsubscribe(this._confirmedMsMetricsSubscription),this._confirmedMsMetricsSubscription=void 0),this._statusSubscription&&(this._metricsService.unsubscribe(this._statusSubscription),this._statusSubscription=void 0),this._databaseSizeSubscription&&(this._metricsService.unsubscribe(this._databaseSizeSubscription),this._databaseSizeSubscription=void 0),this._spamAvgSubscription&&(this._metricsService.unsubscribe(this._spamAvgSubscription),this._spamAvgSubscription=void 0),this._spamSubscription&&(this._metricsService.unsubscribe(this._spamSubscription),this._spamSubscription=void 0)}},{key:"render",value:function(){var e,t,s,a,i,n,r,c,l,o,d,u,h,p,b,v,m,j,f,g,O,x,y=this;return Object(mt.jsx)("div",{className:"analytics",children:Object(mt.jsx)("div",{className:"content",children:Object(mt.jsxs)(At,{tabs:this.state.tabs,activeTab:this.state.activeTab,onTabChanged:function(e){y.props.history.replace("/analytics/".concat(e.toLowerCase()))},children:[Object(mt.jsxs)("div",{"data-label":"Tangle",className:"fill",children:[this.state.gossipMetrics&&Object(mt.jsx)("div",{className:"card messages-graph-panel margin-t-s fill",children:Object(mt.jsxs)("div",{className:"row wrap gossip",children:[Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Known Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(e=null===(t=this.state.gossipMetrics)||void 0===t?void 0:t.knownMessages)&&void 0!==e?e:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"New Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(s=null===(a=this.state.gossipMetrics)||void 0===a?void 0:a.newMessages)&&void 0!==s?s:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(i=null===(n=this.state.gossipMetrics)||void 0===n?void 0:n.receivedMessages)&&void 0!==i?i:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(r=null===(c=this.state.gossipMetrics)||void 0===c?void 0:c.sentMessages)&&void 0!==r?r:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Message Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(l=null===(o=this.state.gossipMetrics)||void 0===o?void 0:o.receivedMessageRequests)&&void 0!==l?l:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Message Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(d=null===(u=this.state.gossipMetrics)||void 0===u?void 0:u.sentMessageRequests)&&void 0!==d?d:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Heartbeats"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(h=null===(p=this.state.gossipMetrics)||void 0===p?void 0:p.receivedHeartbeats)&&void 0!==h?h:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Heartbeats"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(b=null===(v=this.state.gossipMetrics)||void 0===v?void 0:v.sentHeartbeats)&&void 0!==b?b:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Milestone Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(m=null===(j=this.state.gossipMetrics)||void 0===j?void 0:j.receivedMilestoneRequests)&&void 0!==m?m:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Milestone Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(f=null===(g=this.state.gossipMetrics)||void 0===g?void 0:g.sentMilestoneRequests)&&void 0!==f?f:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Dropped Packets"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(O=null===(x=this.state.gossipMetrics)||void 0===x?void 0:x.droppedPackets)&&void 0!==O?O:"-"})]})]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Messages Per Second",seriesMaxLength:30,timeInterval:1e3,endTime:this.state.lastReceivedMpsTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.mpsIncoming},{className:"bar-color-2",label:"Outgoing",values:this.state.mpsOutgoing}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Messages Per Milestone",seriesMaxLength:30,timeInterval:this.state.averageMilestoneTime,endTime:this.state.lastMsReceivedTime,series:[{className:"bar-color-1",label:"Messages",values:this.state.mps},{className:"bar-color-2",label:"Referenced Messages",values:this.state.rmps}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Time Between Milestones",seriesMaxLength:60,timeInterval:this.state.averageMilestoneTime,endTime:this.state.lastMsReceivedTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.milestoneTiming}]})})]}),Object(mt.jsxs)("div",{"data-label":"Node",className:"fill",children:[Object(mt.jsx)("div",{className:"card fill",children:Object(mt.jsx)(Bt,{caption:"Database (MB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Size",values:this.state.databaseSize}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Memory (MiB)",seriesMaxLength:60,endTime:this.state.lastDbReceivedTime,timeInterval:this.state.lastDbInterval,series:[{className:"bar-color-1",label:"Memory",values:this.state.memorySize}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Request Queue",seriesMaxLength:30,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Queued",values:this.state.requestQueue.queued},{className:"bar-color-2",label:"Pending",values:this.state.requestQueue.pending},{className:"bar-color-3",label:"Processing",values:this.state.requestQueue.processing},{className:"bar-color-4",label:"Latency",values:this.state.requestQueue.averageLatency}]})})]}),Object(mt.jsxs)("div",{"data-label":"Memory",className:"fill",children:[Object(mt.jsx)("div",{className:"card fill",children:Object(mt.jsx)(Bt,{caption:"Stack Alloc (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Stack Alloc",values:this.state.memory.stackAlloc}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Heap In Use (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-2",label:"Heap In Use",values:this.state.memory.heapInUse}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Heap Released (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-3",label:"Heap Released",values:this.state.memory.heapReleased}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Heap Idle (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-4",label:"Heap Idle",values:this.state.memory.heapIdle}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Heap Sys (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Heap Sys",values:this.state.memory.heapSys}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Total Alloc (MiB)",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-2",label:"Total Alloc",values:this.state.memory.totalAlloc}]})})]}),Object(mt.jsxs)("div",{"data-label":"Caches",className:"fill",children:[Object(mt.jsx)("div",{className:"card fill",children:Object(mt.jsx)(Bt,{caption:"Request Queue",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Request Queue",values:this.state.caches.requestQueue}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Children",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-2",label:"Children",values:this.state.caches.children}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Milestones",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-3",label:"Milestones",values:this.state.caches.milestones}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Messages",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-4",label:"Messages",values:this.state.caches.messages}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Incoming Message Work Units",seriesMaxLength:60,endTime:this.state.lastStatusReceivedTime,timeInterval:this.state.lastStatusInterval,series:[{className:"bar-color-1",label:"Incoming Message Work Units",values:this.state.caches.incomingMessageWorkUnits}]})})]}),this.state.isSpammerAvailable&&Object(mt.jsxs)("div",{"data-label":"Spammer",className:"fill",children:[Object(mt.jsx)("div",{className:"card fill",children:Object(mt.jsx)(Bt,{caption:"Tip Selection Duration Micro-Seconds",seriesMaxLength:60,timeInterval:this.state.lastSpamInterval,endTime:this.state.lastSpamReceivedTime,series:[{className:"bar-color-1",label:"Tip Time",values:this.state.tipSelection}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"PoW Duration Seconds",seriesMaxLength:60,timeInterval:this.state.lastSpamInterval,endTime:this.state.lastSpamReceivedTime,series:[{className:"bar-color-2",label:"PoW Time",values:this.state.pow}]})}),Object(mt.jsx)("div",{className:"card fill margin-t-s",children:Object(mt.jsx)(Bt,{caption:"Spam Messages",seriesMaxLength:30,endTime:this.state.lastSpamAvgReceivedTime,timeInterval:1e3,series:[{className:"bar-color-1",label:"New Messages",values:this.state.spamNewMsgs},{className:"bar-color-2",label:"Average Messages",values:this.state.spamAvgMsgs}]})})]}),this._authService.isLoggedIn()&&Object(mt.jsx)("div",{className:"fill",children:Object(mt.jsx)("p",{children:"What should we show for the log?"})})]})})})}},{key:"calculateTabs",value:function(e){var t=["Tangle","Node","Memory","Caches"];return e&&t.push("Spammer"),t}}]),s}(Ye));qt.BYTES_PER_MB=1e6,qt.BYTES_PER_MIB=1048576;var Gt,Zt=Object(g.g)(qt),Jt=["title","titleId"];function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qt.apply(this,arguments)}function Xt(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function $t(e,t){var s=e.title,a=e.titleId,i=Xt(e,Jt);return c.createElement("svg",Qt({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Gt||(Gt=c.createElement("path",{d:"M7.6569 5.62329C7.03439 7.02356 5.63123 8 4 8C1.79086 8 0 6.20914 0 4C0 1.79086 1.79086 0 4 0C6.09134 0 7.80782 1.60496 7.98493 3.65037L12.3431 4.37673C12.9656 2.97645 14.3688 2 16 2C18.2091 2 20 3.79086 20 6C20 8.20914 18.2091 10 16 10C14.9749 10 14.04 9.61443 13.3321 8.9804L7.77815 12.6831C7.88518 12.9902 7.95583 13.3143 7.98493 13.6504L12.3431 14.3767C12.9656 12.9764 14.3688 12 16 12C18.2091 12 20 13.7909 20 16C20 18.2091 18.2091 20 16 20C13.9087 20 12.1922 18.3951 12.0151 16.3497L7.6569 15.6233C7.03439 17.0236 5.63123 18 4 18C1.79086 18 0 16.2091 0 14C0 11.7909 1.79086 10 4 10C5.02504 10 5.96002 10.3856 6.66784 11.0196L12.2218 7.3169C12.1148 7.00981 12.0442 6.68568 12.0151 6.34965L7.6569 5.62329Z",fill:"#666AF6"})))}var es,ts=c.forwardRef($t),ss=(s.p,["title","titleId"]);function as(){return as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},as.apply(this,arguments)}function is(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function ns(e,t){var s=e.title,a=e.titleId,i=is(e,ss);return c.createElement("svg",as({width:22,height:26,viewBox:"0 0 22 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,es||(es=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 0C0.671573 0 0 0.671572 0 1.5V24.5C0 25.3284 0.671573 26 1.5 26C2.32843 26 3 25.3284 3 24.5V17H19C20.6569 17 22 15.6569 22 14V5C22 3.34315 20.6569 2 19 2H3V1.5C3 0.671573 2.32843 0 1.5 0Z",fill:"#16E1D5"})))}var rs,cs=c.forwardRef(ns),ls=(s.p,["title","titleId"]);function os(){return os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},os.apply(this,arguments)}function ds(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function us(e,t){var s=e.title,a=e.titleId,i=ds(e,ls);return c.createElement("svg",os({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,rs||(rs=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26ZM12 5C12 4.44772 12.4477 4 13 4C13.5523 4 14 4.44772 14 5V12H19C19.5523 12 20 12.4477 20 13C20 13.5523 19.5523 14 19 14H13C12.4477 14 12 13.5523 12 13V5Z",fill:"#4CAAFF"})))}var hs,ps=c.forwardRef(us),bs=(s.p,s(110),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){var e;return Object(mt.jsxs)("div",{className:st()("card","info-panel",this.props.className),children:[Object(mt.jsxs)("div",{className:"icon-container",children:[Object(mt.jsx)("div",{className:"icon-background icon-background--".concat(this.props.backgroundStyle)}),this.props.icon]}),Object(mt.jsxs)("div",{className:"col info--labels",children:[Object(mt.jsx)("h4",{children:this.props.caption}),Object(mt.jsx)("div",{className:"value",children:null!==(e=this.props.value)&&void 0!==e?e:"-"})]})]})}}]),s}(c.Component)),vs=bs,ms=(s(111),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._metricsService=void 0,a._milestonesSubscription=void 0,a._confirmedMsMetricsSubscription=void 0,a._metricsService=Fe.a.get("metrics"),a.state={milestones:[],mps:"-",rmps:"-",referencedRate:"-"},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),this._milestonesSubscription=this._metricsService.subscribe(Re.Ms,void 0,(function(t){var s=t.filter((function(e){return void 0!==e&&null!==e}));e.setState({milestones:s.map((function(e){return{index:e.index,messageId:e.messageID}})).sort((function(e,t){return t.index-e.index})).slice(0,10)})})),this._confirmedMsMetricsSubscription=this._metricsService.subscribe(Re.ConfirmedMsMetrics,(function(t){t&&e.setState({mps:t.mps.toFixed(1).toString(),rmps:t.rmps.toFixed(1).toString(),referencedRate:"".concat(t.referenced_rate.toFixed(1).toString(),"%")})}))}},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._milestonesSubscription&&(this._metricsService.unsubscribe(this._milestonesSubscription),this._milestonesSubscription=void 0),this._confirmedMsMetricsSubscription&&(this._metricsService.unsubscribe(this._confirmedMsMetricsSubscription),this._confirmedMsMetricsSubscription=void 0)}},{key:"render",value:function(){var e=this;return Object(mt.jsx)("div",{className:"explorer",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsx)("h2",{children:"Explorer"}),Object(mt.jsx)("div",{className:"card search-panel",children:Object(mt.jsx)(kt,{compact:!1,onSearch:function(t){return e.props.history.push("/explorer/search/".concat(t))}})}),Object(mt.jsxs)("div",{className:"row tablet-down-column info margin-t-s",children:[Object(mt.jsx)(vs,{caption:"Messages per Second",value:this.state.mps,icon:Object(mt.jsx)(cs,{}),backgroundStyle:"green"}),Object(mt.jsx)(vs,{caption:"Referenced Messages per Second",value:this.state.rmps,icon:Object(mt.jsx)(ps,{}),backgroundStyle:"blue"}),Object(mt.jsx)(vs,{caption:"Referenced Rate",value:this.state.referencedRate,icon:Object(mt.jsx)(ts,{}),backgroundStyle:"purple"})]}),Object(mt.jsxs)("div",{className:"card milestones-panel margin-t-s",children:[Object(mt.jsx)("h4",{className:"margin-b-l",children:"Latest Milestones"}),0===this.state.milestones.length&&Object(mt.jsx)("p",{className:"margin-t-s",children:"There are no milestones."}),this.state.milestones.map((function(e,t){return Object(mt.jsxs)("div",{className:"milestones-panel--milestone",children:[Object(mt.jsx)("div",{className:"index",children:e.index}),Object(mt.jsx)(u.b,{to:"/explorer/message/".concat(e.messageId),children:e.messageId})]},t)}))]})]})})}}]),s}(Ye)),js=Object(g.g)(ms),fs=s(15),gs=s(5),Os=["title","titleId"];function xs(){return xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xs.apply(this,arguments)}function ys(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ss(e,t){var s=e.title,a=e.titleId,i=ys(e,Os);return c.createElement("svg",xs({width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,hs||(hs=c.createElement("path",{d:"M2.51794 6.98708L7.68154 12.1921C7.78117 12.2891 7.86064 12.4052 7.91531 12.5334C7.96998 12.6617 7.99876 12.7997 7.99996 12.9393C8.00116 13.079 7.97477 13.2174 7.92232 13.3467C7.86987 13.4759 7.79241 13.5933 7.69447 13.692C7.59652 13.7907 7.48005 13.8688 7.35185 13.9217C7.22365 13.9746 7.08629 14.0012 6.94778 14C6.80928 13.9987 6.67239 13.9697 6.54513 13.9146C6.41786 13.8595 6.30275 13.7794 6.20652 13.679L0.30542 7.73051C0.10986 7.53332 0 7.26591 0 6.98708C0 6.70825 0.10986 6.44084 0.30542 6.24365L6.20652 0.295175C6.40326 0.103632 6.66677 -0.00235606 6.94028 3.97504e-05C7.21379 0.00243556 7.47542 0.113023 7.66883 0.307985C7.86224 0.502946 7.97195 0.766681 7.97432 1.04239C7.9767 1.31809 7.87156 1.58371 7.68154 1.78203L2.51794 6.98708Z",fill:"currentColor"})))}var _s,Ns,ws=c.forwardRef(Ss),ks=(s.p,s(13)),Cs=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"buildAddress",value:function(t,s){var a,i,n;if(gs.Bech32Helper.matches(t,s))try{var r=gs.Bech32Helper.fromBech32(t,s);r&&(a=t,n=r.addressType,i=ks.Converter.bytesToHex(r.addressBytes))}catch(c){}return a||(i=t,n=gs.ED25519_ADDRESS_TYPE,a=gs.Bech32Helper.toBech32(gs.ED25519_ADDRESS_TYPE,ks.Converter.hexToBytes(i),s)),{bech32:a,hex:i,type:n,typeLabel:e.typeLabel(n)}}},{key:"typeLabel",value:function(e){if(e===gs.ED25519_ADDRESS_TYPE)return"Ed25519"}}]),e}(),Is=(s(125),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsx)("div",{className:st()("spinner",{"spinner--compact":this.props.compact})})}}]),s}(c.Component)),Ms=Is,Ts=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"copy",value:function(e){if(void 0===e||null===e)return!1;try{var t=document.createElement("textarea");t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style.left="-9999px";var s=window.pageYOffset||document.documentElement.scrollTop;return t.style.top="".concat(s,"px"),t.setAttribute("readonly",""),t.value=e,document.body.append(t),t.select(),document.execCommand("Copy"),t.remove(),!0}catch(a){return!1}}}]),e}(),Es=["title","titleId"];function Ps(){return Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ps.apply(this,arguments)}function Ls(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ds(e,t){var s=e.title,a=e.titleId,i=Ls(e,Es);return c.createElement("svg",Ps({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,_s||(_s=c.createElement("path",{d:"M 9 1 L 16 1 C 16.552 1 17 1.448 17 2 L 17 9 C 17 9.552 16.552 10 16 10 L 9 10 C 8.448 10 8 9.552 8 9 L 8 2 C 8 1.448 8.448 1 9 1 Z",stroke:"currentColor",strokeWidth:2})),Ns||(Ns=c.createElement("path",{d:" M 5.125 6 L 4 6 C 2.895 6 2 6.895 2 8 L 2 14 C 2 15.105 2.895 16 4 16 L 10 16 C 11.105 16 12 15.105 12 14 L 12 12.875",stroke:"currentColor",strokeWidth:2})))}var Bs,As=c.forwardRef(Ds),Rs=(s.p,s(126),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={active:!1,message:"copy"===e.buttonType?"Copied":""},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"message-button",children:[Object(mt.jsx)("button",{type:"button",className:st()("message-button-btn",{"message-button-btn--active":this.state.active}),onClick:function(){return e.activate()},children:"copy"===this.props.buttonType&&Object(mt.jsx)(As,{})}),this.state.active&&this.state.message&&Object(mt.jsx)("span",{className:st()("message-button--message",{"message-button--message--right":"right"===this.props.labelPosition},{"message-button--message--top":"top"===this.props.labelPosition}),children:this.state.message})]})}},{key:"activate",value:function(){var e=this;this.props.onClick(),this.setState({active:!0}),setTimeout((function(){e.setState({active:!1})}),2e3)}}]),s}(c.Component)),Us=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){var e,t,s,a,i,n,r,c=this;return Object(mt.jsxs)("div",{className:"bech32-address",children:[(null===(e=this.props.addressDetails)||void 0===e?void 0:e.bech32)&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Address"}),Object(mt.jsxs)("div",{className:"card--value card--value__mono row",children:[this.props.activeLinks&&Object(mt.jsx)(u.b,{className:"margin-r-t",to:"/explorer/address/".concat(null===(t=this.props.addressDetails)||void 0===t?void 0:t.bech32),children:this.props.addressDetails.bech32}),!this.props.activeLinks&&Object(mt.jsx)("span",{className:"margin-r-t",children:this.props.addressDetails.bech32}),Object(mt.jsx)(Rs,{onClick:function(){var e;return Ts.copy(null===(e=c.props.addressDetails)||void 0===e?void 0:e.bech32)},buttonType:"copy",labelPosition:"top"})]})]}),(null===(s=this.props.addressDetails)||void 0===s?void 0:s.typeLabel)&&(null===(a=this.props.addressDetails)||void 0===a?void 0:a.hex)&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("div",{className:"card--label",children:[this.props.addressDetails.typeLabel," Address"]}),Object(mt.jsxs)("div",{className:"card--value card--value__mono row",children:[this.props.activeLinks&&Object(mt.jsx)(u.b,{className:"margin-r-t",to:"/explorer/address/".concat(null===(i=this.props.addressDetails)||void 0===i?void 0:i.hex),children:null===(n=this.props.addressDetails)||void 0===n?void 0:n.hex}),!this.props.activeLinks&&Object(mt.jsx)("span",{className:"margin-r-t",children:null===(r=this.props.addressDetails)||void 0===r?void 0:r.hex}),Object(mt.jsx)(Rs,{onClick:function(){var e;return Ts.copy(null===(e=c.props.addressDetails)||void 0===e?void 0:e.hex)},buttonType:"copy",labelPosition:"top"})]})]})]})}}]),s}(c.Component),Fs=Us,Hs=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"getAddressTypeName",value:function(e){return e===gs.ED25519_ADDRESS_TYPE?"Ed25519 address":e===gs.ALIAS_ADDRESS_TYPE?"Alias address":e===gs.NFT_ADDRESS_TYPE?"NFT address":"Unknown Address Type"}},{key:"getInputTypeName",value:function(e){return e===gs.UTXO_INPUT_TYPE?"UTXO Input":e===gs.TREASURY_INPUT_TYPE?"Treasury Input":"Unknown Input"}},{key:"getOutputTypeName",value:function(e){return e===gs.BASIC_OUTPUT_TYPE?"Basic Output":e===gs.ALIAS_OUTPUT_TYPE?"Alias Output":e===gs.NFT_OUTPUT_TYPE?"Nft Output":e===gs.FOUNDRY_OUTPUT_TYPE?"Foundry Output":e===gs.TREASURY_OUTPUT_TYPE?"Treasury Output":"Unknown Output"}},{key:"getUnlockBlockTypeName",value:function(e){return e===gs.SIGNATURE_UNLOCK_BLOCK_TYPE?"Signature Unlock Block":e===gs.REFERENCE_UNLOCK_BLOCK_TYPE?"Reference Unlock Block":e===gs.ALIAS_UNLOCK_BLOCK_TYPE?"Alias Unlock Block":e===gs.NFT_UNLOCK_BLOCK_TYPE?"Nft Unlock Block":"Unknown Unlock Block"}},{key:"getUnlockConditionTypeName",value:function(e){return e===gs.ADDRESS_UNLOCK_CONDITION_TYPE?"Address Unlock Condition":e===gs.STORAGE_DEPOSIT_RETURN_UNLOCK_CONDITION_TYPE?"Storage Desposit Return Unlock Condition":e===gs.TIMELOCK_UNLOCK_CONDITION_TYPE?"Timelock Unlock Condition":e===gs.EXPIRATION_UNLOCK_CONDITION_TYPE?"Expiration Unlock Condition":e===gs.STATE_CONTROLLER_ADDRESS_UNLOCK_CONDITION_TYPE?"State Controller Address Unlock Condition":e===gs.GOVERNOR_ADDRESS_UNLOCK_CONDITION_TYPE?"Governor Unlock Condition":e===gs.IMMUTABLE_ALIAS_UNLOCK_CONDITION_TYPE?"Immutable Alias Unlock Condition":"Unknown Unlock Condition"}},{key:"getFeatureBlockTypeName",value:function(e){return e===gs.SENDER_FEATURE_BLOCK_TYPE?"Sender Feature Block":e===gs.ISSUER_FEATURE_BLOCK_TYPE?"Issuer Feature Block":e===gs.METADATA_FEATURE_BLOCK_TYPE?"Metadata Feature Block":e===gs.TAG_FEATURE_BLOCK_TYPE?"Tag Feature Block":"Unknown Feature Block"}}]),e}(),zs=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsxs)("div",{className:"address-type",children:[this.props.address.type===gs.ED25519_ADDRESS_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Public key hash:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.address.pubKeyHash})]}),this.props.address.type===gs.ALIAS_ADDRESS_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Alias Id:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.address.aliasId})]}),this.props.address.type===gs.NFT_ADDRESS_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Nft Id:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.address.nftId})]})]})}}]),s}(c.Component),Vs=zs,Ys=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsxs)("div",{className:"feature-block padding-t-s",children:[Object(mt.jsx)("h3",{children:Hs.getFeatureBlockTypeName(this.props.featureBlock.type)}),this.props.featureBlock.type===gs.SENDER_FEATURE_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Address"}),Object(mt.jsx)(Vs,{address:this.props.featureBlock.address})]}),this.props.featureBlock.type===gs.ISSUER_FEATURE_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Address"}),Object(mt.jsx)(Vs,{address:this.props.featureBlock.address})]}),this.props.featureBlock.type===gs.METADATA_FEATURE_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Data:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.featureBlock.data})]}),this.props.featureBlock.type===gs.TAG_FEATURE_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Tag:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.featureBlock.tag})]})]})}}]),s}(c.Component),Ws=Ys,Ks=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsxs)("div",{className:"unlock-condition padding-t-s",children:[Object(mt.jsx)("h3",{children:Hs.getUnlockConditionTypeName(this.props.unlockCondition.type)}),this.props.unlockCondition.type===gs.ADDRESS_UNLOCK_CONDITION_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Name:"}),Object(mt.jsx)("div",{className:"card--value row",children:Hs.getAddressTypeName(this.props.unlockCondition.address.type)}),Object(mt.jsx)(Vs,{address:this.props.unlockCondition.address})]}),this.props.unlockCondition.type===gs.STORAGE_DEPOSIT_RETURN_UNLOCK_CONDITION_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Return address"}),Object(mt.jsx)(Vs,{address:this.props.unlockCondition.returnAddress}),Object(mt.jsx)("div",{className:"card--label",children:"Amount:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.amount})]}),this.props.unlockCondition.type===gs.TIMELOCK_UNLOCK_CONDITION_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Milestone index"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.milestoneIndex}),Object(mt.jsx)("div",{className:"card--label",children:"Unix time"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.unixTime})]}),this.props.unlockCondition.type===gs.EXPIRATION_UNLOCK_CONDITION_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(Vs,{address:this.props.unlockCondition.returnAddress}),Object(mt.jsx)("div",{className:"card--label",children:"Milestone index"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.milestoneIndex}),Object(mt.jsx)("div",{className:"card--label",children:"Unix time"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.unixTime})]}),this.props.unlockCondition.type===gs.GOVERNOR_ADDRESS_UNLOCK_CONDITION_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Governor address:"}),Object(mt.jsx)(Vs,{address:this.props.unlockCondition.address})]}),this.props.unlockCondition.type===gs.IMMUTABLE_ALIAS_UNLOCK_CONDITION_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Immutable address:"}),Object(mt.jsx)(Vs,{address:this.props.unlockCondition.address})]}),Object(mt.jsx)("div",{className:"card--label",children:"Type:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.unlockCondition.type})]})}}]),s}(c.Component),qs=Ks,Gs=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={formatFull:!1,isGenesis:!!a.isOutputResponse(e.output)&&e.output.messageId==="0".repeat(64),output:a.isOutputResponse(e.output)?e.output.output:e.output},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"output",children:[Object(mt.jsxs)("h2",{children:[Hs.getOutputTypeName(this.state.output.type)," ",this.props.index]}),this.isOutputResponse(this.props.output)&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Message Id"}),Object(mt.jsxs)("div",{className:"card--value row",children:[this.state.isGenesis&&Object(mt.jsx)("span",{children:"Genesis"}),!this.state.isGenesis&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(u.b,{to:"/explorer/message/".concat(this.props.output.messageId),className:"margin-r-t",children:this.props.output.messageId}),Object(mt.jsx)(Rs,{onClick:function(){e.isOutputResponse(e.props.output)&&Ts.copy(e.props.output.messageId)},buttonType:"copy",labelPosition:"top"})]})]}),Object(mt.jsx)("div",{className:"card--label",children:"Transaction Id"}),Object(mt.jsxs)("div",{className:"card--value row",children:[this.state.isGenesis&&Object(mt.jsx)("span",{children:"Genesis"}),!this.state.isGenesis&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("span",{className:"margin-r-t",children:this.props.output.transactionId}),Object(mt.jsx)(Rs,{onClick:function(){e.isOutputResponse(e.props.output)&&Ts.copy(e.props.output.transactionId)},buttonType:"copy",labelPosition:"top"})]})]}),Object(mt.jsx)("div",{className:"card--label",children:"Index"}),Object(mt.jsx)("div",{className:"card--value",children:this.props.output.outputIndex}),Object(mt.jsx)("div",{className:"card--label",children:"Is Spent"}),Object(mt.jsx)("div",{className:"card--value",children:this.props.output.isSpent?"Yes":"No"})]}),Object(mt.jsx)("div",{className:"card--label",children:"Amount"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:Object(mt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return e.setState({formatFull:!e.state.formatFull})},children:this.state.formatFull?"".concat(this.state.output.amount," i"):gs.UnitsHelper.formatBest(Number(this.state.output.amount))})}),this.state.output.type===gs.ALIAS_OUTPUT_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Alias id:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.aliasId}),Object(mt.jsx)("div",{className:"card--label",children:"State index:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.stateIndex}),Object(mt.jsx)("div",{className:"card--label",children:"State metadata:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.stateMetadata}),Object(mt.jsx)("div",{className:"card--label",children:"Foundry counter:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.foundryCounter})]}),this.state.output.type===gs.NFT_OUTPUT_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Nft id:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.nftId})]}),this.state.output.type===gs.FOUNDRY_OUTPUT_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Serial number:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.serialNumber}),Object(mt.jsx)("div",{className:"card--label",children:"Token tag:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.tokenTag}),Object(mt.jsx)("div",{className:"card--label",children:"Minted tokens:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.mintedTokens}),Object(mt.jsx)("div",{className:"card--label",children:"Melted tokens:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.meltedTokens}),Object(mt.jsx)("div",{className:"card--label",children:"Maximum supply:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.maximumSupply}),Object(mt.jsx)("div",{className:"card--label",children:"Token scheme type:"}),Object(mt.jsx)("div",{className:"card--value row",children:this.state.output.tokenScheme.type})]}),this.state.output.type!==gs.TREASURY_OUTPUT_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[this.state.output.unlockConditions.map((function(e,t){return Object(mt.jsx)(qs,{unlockCondition:e},t)})),this.state.output.featureBlocks.map((function(e,t){return Object(mt.jsx)(Ws,{featureBlock:e},t)})),this.state.output.type!==gs.BASIC_OUTPUT_TYPE&&this.state.output.immutableFeatureBlocks&&Object(mt.jsx)(l.a.Fragment,{children:this.state.output.immutableFeatureBlocks.map((function(e,t){return Object(mt.jsx)(Ws,{featureBlock:e},t)}))}),this.state.output.nativeTokens.map((function(e,t){return Object(mt.jsx)(l.a.Fragment,{children:Object(mt.jsxs)("div",{className:"native-token padding-t-s",children:[Object(mt.jsx)("h3",{children:"Native token"}),Object(mt.jsx)("div",{className:"card--label",children:"Token id:"}),Object(mt.jsx)("div",{className:"card--value row",children:e.id}),Object(mt.jsx)("div",{className:"card--label",children:"Amount:"}),Object(mt.jsx)("div",{className:"card--value row",children:e.amount})]})},t)}))]})]})}},{key:"isOutputResponse",value:function(e){return Object.prototype.hasOwnProperty.call(e,"messageId")}}]),s}(c.Component),Zs=(s(127),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(p.a)(this,s),(a=t.call(this,e))._tangleService=void 0,a._bech32Hrp=void 0,a._tangleService=Fe.a.get("tangle");var i=Fe.a.get("node-config");return a._bech32Hrp=i.getBech32Hrp(),a.state=Object(h.a)(Object(h.a)({},Cs.buildAddress(e.match.params.address,a._bech32Hrp)),{},{formatFull:!1,statusBusy:!0,status:"Loading outputs..."}),a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this._tangleService.search(this.props.match.params.address);case 3:null!==(a=e.sent)&&void 0!==a&&null!==(t=a.address)&&void 0!==t&&t.address?this.setState({address:a.address,bech32AddressDetails:Cs.buildAddress(a.address.address,this._bech32Hrp),balance:a.address.balance,outputIds:a.addressOutputIds},Object(i.a)(r.a.mark((function e(){var t,s,i,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!a.addressOutputIds){e.next=23;break}s=Object(fs.a)(a.addressOutputIds),e.prev=3,s.s();case 5:if((i=s.n()).done){e.next=15;break}return c=i.value,e.next=9,n._tangleService.outputDetails(c);case 9:if((l=e.sent)&&(t.push(l),n.setState({outputs:t,status:"Loading outputs [".concat(t.length,"/").concat(a.addressOutputIds.length,"]")})),n._isMounted){e.next=13;break}return e.abrupt("break",15);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:n.setState({outputs:t,status:"",statusBusy:!1});case 24:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})))):null!==a&&void 0!==a&&a.unavailable?this.props.history.replace("/explorer/unavailable"):this.props.history.replace("/explorer/search/".concat(this.props.match.params.address));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(mt.jsx)("div",{className:"address",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)(u.b,{to:"/explorer",className:"row middle inline",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{children:"Address"}),Object(mt.jsx)(Fs,{activeLinks:!1,addressDetails:this.state.bech32AddressDetails}),void 0!==this.state.balance&&Object(mt.jsxs)("div",{children:[Object(mt.jsx)("div",{className:"card--label",children:"Balance"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:Object(mt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return e.setState({formatFull:!e.state.formatFull})},children:this.state.formatFull?"".concat(this.state.balance," i"):gs.UnitsHelper.formatBest(Number(this.state.balance))})})]}),this.state.status&&Object(mt.jsxs)("div",{className:"middle row margin-t-m",children:[this.state.statusBusy&&Object(mt.jsx)(Ms,{compact:!0}),Object(mt.jsxs)("p",{className:"status margin-l-s",children:[this.props.match.params.address,Object(mt.jsx)("br",{}),this.state.status]})]})]}),this.state.outputs&&this.state.outputIds&&this.state.outputs.length>0&&this.state.outputs.map((function(t,s){return Object(mt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(mt.jsx)(Gs,{index:s+1,id:e.state.outputIds?e.state.outputIds[s]:"",output:t},s)},s)})),this.state.outputs&&0===this.state.outputs.length&&Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{className:"margin-b-s",children:"Outputs"}),this.state.outputs&&0===this.state.outputs.length&&Object(mt.jsx)("div",{className:"card--value",children:"There are no outputs for this address."})]})]})})}}]),s}(Ye)),Js=Zs,Qs=(s(128),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._tangleService=void 0,a._tangleService=Fe.a.get("tangle"),a.state={statusBusy:!0,status:"Loading indexed data..."},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,c,l,o=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this._tangleService.search(this.props.match.params.index);case 3:null!==(t=e.sent)&&void 0!==t&&t.indexMessageIds&&null!==t&&void 0!==t&&t.indexMessageType?("hex"===t.indexMessageType?(a=this.props.match.params.index,n=ks.Converter.hexToUtf8(this.props.match.params.index)):(a=ks.Converter.utf8ToHex(this.props.match.params.index),n=this.props.match.params.index),c=a.match(/.{1,2}/g),l=c?c.join(" "):a,this.setState({messageIds:t.indexMessageIds,utf8Index:n,hexIndex:l,indexLengthBytes:a.length/2},Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({messages:[],status:"",statusBusy:!1});case 1:case"end":return e.stop()}}),e)}))))):null!==t&&void 0!==t&&t.unavailable?this.props.history.replace("/explorer/unavailable"):this.props.history.replace("/explorer/search/".concat(this.props.match.params.index));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return Object(mt.jsx)("div",{className:"indexed",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)(u.b,{to:"/explorer",className:"row middle inline",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{children:"Indexed Data"}),Object(mt.jsxs)("div",{className:"card--label row middle",children:[Object(mt.jsxs)("span",{className:"margin-r-t",children:["Index UTF8 [",this.state.indexLengthBytes,"]"]}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(t.state.utf8Index)},buttonType:"copy",labelPosition:"right"})]}),Object(mt.jsx)("div",{className:"card--value",children:this.state.utf8Index}),Object(mt.jsxs)("div",{className:"card--label row middle",children:[Object(mt.jsxs)("span",{className:"margin-r-t",children:["Index Hex [",this.state.indexLengthBytes,"]"]}),Object(mt.jsx)(Rs,{onClick:function(){var e;return Ts.copy(null===(e=t.state.hexIndex)||void 0===e?void 0:e.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(mt.jsx)("div",{className:st()("card--value","card--value-textarea","card--value-textarea__hex","card--value-textarea__fit"),children:this.state.hexIndex})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsxs)("div",{className:"card--header row",children:[Object(mt.jsx)("h2",{className:"margin-b-s",children:"Indexed Messages"}),void 0!==this.state.messageIds&&Object(mt.jsx)("span",{className:"card--header-count",children:this.state.messageIds.length})]}),this.state.statusBusy&&Object(mt.jsx)(Ms,{}),this.state.messageIds&&0===this.state.messageIds.length&&Object(mt.jsx)("div",{className:"card--value",children:"There are no messages for this index."}),this.state.messageIds&&this.state.messageIds.length>0&&Object(mt.jsx)("div",{className:"col card--value",children:null===(e=this.state.messageIds)||void 0===e?void 0:e.map((function(e,t){return Object(mt.jsx)(u.b,{to:"/explorer/message/".concat(e),className:"margin-b-s",children:e},t)}))})]})]})})}}]),s}(Ye)),Xs=Qs,$s=["title","titleId"];function ea(){return ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ea.apply(this,arguments)}function ta(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function sa(e,t){var s=e.title,a=e.titleId,i=ta(e,$s);return c.createElement("svg",ea({width:12,height:8,viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Bs||(Bs=c.createElement("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:1.72854})))}var aa,ia,na,ra,ca,la=c.forwardRef(sa),oa=(s.p,["title","titleId"]);function da(){return da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},da.apply(this,arguments)}function ua(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function ha(e,t){var s=e.title,a=e.titleId,i=ua(e,oa);return c.createElement("svg",da({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 16 17.778",width:"16pt",height:"17.778pt",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,aa||(aa=c.createElement("path",{d:" M 8 14.711 L 3.111 8.889 L 12.889 8.889 L 8 14.711 Z ",fill:"currentColor"})),ia||(ia=c.createElement("rect",{x:6.222,y:0,width:3.556,height:1.778,fill:"currentColor"})),na||(na=c.createElement("rect",{x:6.222,y:2.667,width:3.556,height:1.778,fill:"currentColor"})),ra||(ra=c.createElement("rect",{x:6.222,y:5.333,width:3.556,height:4.889,fill:"currentColor"})),ca||(ca=c.createElement("rect",{x:0,y:16,width:16,height:1.778,fill:"currentColor"})))}var pa,ba=c.forwardRef(ha),va=(s.p,function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"filename",value:function(e,t){return"".concat(e,".").concat(t)}},{key:"createJsonDataUrl",value:function(e){var t=ks.Converter.bytesToBase64(ks.Converter.utf8ToBytes(JSON.stringify(e,void 0,"\t")));return"data:application/json;base64,".concat(t)}},{key:"createBinaryDataUrl",value:function(e){var t=ks.Converter.bytesToBase64(e);return"data:application/octet;base64,".concat(t)}},{key:"createHexDataUrl",value:function(e){var t=ks.Converter.bytesToBase64(ks.Converter.utf8ToBytes(ks.Converter.bytesToHex(e)));return"data:plain/text;base64,".concat(t)}},{key:"createBase64DataUrl",value:function(e){var t=ks.Converter.bytesToBase64(ks.Converter.utf8ToBytes(ks.Converter.bytesToBase64(e)));return"data:plain/text;base64,".concat(t)}}]),e}()),ma=(s(129),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsxs)("div",{className:"inclusion-state",children:[Object(mt.jsxs)("div",{className:st()("inclusion-state-pill",{"inclusion__not-included":void 0===this.props.state},{inclusion__included:"included"===this.props.state},{"inclusion__no-transaction":"noTransaction"===this.props.state},{inclusion__conflicting:"conflicting"===this.props.state}),children:[void 0===this.props.state&&"Not included","included"===this.props.state&&"Included","noTransaction"===this.props.state&&"No Transaction","conflicting"===this.props.state&&"Conflicting"]}),void 0===this.props.state&&"The message is not yet referenced by a milestone.","included"===this.props.state&&"The message is referenced by a milestone, the transaction is included in the ledger.","noTransaction"===this.props.state&&"The message is referenced by a milestone, the data is included in the ledger, but there is no value transfer.","conflicting"===this.props.state&&"The message has a conflict and will not be included in the ledger."]})}}]),s}(c.Component)),ja=ma,fa=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(p.a)(this,s),a=t.call(this,e);var i,n,r,c=e.payload.tag?ks.Converter.hexToUtf8(e.payload.tag):"",l=e.payload.tag?e.payload.tag.match(/.{1,2}/g):"",o=l?l.join(" "):e.payload.tag?e.payload.tag:"";if(e.payload.data){var d=e.payload.data.match(/.{1,2}/g);i=d?d.join(" "):e.payload.data,n=ks.Converter.hexToUtf8(e.payload.data);try{r=JSON.stringify(JSON.parse(n),void 0,"  ")}catch(u){}}return a.state={utf8Index:c,hexIndex:o,indexLengthBytes:e.payload.tag?e.payload.tag.length/2:0,utf8Data:n,hexData:i,jsonData:r,dataLengthBytes:e.payload.data?e.payload.data.length/2:0},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"indexation-payload",children:[Object(mt.jsx)("h2",{children:"Indexation Payload"}),Object(mt.jsxs)("div",{className:"card--label row middle",children:[Object(mt.jsxs)("span",{className:"margin-r-t",children:["Index UTF8 [",this.state.indexLengthBytes,"]"]}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(e.state.utf8Index)},buttonType:"copy",labelPosition:"right"})]}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)(u.b,{to:"/explorer/indexed/".concat(this.props.payload.tag),children:this.state.utf8Index})}),Object(mt.jsxs)("div",{className:"card--label row middle",children:[Object(mt.jsxs)("span",{className:"margin-r-t",children:["Index Hex [",this.state.indexLengthBytes,"]"]}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(e.state.hexIndex.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(mt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__hex card--value-textarea__fit",children:this.state.hexIndex}),!this.state.jsonData&&this.state.utf8Data&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("div",{className:"card--label row bottom spread",children:[Object(mt.jsxs)("span",{className:"margin-r-t",children:["Data UTF8 [",this.state.dataLengthBytes,"]"]}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(e.state.utf8Data)},buttonType:"copy",labelPosition:"top"})]}),Object(mt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__utf8",children:this.state.utf8Data})]}),this.state.jsonData&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("div",{className:"card--label row bottom spread",children:["Data JSON",Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(e.state.jsonData)},buttonType:"copy",labelPosition:"top"})]}),Object(mt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__json",children:this.state.jsonData})]}),this.state.hexData&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("div",{className:"card--label row middle",children:[Object(mt.jsxs)("span",{className:"margin-r-t",children:["Data Hex [",this.state.dataLengthBytes,"]"]}),Object(mt.jsx)(Rs,{onClick:function(){var t;return Ts.copy(null===(t=e.state.hexData)||void 0===t?void 0:t.replace(/ /g,""))},buttonType:"copy",labelPosition:"right"})]}),Object(mt.jsx)("div",{className:"card--value card--value-textarea card--value-textarea__hex",children:this.state.hexData})]})]})}}]),s}(c.Component),ga=(s(130),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._tangleService=void 0,a._tangleService=Fe.a.get("tangle"),a.state={},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.updateMilestone();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.milestoneIndex===t.milestoneIndex){e.next=3;break}return e.next=3,this.updateMilestone();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(mt.jsxs)("div",{onClick:this.props.onClick,className:st()("message-tangle-state",{"message-tangle-state__no-click":!this.props.onClick},{"message-tangle-state__referenced":"referenced"===this.props.status},{"message-tangle-state__milestone":"milestone"===this.props.status},{"message-tangle-state__pending":"pending"===this.props.status},{"message-tangle-state__unknown":"unknown"===this.props.status}),children:["unknown"===this.props.status&&"Unknown","referenced"===this.props.status&&"Referenced".concat(void 0!==this.props.milestoneIndex&&this.props.milestoneIndex>1?" by MS ".concat(this.props.milestoneIndex):""),"milestone"===this.props.status&&"MS".concat(void 0!==this.props.milestoneIndex?" ".concat(this.props.milestoneIndex):""),"pending"===this.props.status&&"Pending",this.state.timestamp]})}},{key:"updateMilestone",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.milestoneIndex){e.next=5;break}return e.next=3,this._tangleService.milestoneDetails(this.props.milestoneIndex);case 3:(t=e.sent)&&this.setState({timestamp:t.timestamp?" at ".concat(et.dateShort(t.timestamp)):void 0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),s}(Ye)),Oa=ga,xa=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){var e,t;return Object(mt.jsxs)("div",{className:"milestone-payload",children:[Object(mt.jsx)("h2",{children:"Milestone Payload"}),Object(mt.jsx)("div",{className:"card--label",children:"Index"}),Object(mt.jsx)("div",{className:"card--value",children:this.props.payload.index}),Object(mt.jsx)("div",{className:"card--label",children:"Date"}),Object(mt.jsx)("div",{className:"card--value",children:this.props.payload.timestamp&&et.date(this.props.payload.timestamp)}),null===(e=this.props.payload.parentMessageIds)||void 0===e?void 0:e.map((function(e,t){return Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("div",{className:"card--label",children:["Parent Message ",t+1]}),Object(mt.jsxs)("div",{className:"card--value card--value__mono row",children:[e!=="0".repeat(64)&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(u.b,{className:"margin-r-t",to:"/explorer/message/".concat(e),children:e}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(e)},buttonType:"copy",labelPosition:"top"})]}),e==="0".repeat(64)&&Object(mt.jsx)("span",{children:"Genesis"})]})]},t)})),Object(mt.jsx)("div",{className:"card--label",children:"Inclusion Merkle Proof"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.inclusionMerkleProof}),0!==this.props.payload.nextPoWScore&&0!==this.props.payload.nextPoWScoreMilestoneIndex&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Next PoW Score"}),Object(mt.jsx)("div",{className:"card--value",children:this.props.payload.nextPoWScore}),Object(mt.jsx)("div",{className:"card--label",children:"Next PoW Score Milestone Index"}),Object(mt.jsx)("div",{className:"card--value",children:this.props.payload.nextPoWScoreMilestoneIndex})]}),this.props.payload.publicKeys&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Public Keys"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:null===(t=this.props.payload.publicKeys)||void 0===t?void 0:t.map((function(e){return Object(mt.jsx)("div",{className:"margin-b-s",children:e},e)}))})]}),Object(mt.jsx)("div",{className:"card--label",children:"Signatures"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.signatures.map((function(e){return Object(mt.jsx)("div",{className:"margin-b-s",children:e},e)}))})]})}}]),s}(c.Component),ya=xa,Sa=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(p.a)(this,s),(a=t.call(this,e))._bech32Hrp=void 0;var i=Fe.a.get("node-config");return a._bech32Hrp=i.getBech32Hrp(),a.state={formatFull:!1},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"receipt-payload",children:[Object(mt.jsx)("h2",{children:"Receipt Payload"}),Object(mt.jsx)("div",{className:"card--label",children:"Migrated At"}),Object(mt.jsx)("div",{className:"card--value row",children:this.props.payload.migratedAt}),Object(mt.jsx)("div",{className:"card--label",children:"Final"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("div",{className:"margin-b-m",children:this.props.payload.final?"Yes":"No"})}),this.props.payload.funds.map((function(t,s){return Object(mt.jsxs)("div",{className:"margin-b-s",children:[Object(mt.jsxs)("h3",{className:"margin-b-t",children:["Migrated Fund ",s]}),Object(mt.jsx)("div",{className:"card--label",children:"Tail Transaction Hash"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:t.tailTransactionHash}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:t.address.type===gs.ED25519_ADDRESS_TYPE&&Object(mt.jsx)(Fs,{activeLinks:!0,addressDetails:Cs.buildAddress(t.address.pubKeyHash,e._bech32Hrp)})}),Object(mt.jsx)("div",{className:"card--label",children:"Deposit"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:Object(mt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return e.setState({formatFull:!e.state.formatFull})},children:e.state.formatFull?"".concat(t.deposit," i"):gs.UnitsHelper.formatBest(Number(t.deposit))})})]},s)})),Object(mt.jsx)("div",{className:"card--label",children:"Input Transaction Milestone Id"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:this.props.payload.transaction.input.milestoneId}),Object(mt.jsx)("div",{className:"card--label",children:"Output Transaction Amount to Treasury"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:Object(mt.jsx)("button",{className:"card--value--button",type:"button",onClick:function(){return e.setState({formatFull:!e.state.formatFull})},children:this.state.formatFull?"".concat(this.props.payload.transaction.output.amount," i"):gs.UnitsHelper.formatBest(Number(this.props.payload.transaction.output.amount))})})]})}}]),s}(c.Component),_a=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(p.a)(this,s),(a=t.call(this,e))._bech32Hrp=void 0;var i=Fe.a.get("node-config");a._bech32Hrp=i.getBech32Hrp();for(var n=[],r=0;r<e.payload.unlockBlocks.length;r++)if(e.payload.unlockBlocks[r].type===gs.SIGNATURE_UNLOCK_BLOCK_TYPE){var c=e.payload.unlockBlocks[r];n.push(c)}else if(e.payload.unlockBlocks[r].type===gs.REFERENCE_UNLOCK_BLOCK_TYPE){var l=e.payload.unlockBlocks[r];n.push(e.payload.unlockBlocks[l.reference])}for(var o=[],d=0;d<n.length;d++)o.push(Cs.buildAddress(ks.Converter.bytesToHex(new gs.Ed25519Address(ks.Converter.hexToBytes(n[d].signature.publicKey)).toAddress()),a._bech32Hrp));return a.state={unlockAddresses:o},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"transaction-payload",children:[Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{className:"margin-b-s",children:"Inputs"}),this.props.payload.essence.inputs.map((function(t,s){return Object(mt.jsxs)("div",{className:"margin-b-s",children:[Object(mt.jsxs)("h3",{className:"margin-b-t",children:[Hs.getInputTypeName(t.type)," ",s]}),t.type===gs.UTXO_INPUT_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(Fs,{activeLinks:!0,addressDetails:e.state.unlockAddresses[s]}),Object(mt.jsx)("div",{className:"card--label",children:"Transaction Id"}),Object(mt.jsxs)("div",{className:"card--value card--value__mono",children:[t.transactionId==="0".repeat(64)&&Object(mt.jsx)("span",{children:"Genesis"}),t.transactionId!=="0".repeat(64)&&t.transactionId]}),Object(mt.jsx)("div",{className:"card--label",children:"Transaction Output Index"}),Object(mt.jsx)("div",{className:"card--value",children:t.transactionOutputIndex})]})]},s)}))]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{className:"margin-b-s",children:"Outputs"}),this.props.payload.essence.outputs.map((function(e,t){return Object(mt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(mt.jsx)(Gs,{index:t+1,output:e},t)},t)}))]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{className:"margin-b-s",children:"Unlock Blocks"}),this.props.payload.unlockBlocks.map((function(e,t){return Object(mt.jsxs)("div",{className:"margin-b-s",children:[Object(mt.jsxs)("h3",{className:"margin-b-t",children:[Hs.getUnlockBlockTypeName(e.type)," ",t]}),e.type===gs.SIGNATURE_UNLOCK_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Public Key"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:e.signature.publicKey}),Object(mt.jsx)("div",{className:"card--label",children:"Signature"}),Object(mt.jsx)("div",{className:"card--value card--value__mono",children:e.signature.signature})]}),e.type===gs.REFERENCE_UNLOCK_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Reference"}),Object(mt.jsx)("div",{className:"card--value",children:e.reference})]}),e.type===gs.ALIAS_UNLOCK_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Reference"}),Object(mt.jsx)("div",{className:"card--value",children:e.reference})]}),e.type===gs.NFT_UNLOCK_BLOCK_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Reference"}),Object(mt.jsx)("div",{className:"card--value",children:e.reference})]})]},t)}))]})]})}}]),s}(c.Component),Na=(s(131),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._tangleService=void 0,a._timerId=void 0,a._tangleService=Fe.a.get("tangle"),a.state={childrenBusy:!0,dataUrls:{},selectedDataUrl:"json"},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,c,l=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this._tangleService.search(this.props.match.params.messageId);case 3:null!==(t=e.sent)&&void 0!==t&&t.message?(a=new ks.WriteStream,Object(gs.serializeMessage)(a,t.message),n=a.finalBytes(),c={json:va.createJsonDataUrl(t.message),bin:va.createBinaryDataUrl(n),base64:va.createBase64DataUrl(n),hex:va.createHexDataUrl(n)},this.setState({message:t.message,dataUrls:c},Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.updateMessageDetails();case 2:case"end":return e.stop()}}),e)}))))):null!==t&&void 0!==t&&t.unavailable?this.props.history.replace("/explorer/unavailable"):this.props.history.replace("/explorer/search/".concat(this.props.match.params.messageId));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}},{key:"render",value:function(){var e,t,s,a,i,n,r,c,o,d=this;return Object(mt.jsx)("div",{className:"message",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)(u.b,{to:"/explorer",className:"row middle inline",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsxs)("div",{className:"row phone-down-column start",children:[Object(mt.jsx)("h2",{className:"margin-r-l",children:"Message"}),this.state.messageTangleStatus&&Object(mt.jsx)(Oa,{status:this.state.messageTangleStatus,milestoneIndex:null===(e=this.state.metadata)||void 0===e?void 0:e.referencedByMilestoneIndex,onClick:null!==(t=this.state.metadata)&&void 0!==t&&t.referencedByMilestoneIndex?function(){var e;return d.props.history.push("/explorer/search/".concat(null===(e=d.state.metadata)||void 0===e?void 0:e.referencedByMilestoneIndex))}:void 0})]}),Object(mt.jsx)("div",{className:"card--label",children:"Id"}),Object(mt.jsxs)("div",{className:"card--value card--value__mono row",children:[Object(mt.jsx)("span",{className:"margin-r-t",children:this.props.match.params.messageId}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(d.props.match.params.messageId)},buttonType:"copy",labelPosition:"top"})]}),null===(s=this.state.message)||void 0===s||null===(a=s.parentMessageIds)||void 0===a?void 0:a.map((function(e,t){return Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("div",{className:"card--label",children:["Parent Message ",t+1]}),Object(mt.jsxs)("div",{className:"card--value card--value__mono row",children:[e!=="0".repeat(64)&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(u.b,{className:"margin-r-t",to:"/explorer/message/".concat(e),children:e}),Object(mt.jsx)(Rs,{onClick:function(){return Ts.copy(e)},buttonType:"copy",labelPosition:"top"})]}),e==="0".repeat(64)&&Object(mt.jsx)("span",{children:"Genesis"})]})]},t)})),Object(mt.jsx)("div",{className:"card--label",children:"Nonce"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("span",{className:"margin-r-t",children:null===(i=this.state.message)||void 0===i?void 0:i.nonce})})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{children:"Metadata"}),!this.state.metadata&&!this.state.metadataStatus&&Object(mt.jsx)(Ms,{}),this.state.metadataStatus&&Object(mt.jsx)("p",{className:"margin-t-s danger",children:this.state.metadataStatus}),this.state.metadata&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Is Solid"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("span",{className:"margin-r-t",children:null!==(n=this.state.metadata)&&void 0!==n&&n.isSolid?"Yes":"No"})}),Object(mt.jsx)("div",{className:"card--label",children:"Ledger Inclusion"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)(ja,{state:null===(r=this.state.metadata)||void 0===r?void 0:r.ledgerInclusionState})}),this.state.conflictReason&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Conflict Reason"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.conflictReason})]})]})]}),(null===(c=this.state.message)||void 0===c?void 0:c.payload)&&Object(mt.jsxs)(l.a.Fragment,{children:[this.state.message.payload.type===gs.TRANSACTION_PAYLOAD_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(_a,{payload:this.state.message.payload}),this.state.message.payload.essence.payload&&Object(mt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(mt.jsx)(fa,{payload:this.state.message.payload.essence.payload})})]}),this.state.message.payload.type===gs.MILESTONE_PAYLOAD_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(mt.jsx)(ya,{payload:this.state.message.payload})}),this.state.message.payload.receipt&&Object(mt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(mt.jsx)(Sa,{payload:this.state.message.payload.receipt})})]}),this.state.message.payload.type===gs.TAGGED_DATA_PAYLOAD_TYPE&&Object(mt.jsx)("div",{className:"card margin-t-m padding-l",children:Object(mt.jsx)(fa,{payload:this.state.message.payload})})]}),Object(mt.jsxs)("div",{className:"card margin-t-s padding-l",children:[Object(mt.jsx)("div",{className:"row margin-b-s",children:Object(mt.jsx)("h2",{children:"Tools"})}),Object(mt.jsx)("div",{className:"card--label",children:"Export Message"}),Object(mt.jsxs)("div",{className:"card--value row",children:[Object(mt.jsxs)("div",{className:"select-wrapper",children:[Object(mt.jsxs)("select",{value:this.state.selectedDataUrl,onChange:function(e){return d.setState({selectedDataUrl:e.target.value})},children:[Object(mt.jsx)("option",{value:"json",children:"JSON"}),Object(mt.jsx)("option",{value:"bin",children:"Binary"}),Object(mt.jsx)("option",{value:"hex",children:"Hex"}),Object(mt.jsx)("option",{value:"base64",children:"Base64"})]}),Object(mt.jsx)(la,{})]}),Object(mt.jsx)("a",{className:"card--action card--action-plain",href:this.state.dataUrls[this.state.selectedDataUrl],download:va.filename(this.props.match.params.messageId,this.state.selectedDataUrl),role:"button",children:Object(mt.jsx)(ba,{})})]})]}),Object(mt.jsxs)("div",{className:"card margin-t-s padding-l",children:[Object(mt.jsxs)("div",{className:"row margin-b-s",children:[Object(mt.jsx)("h2",{children:"Child Messages"}),void 0!==this.state.childrenIds&&Object(mt.jsx)("span",{className:"card--header-count",children:this.state.childrenIds.length})]}),this.state.childrenBusy&&Object(mt.jsx)(Ms,{}),null===(o=this.state.childrenIds)||void 0===o?void 0:o.map((function(e){return Object(mt.jsx)("div",{className:"card--value card--value__mono margin-b-s",children:Object(mt.jsx)(u.b,{to:"/explorer/message/".concat(e),children:e})},e)})),!this.state.childrenBusy&&this.state.childrenIds&&0===this.state.childrenIds.length&&Object(mt.jsx)("p",{children:"There are no children for this message."})]})]})})}},{key:"updateMessageDetails",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,s,a,n,c=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._tangleService.messageDetails(this.props.match.params.messageId);case 2:n=e.sent,this.setState({metadata:null===n||void 0===n?void 0:n.metadata,conflictReason:this.calculateConflictReason(null===n||void 0===n?void 0:n.metadata),childrenIds:null!==n&&void 0!==n&&n.childrenIds&&(null===n||void 0===n?void 0:n.childrenIds.length)>0?null===n||void 0===n?void 0:n.childrenIds:null!==(t=this.state.childrenIds)&&void 0!==t?t:[],messageTangleStatus:this.calculateStatus(null===n||void 0===n?void 0:n.metadata),childrenBusy:!1,metadataStatus:null!==n&&void 0!==n&&n.unavailable?"The node is currently unavailable or is not synced":void 0}),null!==n&&void 0!==n&&n.unavailable||null!==n&&void 0!==n&&null!==(s=n.metadata)&&void 0!==s&&s.referencedByMilestoneIndex&&null!==n&&void 0!==n&&null!==(a=n.metadata)&&void 0!==a&&a.milestoneIndex||(this._timerId=setTimeout(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.updateMessageDetails();case 2:case"end":return e.stop()}}),e)}))),1e4));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateStatus",value:function(e){var t="unknown";return e&&(t=e.milestoneIndex?"milestone":e.referencedByMilestoneIndex?"referenced":"pending"),t}},{key:"calculateConflictReason",value:function(e){var t="";return"conflicting"===(null===e||void 0===e?void 0:e.ledgerInclusionState)&&(t=e.conflictReason&&gs.CONFLICT_REASON_STRINGS[e.conflictReason]?gs.CONFLICT_REASON_STRINGS[e.conflictReason]:"The reason for the conflict is unknown"),t}}]),s}(Ye)),wa=Na,ka=["title","titleId"];function Ca(){return Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ca.apply(this,arguments)}function Ia(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ma(e,t){var s=e.title,a=e.titleId,i=Ia(e,ka);return c.createElement("svg",Ca({width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,pa||(pa=c.createElement("path",{d:"M5.48206 6.98708L0.318462 12.1921C0.218831 12.2891 0.139361 12.4052 0.0846907 12.5334C0.0300203 12.6617 0.00124313 12.7997 3.95234e-05 12.9393C-0.00116408 13.079 0.0252297 13.2174 0.0776802 13.3467C0.130131 13.4759 0.207588 13.5933 0.305532 13.692C0.403476 13.7907 0.519946 13.8688 0.648146 13.9217C0.776345 13.9746 0.913707 14.0012 1.05222 14C1.19072 13.9987 1.32761 13.9697 1.45487 13.9146C1.58214 13.8595 1.69725 13.7794 1.79348 13.679L7.69458 7.73051C7.89014 7.53332 8 7.26591 8 6.98708C8 6.70825 7.89014 6.44084 7.69458 6.24365L1.79348 0.295175C1.59674 0.103632 1.33323 -0.00235606 1.05972 3.97504e-05C0.786213 0.00243556 0.524578 0.113023 0.331169 0.307985C0.137761 0.502946 0.0280534 0.766681 0.0256767 1.04239C0.0232999 1.31809 0.128444 1.58371 0.318462 1.78203L5.48206 6.98708Z",fill:"currentColor"})))}var Ta,Ea=c.forwardRef(Ma),Pa=(s.p,s(132),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._tangleService=void 0,a._tangleService=Fe.a.get("tangle"),a.state={nextIndex:-1,previousIndex:-1,hasPrevious:!1,hasNext:!1},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.loadIndex(this.props.match.params.milestoneIndex,!1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,s,a,n,c=this;return Object(mt.jsx)("div",{className:"milestone",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)(u.b,{to:"/explorer",className:"row middle inline",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{children:"Milestone"}),Object(mt.jsx)("div",{className:"card--label",children:"Index"}),Object(mt.jsx)("div",{className:"card--value",children:null===(e=this.state.milestone)||void 0===e?void 0:e.index}),Object(mt.jsx)("div",{className:"card--label",children:"Message Id"}),Object(mt.jsxs)("div",{className:"card--value card--value__mono row",children:[Object(mt.jsx)("span",{className:"margin-r-t",children:Object(mt.jsx)(u.b,{to:"/explorer/message/".concat(null===(t=this.state.milestone)||void 0===t?void 0:t.messageId),className:"info-box--title linked",children:null===(s=this.state.milestone)||void 0===s?void 0:s.messageId})}),Object(mt.jsx)(Rs,{onClick:function(){var e;return Ts.copy(null===(e=c.state.milestone)||void 0===e?void 0:e.messageId)},buttonType:"copy",labelPosition:"top"})]}),Object(mt.jsx)("div",{className:"card--label",children:"Date"}),Object(mt.jsx)("div",{className:"card--value",children:(null===(a=this.state.milestone)||void 0===a?void 0:a.timestamp)&&et.date(null===(n=this.state.milestone)||void 0===n?void 0:n.timestamp)}),(this.state.hasPrevious||this.state.hasNext)&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("hr",{}),Object(mt.jsxs)("div",{className:"row margin-t-s",children:[Object(mt.jsxs)("button",{disabled:!this.state.hasPrevious,type:"button",onClick:Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.loadIndex(c.state.previousIndex.toString(),!0));case 1:case"end":return e.stop()}}),e)}))),className:"card--action margin-r-t",children:[Object(mt.jsx)(ws,{className:"margin-r-t"}),"Previous Milestone"]}),Object(mt.jsxs)("button",{disabled:!this.state.hasNext,type:"button",onClick:Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.loadIndex(c.state.nextIndex.toString(),!0));case 1:case"end":return e.stop()}}),e)}))),className:"card--action margin-r-t",children:["Next Milestone",Object(mt.jsx)(Ea,{className:"margin-l-t"})]})]})]})]})]})})}},{key:"loadIndex",value:function(){var e=Object(i.a)(r.a.mark((function e(t,s){var a,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._tangleService.milestoneDetails(Number.parseInt(t,10));case 2:(a=e.sent)?(this.setState({milestone:a},Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.checkForAdjacentMilestones());case 1:case"end":return e.stop()}}),e)})))),s&&window.history.replaceState(void 0,window.document.title,"/explorer/milestone/".concat(t))):this.props.history.replace("/explorer/search/".concat(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"checkForAdjacentMilestones",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,s,a,n,c=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.milestone){e.next=16;break}if(t=this.state.milestone.index+1,s=this.state.milestone.index-1,a=!1,n=!1,!(s>0)){e.next=10;break}return e.next=8,this._tangleService.milestoneDetails(s);case 8:e.sent&&(n=!0);case 10:return e.next=12,this._tangleService.milestoneDetails(t);case 12:e.sent&&(a=!0),this.setState({previousIndex:s,nextIndex:t,hasPrevious:n,hasNext:a}),a||setTimeout(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.checkForAdjacentMilestones());case 1:case"end":return e.stop()}}),e)}))),5e3);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),s}(Ye)),La=Pa,Da=["title","titleId"];function Ba(){return Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ba.apply(this,arguments)}function Aa(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ra(e,t){var s=e.title,a=e.titleId,i=Aa(e,Da);return c.createElement("svg",Ba({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 34 140",width:"34px",height:"140px",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Ta||(Ta=c.createElement("path",{d:" M 34 140 L 0.02 140 L 0.02 140 C 0.007 138.835 0 137.668 0 136.5 L 0 136.5 C 0 87.365 11.818 40.968 32.765 0 L 34 0 L 34 140 Z ",fill:"currentColor"})))}var Ua,Fa=c.forwardRef(Ra),Ha=(s.p,["title","titleId"]);function za(){return za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},za.apply(this,arguments)}function Va(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ya(e,t){var s=e.title,a=e.titleId,i=Va(e,Ha);return c.createElement("svg",za({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Ua||(Ua=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1V4H12V1C12 0.447715 12.4477 0 13 0C13.5523 0 14 0.447715 14 1V4H17V1C17 0.447715 17.4477 0 18 0C18.5523 0 19 0.447715 19 1V4.12602C20.4056 4.4878 21.5122 5.59439 21.874 7H25C25.5523 7 26 7.44772 26 8C26 8.55229 25.5523 9 25 9H22V12H25C25.5523 12 26 12.4477 26 13C26 13.5523 25.5523 14 25 14H22V17H25C25.5523 17 26 17.4477 26 18C26 18.5523 25.5523 19 25 19H21.874C21.5122 20.4056 20.4056 21.5122 19 21.874V25C19 25.5523 18.5523 26 18 26C17.4477 26 17 25.5523 17 25V22H14V25C14 25.5523 13.5523 26 13 26C12.4477 26 12 25.5523 12 25V22H9V25C9 25.5523 8.55229 26 8 26C7.44772 26 7 25.5523 7 25V21.874C5.59439 21.5122 4.4878 20.4056 4.12602 19H1C0.447715 19 0 18.5523 0 18C0 17.4477 0.447715 17 1 17H4V14H1C0.447715 14 0 13.5523 0 13C0 12.4477 0.447715 12 1 12H4V9H1C0.447715 9 0 8.55229 0 8C0 7.44772 0.447715 7 1 7H4.12602C4.4878 5.59439 5.59439 4.4878 7 4.12602V1ZM11 9C9.89543 9 9 9.89543 9 11V15C9 16.1046 9.89543 17 11 17H15C16.1046 17 17 16.1046 17 15V11C17 9.89543 16.1046 9 15 9H11Z",fill:"#666AF6"})))}var Wa,Ka=c.forwardRef(Ya),qa=(s.p,["title","titleId"]);function Ga(){return Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ga.apply(this,arguments)}function Za(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ja(e,t){var s=e.title,a=e.titleId,i=Za(e,qa);return c.createElement("svg",Ga({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Wa||(Wa=c.createElement("path",{d:"M11.9999 12.8115L9.67454 15.5795C10.3612 16.5407 10.7088 17.703 10.6624 18.8833C10.6161 20.0637 10.1785 21.1951 9.41854 22.0995C8.50834 23.1815 7.20609 23.8582 5.79753 23.9812C4.38897 24.1042 2.98915 23.6634 1.90521 22.7555C1.36875 22.3064 0.926138 21.7558 0.602702 21.1354C0.279265 20.515 0.0813554 19.8368 0.0202999 19.1398C-0.0407557 18.4428 0.0362414 17.7406 0.246884 17.0734C0.457528 16.4062 0.797681 15.7871 1.24788 15.2515C2.0087 14.3467 3.04825 13.72 4.20357 13.4695C5.35889 13.219 6.56467 13.359 7.63188 13.8675L10.2585 10.7395L3.07454 2.18885C2.96202 2.05495 2.87699 1.90019 2.82433 1.7334C2.77166 1.56662 2.7524 1.39109 2.76763 1.21685C2.78286 1.04261 2.83229 0.873089 2.9131 0.717973C2.9939 0.562856 3.10449 0.42519 3.23854 0.31285C3.37266 0.200246 3.52764 0.115165 3.69464 0.0624652C3.86165 0.0097655 4.03739 -0.00952042 4.21185 0.00570882C4.3863 0.0209381 4.55605 0.0703841 4.71139 0.151223C4.86674 0.232062 5.00463 0.342711 5.11721 0.47685L11.9999 8.66885L18.8812 0.47685C18.9938 0.342517 19.1318 0.231703 19.2872 0.150745C19.4427 0.0697879 19.6126 0.0202768 19.7872 0.00504451C19.9618 -0.0101878 20.1377 0.00915768 20.3049 0.0619742C20.472 0.114791 20.6271 0.200042 20.7612 0.31285C20.8953 0.42519 21.0059 0.562856 21.0867 0.717973C21.1675 0.873089 21.2169 1.04261 21.2321 1.21685C21.2474 1.39109 21.2281 1.56662 21.1754 1.7334C21.1228 1.90019 21.0377 2.05495 20.9252 2.18885L13.7399 10.7395L16.3665 13.8662C17.4338 13.3577 18.6395 13.2177 19.7948 13.4682C20.9502 13.7186 21.9897 14.3454 22.7505 15.2502C23.2007 15.7858 23.5409 16.4049 23.7515 17.0721C23.9622 17.7393 24.0392 18.4415 23.9781 19.1385C23.9171 19.8355 23.7192 20.5136 23.3957 21.134C23.0723 21.7545 22.6297 22.305 22.0932 22.7542C21.0093 23.6621 19.6094 24.1029 18.2009 23.9799C16.7923 23.8569 15.4901 23.1802 14.5799 22.0982C13.8199 21.1938 13.3823 20.0624 13.336 18.882C13.2896 17.7016 13.6372 16.5394 14.3239 15.5782L11.9999 12.8115ZM3.61988 20.7142C4.16456 21.1353 4.85102 21.3295 5.53559 21.256C6.22017 21.1825 6.84979 20.8471 7.29269 20.32C7.73559 19.7928 7.95744 19.1148 7.91181 18.4278C7.86618 17.7408 7.55661 17.0981 7.04788 16.6342C6.50587 16.18 5.80581 15.9595 5.10137 16.021C4.39692 16.0825 3.74566 16.421 3.29054 16.9622C2.34388 18.0889 2.49054 19.7689 3.61988 20.7142ZM20.3799 20.7142C20.648 20.4895 20.8692 20.2142 21.0308 19.9039C21.1924 19.5937 21.2912 19.2547 21.3217 18.9062C21.3522 18.5577 21.3136 18.2066 21.2083 17.8731C21.103 17.5395 20.9329 17.23 20.7079 16.9622C20.2528 16.4214 19.6018 16.0832 18.8977 16.0217C18.1936 15.9602 17.4938 16.1805 16.9519 16.6342C16.6837 16.8588 16.4624 17.134 16.3007 17.4442C16.1389 17.7544 16.0399 18.0934 16.0093 18.4419C15.9788 18.7904 16.0172 19.1415 16.1224 19.4751C16.2276 19.8087 16.3976 20.1183 16.6225 20.3862C17.5692 21.5129 19.2519 21.6595 20.3799 20.7142Z",fill:"#FF8B5C"})))}var Qa,Xa,$a=c.forwardRef(Ja),ei=(s.p,["title","titleId"]);function ti(){return ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ti.apply(this,arguments)}function si(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function ai(e,t){var s=e.title,a=e.titleId,i=si(e,ei);return c.createElement("svg",ti({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Qa||(Qa=c.createElement("path",{d:"m23.7055,11.46295q-1.43475,-3.0227 -3.41479,-4.93035l-1.38442,1.38442c1.12892,1.07886 2.11227,2.49021 2.96257,4.24794c-2.26383,4.68547 -5.47726,6.9112 -9.86887,6.9112q-1.97731,0 -3.64253,-0.60895l-1.50006,1.50006q2.3128,1.06797 5.14259,1.06797q7.84449,0 11.70551,-8.171a1.64046,1.64046 0 0 0 0,-1.40129zm-1.72971,-8.72444l-1.15994,-1.1613a0.21768,0.21768 0 0 0 -0.30801,0l-2.9759,2.97454q-2.4611,-1.25708 -5.53196,-1.25708q-7.84449,0 -11.70551,8.171a1.64073,1.64073 0 0 0 0,1.40129q1.5425,3.24881 3.71409,5.20816l-2.8793,2.87849a0.21768,0.21768 0 0 0 0,0.30774l1.16157,1.16157a0.21768,0.21768 0 0 0 0.30774,0l19.37722,-19.3764a0.21768,0.21768 0 0 0 0,-0.30801zm-19.84468,9.42645c2.26655,-4.68547 5.47999,-6.9112 9.86887,-6.9112c1.484,0 2.83332,0.25468 4.05747,0.77248l-1.91282,1.91282a4.78886,4.78886 0 0 0 -6.47939,6.47939l-2.26981,2.26981c-1.25626,-1.10879 -2.3392,-2.61102 -3.26432,-4.5233zm6.71257,0a3.05045,3.05045 0 0 1 3.97802,-2.90298l-3.83354,3.83354a3.04746,3.04746 0 0 1 -0.14448,-0.93056z",fill:"currentColor"})),Xa||(Xa=c.createElement("path",{d:"m11.89115,15.21242c-0.09414,0 -0.18693,-0.00435 -0.2789,-0.01279l-1.4372,1.4372a4.79131,4.79131 0 0 0 6.18798,-6.18798l-1.4372,1.4372c0.00843,0.09197 0.01279,0.18475 0.01279,0.2789a3.04583,3.04583 0 0 1 -3.04746,3.04746z",fill:"currentColor"})))}var ii,ni=c.forwardRef(ai),ri=(s.p,["title","titleId"]);function ci(){return ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ci.apply(this,arguments)}function li(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function oi(e,t){var s=e.title,a=e.titleId,i=li(e,ri);return c.createElement("svg",ci({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,ii||(ii=c.createElement("path",{d:"m23.69284,11.29876c-2.57667,-5.42785 -6.47156,-8.15945 -11.69285,-8.15945c-5.224,0 -9.11619,2.73159 -11.69285,8.16217a1.63896,1.63896 0 0 0 0,1.39977c2.57667,5.42785 6.47156,8.15945 11.69285,8.15945c5.224,0 9.11619,-2.73159 11.69285,-8.16217c0.20929,-0.44032 0.20929,-0.9513 0,-1.39977zm-11.69285,7.60498c-4.38414,0 -7.5941,-2.22332 -9.8582,-6.90373c2.2641,-4.68041 5.47406,-6.90373 9.8582,-6.90373c4.38414,0 7.5941,2.22332 9.8582,6.90373c-2.26138,4.68041 -5.47134,6.90373 -9.8582,6.90373zm-0.10872,-11.68742c-2.6419,0 -4.78369,2.14179 -4.78369,4.78369s2.14179,4.78369 4.78369,4.78369s4.78369,-2.14179 4.78369,-4.78369s-2.14179,-4.78369 -4.78369,-4.78369zm0,7.82785c-1.68245,0 -3.04417,-1.36172 -3.04417,-3.04417s1.36172,-3.04417 3.04417,-3.04417s3.04417,1.36172 3.04417,3.04417s-1.36172,3.04417 -3.04417,3.04417z",fill:"currentColor"})))}var di,ui,hi=c.forwardRef(oi),pi=(s.p,["title","titleId"]);function bi(){return bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bi.apply(this,arguments)}function vi(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function mi(e,t){var s=e.title,a=e.titleId,i=vi(e,pi);return c.createElement("svg",bi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,di||(di=c.createElement("circle",{opacity:.4,cx:8,cy:8,r:8,fill:"#FF9800"})),ui||(ui=c.createElement("circle",{cx:8,cy:8,r:4,fill:"#FF9800"})))}var ji=c.forwardRef(mi),fi=(s.p,s(133),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._metricsService=void 0,a._settingsService=void 0,a._peerSubscription=void 0,a._syncStatusSubscription=void 0,a._metricsService=Fe.a.get("metrics"),a._settingsService=Fe.a.get("settings"),a.state={blindMode:a._settingsService.getBlindMode()},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;this._peerSubscription=this._metricsService.subscribe(Re.PeerMetric,(function(t){e.handleData(t)})),this._syncStatusSubscription=this._metricsService.subscribe(Re.SyncStatus,(function(t){if(t){var s=t.cmi,a=t.lmi;s&&s!==e.state.cmi&&e.setState({cmi:s}),a&&a!==e.state.lmi&&e.setState({lmi:a})}}))}},{key:"componentWillUnmount",value:function(){this._peerSubscription&&(this._metricsService.unsubscribe(this._peerSubscription),this._peerSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}},{key:"render",value:function(){var e,t=this;return Object(mt.jsxs)("div",{className:"peers-summary",children:[Object(mt.jsxs)("div",{className:"row middle spread margin-b-m",children:[Object(mt.jsx)("h4",{children:"Peers"}),Object(mt.jsx)("button",{type:"button",onClick:function(){return t.toggleBlindMode()},className:"peers-summary--icon-button",children:this.state.blindMode?Object(mt.jsx)(hi,{}):Object(mt.jsx)(ni,{})})]}),!this.state.peers&&Object(mt.jsx)("p",{children:"There are no peers."}),null===(e=this.state.peers)||void 0===e?void 0:e.map((function(e,s){var a,i;return Object(mt.jsxs)(u.b,{to:"/peers/".concat(e.id),className:"peers-summary--item",children:[Object(mt.jsxs)("div",{className:"peer-health-icon",children:[0===e.health&&Object(mt.jsx)(ot,{}),1===e.health&&Object(mt.jsx)(ji,{}),2===e.health&&Object(mt.jsx)(vt,{})]}),Object(mt.jsxs)("div",{className:"col",children:[Object(mt.jsxs)("div",{className:"peer-id",children:[t.state.blindMode&&"*".repeat((null!==(a=e.alias)&&void 0!==a?a:e.id).length),!t.state.blindMode&&(null!==(i=e.alias)&&void 0!==i?i:e.id)]}),e.address&&Object(mt.jsx)("div",{className:"peer-id",children:t.state.blindMode?"*".repeat(e.address.length):e.address})]})]},s)}))]})}},{key:"handleData",value:function(e){var t,s=this;e&&(t=Ze.sortPeers(e.map((function(e){var t=s.state.cmi?s.state.cmi:0,a=s.state.lmi?s.state.lmi:0;return{id:e.id,alias:e.alias,health:Ze.calculateHealth(e,t,a),address:Ze.formatPeerAddress(e)}})))),this.setState({peers:t})}},{key:"toggleBlindMode",value:function(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}]),s}(c.Component)),gi=(s(134),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(p.a)(this,s),(a=t.call(this,e))._themeService=void 0,a._metricsService=void 0,a._settingsService=void 0,a._nodeStatusSubscription=void 0,a._publicNodeStatusSubscription=void 0,a._syncStatusSubscription=void 0,a._mpsMetricsSubscription=void 0,a._networkId=void 0,a._metricsService=Fe.a.get("metrics"),a._themeService=Fe.a.get("theme"),a._settingsService=Fe.a.get("settings");var i=Fe.a.get("node-config");return a._networkId=i.getNetworkId(),a.state={nodeName:"",nodeId:"",displayVersion:"",displayLatestVersion:"",lmi:"-",cmi:"-",pruningIndex:"-",memory:"-",uptime:"-",lastReceivedMpsTime:0,mpsIncoming:[],mpsOutgoing:[],bannerSrc:"",blindMode:a._settingsService.getBlindMode()},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.t0=this,e.next=4,ze.getBanner(this._themeService.get());case 4:e.t1=e.sent,e.t2={bannerSrc:e.t1},e.t0.setState.call(e.t0,e.t2),He.subscribe("theme","home",function(){var e=Object(i.a)(r.a.mark((function e(s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,ze.getBanner(s);case 3:e.t1=e.sent,e.t2={bannerSrc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._publicNodeStatusSubscription=this._metricsService.subscribe(Re.PublicNodeStatus,(function(e){if(e){var s=e.pruning_index.toString();s!==t.state.pruningIndex&&t.setState({pruningIndex:s})}})),this._nodeStatusSubscription=this._metricsService.subscribe(Re.NodeStatus,(function(e){if(e){var s=e.node_alias?e.node_alias:ze.getConfiguration().name,a=e.node_id||"No node Id.",i=et.duration(e.uptime),n=et.iSize(Ze.calculateMemoryUsage(e));s!==t.state.nodeName&&t.setState({nodeName:s}),a!==t.state.nodeId&&t.setState({nodeId:a}),i!==t.state.uptime&&t.setState({uptime:i}),n!==t.state.memory&&t.setState({memory:n}),t.checkVersion(e.version,e.latest_version)}})),this._syncStatusSubscription=this._metricsService.subscribe(Re.SyncStatus,(function(e){if(e){var s=e.lmi?e.lmi.toString():"",a=e.cmi?e.cmi.toString():"";s!==t.state.lmi&&t.setState({lmi:s}),a!==t.state.cmi&&t.setState({cmi:a})}})),this._mpsMetricsSubscription=this._metricsService.subscribe(Re.MPSMetrics,void 0,(function(e){var s=e.filter((function(e){return void 0!==e&&null!==e})),a=s.map((function(e){return e.incoming})),i=s.map((function(e){return e.outgoing}));t.setState({mpsIncoming:a,mpsOutgoing:i,lastReceivedMpsTime:Date.now()})})),He.subscribe("settings.blindMode","home",(function(e){t.setState({blindMode:e})}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),He.unsubscribe("theme","home"),this._nodeStatusSubscription&&(this._metricsService.unsubscribe(this._nodeStatusSubscription),this._nodeStatusSubscription=void 0),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0),He.unsubscribe("settings.blindMode","home")}},{key:"render",value:function(){var e;return Object(mt.jsx)("div",{className:"home",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsx)("div",{className:"card",children:Object(mt.jsxs)("div",{className:"banner row",children:[Object(mt.jsxs)("div",{className:"node-info",children:[Object(mt.jsxs)("div",{children:[Object(mt.jsx)("h1",{children:this.state.blindMode?"**********":this.state.nodeName}),this.state.nodeId&&Object(mt.jsx)("p",{className:"secondary margin-t-t word-break-all",children:this.state.blindMode?"*********":this.state.nodeId})]}),Object(mt.jsx)("p",{className:"secondary",children:this._networkId}),Object(mt.jsxs)("p",{className:"secondary",children:[this.state.displayVersion,this.state.displayLatestVersion]})]}),Object(mt.jsx)(Fa,{className:"banner-curve"}),Object(mt.jsx)("div",{className:"banner-image",children:Object(mt.jsx)("img",{src:this.state.bannerSrc})})]})}),Object(mt.jsxs)("div",{className:"row fill margin-t-s desktop-down-column",children:[Object(mt.jsxs)("div",{className:"col info-col fill",children:[Object(mt.jsxs)("div",{className:"row tablet-down-column",children:[Object(mt.jsx)(vs,{caption:"CMI / LMI",value:"".concat(this.state.cmi," / ").concat(this.state.lmi),icon:Object(mt.jsx)(cs,{}),backgroundStyle:"green"}),Object(mt.jsx)(vs,{caption:"Pruning Index",value:null===(e=this.state.pruningIndex)||void 0===e?void 0:e.toString(),icon:Object(mt.jsx)($a,{}),backgroundStyle:"orange"})]}),Object(mt.jsxs)("div",{className:"row margin-t-s tablet-down-column",children:[Object(mt.jsx)(vs,{caption:"Uptime",value:this.state.uptime,icon:Object(mt.jsx)(ps,{}),backgroundStyle:"blue"}),Object(mt.jsx)(vs,{caption:"Memory Usage",value:this.state.memory,icon:Object(mt.jsx)(Ka,{}),backgroundStyle:"purple"})]}),Object(mt.jsx)("div",{className:"row margin-t-s",children:Object(mt.jsx)("div",{className:"card fill messages-graph-panel",children:Object(mt.jsx)(Bt,{caption:"Messages Per Second",seriesMaxLength:20,timeInterval:1e3,endTime:this.state.lastReceivedMpsTime,series:[{className:"bar-color-1",label:"Incoming",values:this.state.mpsIncoming},{className:"bar-color-2",label:"Outgoing",values:this.state.mpsOutgoing}]})})})]}),Object(mt.jsx)("div",{className:"card col peers-summary-col peers-summary-panel",children:Object(mt.jsx)(fi,{})})]})]})})}},{key:"checkVersion",value:function(e,t){if(this.state.version!==e||this.state.latestVersion!==t){var s=this.compareVersions(e,t);this.setState({version:e,latestVersion:t,displayVersion:e}),s<0&&this.setState({displayLatestVersion:" - a new version ".concat(t," is available.")})}}},{key:"compareVersions",value:function(e,t){var s=e.split("."),a=t.split(".");if(3===s.length&&3===a.length)for(var i=0;i<3;i++){var n=Number.parseInt(s[i],10),r=Number.parseInt(a[i],10);if(n>r)return 1;if(r>n)return-1;if(2===i){var c=96,l=96,o=s[i].indexOf("-");o>0&&(c=s[i].charCodeAt(o+1));var d=a[i].indexOf("-");return d>0&&(l=a[i].charCodeAt(d+1)),c-l}}return 0}}]),s}(Ye)),Oi=gi,xi=(s(135),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._authService=void 0,a._authService=Fe.a.get("auth"),a.state={user:"",password:"",isBusy:!1,error:!1,redirect:""},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this;return this.state.redirect.length>0?Object(mt.jsx)(g.a,{to:this.state.redirect}):Object(mt.jsx)("div",{className:"login",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsx)("h2",{children:"Login"}),Object(mt.jsx)("div",{className:"card margin-t-s padding-l",children:Object(mt.jsxs)("form",{children:[Object(mt.jsx)("p",{children:"Please enter your credentials to unlock the full dashboard."}),Object(mt.jsx)("div",{className:"card--label",children:"User"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("input",{type:"text",autoComplete:"username",value:this.state.user,disabled:this.state.isBusy,onChange:function(t){return e.setState({user:t.target.value})},autoFocus:!0})}),Object(mt.jsx)("div",{className:"card--label",children:"Password"}),Object(mt.jsx)("div",{className:"card--value row",children:Object(mt.jsx)("input",{type:"password",autoComplete:"current-password",value:this.state.password,disabled:this.state.isBusy,onChange:function(t){return e.setState({password:t.target.value})},onKeyDown:function(t){"Enter"===t.key&&e.state.password.trim().length>0&&e.state.user.trim().length>0&&e.login()}})}),Object(mt.jsx)("hr",{}),Object(mt.jsxs)("div",{className:"card--value row middle",children:[Object(mt.jsx)("button",{className:"card--action margin-r-s",type:"button",disabled:this.state.isBusy||0===this.state.user.trim().length||0===this.state.password.trim().length,onClick:function(t){return e.login()},children:"Login"}),this.state.isBusy&&Object(mt.jsx)(Ms,{compact:!0}),this.state.error&&Object(mt.jsx)("p",{className:"danger margin-l-t",children:"Your login attempt failed, please try again."})]})]})})]})})}},{key:"login",value:function(){var e=this;this.setState({isBusy:!0,error:!1},Object(i.a)(r.a.mark((function t(){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._authService.login(e.state.user,e.state.password);case 2:s=t.sent,e.setState({isBusy:!1,error:!s,redirect:s?"/":""});case 4:case"end":return t.stop()}}),t)}))))}}]),s}(Ye)),yi=(s(136),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._metricsService=void 0,a._settingsService=void 0,a._peersSubscription=void 0,a._syncStatusSubscription=void 0,a._metricsService=Fe.a.get("metrics"),a._settingsService=Fe.a.get("settings"),a.state={address:"",isConnected:!1,isSynced:!1,hasPeers:!1,latestMilestoneIndex:"-",latestSolidMilestoneIndex:"-",pruningIndex:"-",syncedPeers:"-",connectedPeers:"-",newMessagesDiff:[],sentMessagesDiff:[],relation:"-",lastUpdateTime:0,blindMode:a._settingsService.getBlindMode()},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),this._peersSubscription=this._metricsService.subscribe(Re.PeerMetric,void 0,(function(t){var s,a,i,n="",r=!1,c=!1,l=!1,o="-",d="-",u="-",h="-",p="-",b=[],v=[],m=[],j=[],f="-",g=Object(fs.a)(t);try{for(g.s();!(i=g.n()).done;){var O=i.value;if(O){var x,y,S,_=O.find((function(t){return t.id===e.props.match.params.id})),N=e.state.nodeLmi?e.state.nodeLmi:0;if(_)s=_.alias,n=null!==(x=Ze.formatPeerAddress(_))&&void 0!==x?x:"",c=(r=_.connected)&&Ze.calculateIsSynced(_,N),a=null===(y=_.gossip)||void 0===y?void 0:y.metrics,f=_.relation,null!==(S=_.gossip)&&void 0!==S&&S.heartbeat&&(b.push(_.gossip.metrics.newMessages),v.push(_.gossip.metrics.sentMessages),r&&(l=_.gossip.heartbeat.connectedNeighbors>0,o=_.gossip.heartbeat.latestMilestoneIndex.toString(),d=_.gossip.heartbeat.solidMilestoneIndex.toString(),u=_.gossip.heartbeat.prunedMilestoneIndex.toString(),h=_.gossip.heartbeat.syncedNeighbors.toString(),p=_.gossip.heartbeat.connectedNeighbors.toString()))}}}catch(C){g.e(C)}finally{g.f()}for(var w=1;w<b.length;w++)m.push(Math.max(b[w]-b[w-1],0));for(var k=1;k<v.length;k++)j.push(Math.max(v[k]-v[k-1],0));e.setState({alias:s,address:n,isConnected:r,isSynced:c,hasPeers:l,latestMilestoneIndex:o,latestSolidMilestoneIndex:d,pruningIndex:u,syncedPeers:h,connectedPeers:p,newMessagesDiff:m,sentMessagesDiff:j,gossipMetrics:a,relation:f,lastUpdateTime:Date.now()})})),this._syncStatusSubscription=this._metricsService.subscribe(Re.SyncStatus,(function(t){if(t){var s=t.cmi,a=t.lmi;s&&s!==e.state.nodeCmi&&e.setState({nodeCmi:s}),a&&a!==e.state.nodeLmi&&e.setState({nodeLmi:a})}}))}},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._peersSubscription&&(this._metricsService.unsubscribe(this._peersSubscription),this._peersSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}},{key:"render",value:function(){var e,t,s,a,i,n,r,c,o,d,h,p,b,v,m,j,f,g,O,x,y,S,_=this;return Object(mt.jsx)("div",{className:"peer",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)("div",{className:"row middle spread margin-b-s",children:[Object(mt.jsxs)(u.b,{to:"/peers",className:"row inline middle",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Peers"})]}),Object(mt.jsx)("button",{type:"button",onClick:function(){return _.toggleBlindMode()},className:"peer--icon-button",children:this.state.blindMode?Object(mt.jsx)(hi,{}):Object(mt.jsx)(ni,{})})]}),Object(mt.jsx)("div",{className:"card",children:Object(mt.jsxs)("div",{className:"banner row tablet-down-column spread",children:[Object(mt.jsxs)("div",{className:"node-info",children:[this.state.alias&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("h2",{className:"word-break-all",children:this.state.blindMode?"*".repeat(this.state.alias.length):this.state.alias}),Object(mt.jsx)("p",{className:"secondary margin-t-t",children:this.state.blindMode?"*".repeat(this.props.match.params.id.length):this.props.match.params.id})]}),!this.state.alias&&Object(mt.jsx)("h2",{className:"word-break-all",children:this.state.blindMode?"*".repeat(this.props.match.params.id.length):this.props.match.params.id}),Object(mt.jsx)("p",{className:"secondary margin-t-t",children:this.state.blindMode?"*".repeat(this.state.address.length):this.state.address}),Object(mt.jsxs)("p",{className:"secondary margin-t-t",children:["Relation:\xa0","".concat(this.state.relation.slice(0,1).toUpperCase()).concat(this.state.relation.slice(1))]}),this.state.nodeCmi&&Number(this.state.pruningIndex)>this.state.nodeCmi&&Object(mt.jsx)("p",{className:"secondary warning margin-t-t",children:"Warning:\xa0 History of peer not sufficient to sync from. Consider using a newer snapshot if all peers have the same status."})]}),Object(mt.jsxs)("div",{className:"health-indicators col tablet-down-only-row phone-down-column",children:[Object(mt.jsx)(ft,{label:"Connected",healthy:this.state.isConnected,className:"child"}),Object(mt.jsx)(ft,{label:"Synced",healthy:this.state.isSynced,className:"child"}),Object(mt.jsx)(ft,{label:"Peers",healthy:this.state.hasPeers,className:"child"})]})]})}),Object(mt.jsxs)("div",{className:"row info margin-t-s",children:[Object(mt.jsx)(vs,{caption:"SMI / LMI",value:"".concat(this.state.latestSolidMilestoneIndex," / ").concat(this.state.latestMilestoneIndex),icon:Object(mt.jsx)(cs,{}),backgroundStyle:"green"}),Object(mt.jsx)(vs,{caption:"Pruning Index",value:this.state.pruningIndex,icon:Object(mt.jsx)($a,{}),backgroundStyle:"orange"}),Object(mt.jsx)(vs,{caption:"Synced Peers",value:"".concat(this.state.syncedPeers," / ").concat(this.state.connectedPeers),icon:Object(mt.jsx)(ts,{}),backgroundStyle:"purple"})]}),Object(mt.jsxs)("div",{className:"card messages-graph-panel margin-t-s",children:[Object(mt.jsx)(Bt,{caption:"Messages per Second",endTime:this.state.lastUpdateTime,timeInterval:1e3,seriesMaxLength:30,series:[{className:"bar-color-1",label:"Incoming",values:this.state.newMessagesDiff},{className:"bar-color-2",label:"Outgoing",values:this.state.sentMessagesDiff}]}),Object(mt.jsxs)("div",{className:"row wrap padding-s gossip",children:[Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Known Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(e=null===(t=this.state.gossipMetrics)||void 0===t?void 0:t.knownMessages)&&void 0!==e?e:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"New Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(s=null===(a=this.state.gossipMetrics)||void 0===a?void 0:a.newMessages)&&void 0!==s?s:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(i=null===(n=this.state.gossipMetrics)||void 0===n?void 0:n.receivedMessages)&&void 0!==i?i:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Messages"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(r=null===(c=this.state.gossipMetrics)||void 0===c?void 0:c.sentMessages)&&void 0!==r?r:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Message Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(o=null===(d=this.state.gossipMetrics)||void 0===d?void 0:d.receivedMessageRequests)&&void 0!==o?o:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Message Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(h=null===(p=this.state.gossipMetrics)||void 0===p?void 0:p.sentMessageRequests)&&void 0!==h?h:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Heartbeats"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(b=null===(v=this.state.gossipMetrics)||void 0===v?void 0:v.receivedHeartbeats)&&void 0!==b?b:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Heartbeats"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(m=null===(j=this.state.gossipMetrics)||void 0===j?void 0:j.sentHeartbeats)&&void 0!==m?m:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Received Milestone Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(f=null===(g=this.state.gossipMetrics)||void 0===g?void 0:g.receivedMilestoneRequests)&&void 0!==f?f:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Sent Milestone Requests"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(O=null===(x=this.state.gossipMetrics)||void 0===x?void 0:x.sentMilestoneRequests)&&void 0!==O?O:"-"})]}),Object(mt.jsxs)("div",{className:"gossip-item",children:[Object(mt.jsx)("h4",{children:"Dropped Packets"}),Object(mt.jsx)("div",{className:"gossip-value",children:null!==(y=null===(S=this.state.gossipMetrics)||void 0===S?void 0:S.droppedPackets)&&void 0!==y?y:"-"})]})]})]})]})})}},{key:"toggleBlindMode",value:function(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}]),s}(Ye)),Si=Object(g.g)(yi),_i=(s(137),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"dialog-click-shield"}),Object(mt.jsx)("div",{className:"dialog-container",children:Object(mt.jsxs)("div",{className:"dialog",children:[Object(mt.jsx)("div",{className:"dialog-header",children:Object(mt.jsx)("h1",{children:this.props.title})}),Object(mt.jsx)("div",{className:"dialog-content",children:this.props.children}),Object(mt.jsx)("div",{className:"dialog-footer",children:this.props.actions})]})})]})}}]),s}(c.Component)),Ni=_i,wi=(s(138),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._metricsService=void 0,a._settingsService=void 0,a._peersSubscription=void 0,a._syncStatusSubscription=void 0,a._metricsService=Fe.a.get("metrics"),a._settingsService=Fe.a.get("settings"),a.state={peers:[],dialogPeerAddress:"",dialogPeerAlias:"",blindMode:a._settingsService.getBlindMode()},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),this._peersSubscription=this._metricsService.subscribe(Re.PeerMetric,void 0,(function(t){var s={};if(t.length>0){var a,i=new Set(t[t.length-1].map((function(e){return e.id}))),n=Object(fs.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(r){var c,l=Object(fs.a)(r);try{for(l.s();!(c=l.n()).done;){var o=c.value;if(i.has(o.id)){var d,u=Ze.formatPeerAddress(o),h=e.state.cmi?e.state.cmi:0,p=e.state.lmi?e.state.lmi:0,b=Ze.calculateHealth(o,h,p);s[o.id]||(s[o.id]={id:o.id,address:"",health:0,relation:o.relation,newMessagesTotal:[],sentMessagesTotal:[],newMessagesDiff:[],sentMessagesDiff:[],lastUpdateTime:0}),s[o.id].id=o.id,s[o.id].alias=o.alias,s[o.id].address=u,s[o.id].health=b,s[o.id].relation=o.relation,s[o.id].lastUpdateTime=Date.now(),null!==(d=o.multiAddresses)&&void 0!==d&&d.length&&(s[o.id].originalAddress=o.multiAddresses[0]),o.gossip&&(s[o.id].newMessagesTotal.push(o.gossip.metrics.newMessages),s[o.id].sentMessagesTotal.push(o.gossip.metrics.sentMessages)),s[o.id].newMessagesDiff=[];for(var v=1;v<s[o.id].newMessagesTotal.length;v++)s[o.id].newMessagesDiff.push(Math.max(s[o.id].newMessagesTotal[v]-s[o.id].newMessagesTotal[v-1],0));s[o.id].sentMessagesDiff=[];for(var m=1;m<s[o.id].sentMessagesTotal.length;m++)s[o.id].sentMessagesDiff.push(Math.max(s[o.id].sentMessagesTotal[m]-s[o.id].sentMessagesTotal[m-1],0))}}}catch(j){l.e(j)}finally{l.f()}}}}catch(j){n.e(j)}finally{n.f()}}e.setState({peers:Ze.sortPeers(Object.values(s))})})),this._syncStatusSubscription=this._metricsService.subscribe(Re.SyncStatus,(function(t){if(t){var s=t.cmi,a=t.lmi;s&&s!==e.state.cmi&&e.setState({cmi:s}),a&&a!==e.state.lmi&&e.setState({lmi:a})}}))}},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._peersSubscription&&(this._metricsService.unsubscribe(this._peersSubscription),this._peersSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0)}},{key:"render",value:function(){var e,t=this;return Object(mt.jsx)("div",{className:"peers",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)("div",{className:"row spread",children:[Object(mt.jsx)("h2",{children:"Peers"}),Object(mt.jsxs)("div",{className:"row",children:[Object(mt.jsx)("button",{type:"button",onClick:function(){return t.toggleBlindMode()},className:"peers--icon-button",children:this.state.blindMode?Object(mt.jsx)(hi,{}):Object(mt.jsx)(ni,{})}),Object(mt.jsx)("button",{type:"button",className:"add-button",onClick:function(){return t.setState({dialogType:"add",dialogIsEdit:!0,dialogPeerId:"",dialogPeerAddress:"",dialogPeerAlias:"",dialogStatus:"",dialogBusy:!1})},children:"Add Peer"})]})]}),Object(mt.jsxs)("div",{className:"peers-panel",children:[0===this.state.peers.length&&Object(mt.jsx)("p",{className:"margin-t-s",children:"There are no peers."}),this.state.peers.map((function(e,s){var a,i,n,r;return Object(mt.jsx)("div",{className:"peers-panel--item",children:Object(mt.jsxs)("div",{className:"card col padding-m",children:[Object(mt.jsxs)("div",{className:"row middle",children:[Object(mt.jsxs)("span",{className:"peer-health",children:[0===e.health&&Object(mt.jsx)(ot,{}),1===e.health&&Object(mt.jsx)(ji,{}),2===e.health&&Object(mt.jsx)(vt,{})]}),Object(mt.jsxs)("div",{className:"peer-id word-break-all",children:[Object(mt.jsxs)("span",{children:[t.state.blindMode&&"*".repeat((null!==(a=e.alias)&&void 0!==a?a:e.id).length),!t.state.blindMode&&(null!==(i=e.alias)&&void 0!==i?i:e.id)]}),Object(mt.jsx)("span",{children:t.state.blindMode?"*".repeat(null!==(n=null===(r=e.address)||void 0===r?void 0:r.length)&&void 0!==n?n:10):e.address})]})]}),Object(mt.jsx)(Bt,{caption:"Messages per Second",seriesMaxLength:15,timeInterval:1e3,timeMarkers:5,endTime:e.lastUpdateTime,series:[{className:"bar-color-1",label:"Incoming",values:e.newMessagesDiff},{className:"bar-color-2",label:"Outgoing",values:e.sentMessagesDiff}]}),Object(mt.jsxs)("div",{className:"row peer-actions",children:[Object(mt.jsxs)("p",{className:"margin-t-s padding-t",children:["Relation: ","".concat(e.relation.slice(0,1).toUpperCase()).concat(e.relation.slice(1))]}),"known"!==e.relation&&e.originalAddress&&Object(mt.jsx)("button",{type:"button",className:"card--action margin-t-s",onClick:function(){var s;return t.setState({dialogType:"promote",dialogIsEdit:!0,dialogPeerAddress:null!==(s=e.originalAddress)&&void 0!==s?s:"",dialogPeerAlias:"",dialogPeerId:e.id,dialogStatus:"",dialogBusy:!1})},children:"Promote to Known"}),"known"===e.relation&&Object(mt.jsx)("button",{type:"button",className:"card--action margin-t-s",onClick:function(){var s,a;return t.setState({dialogType:"edit",dialogIsEdit:!0,dialogPeerAddress:null!==(s=e.originalAddress)&&void 0!==s?s:"",dialogPeerAlias:null!==(a=e.alias)&&void 0!==a?a:"",dialogPeerId:e.id,dialogPeerIdOriginal:e.id,dialogStatus:"",dialogBusy:!1})},children:"Edit"}),Object(mt.jsx)("button",{type:"button",className:"card--action card--action-danger margin-t-s",onClick:function(){return t.setState({dialogType:"delete",dialogIsEdit:!1,dialogPeerId:e.id,dialogPeerAddress:"",dialogPeerAlias:"",dialogStatus:"",dialogBusy:!1})},children:"Delete"}),Object(mt.jsxs)(u.b,{to:"/peers/".concat(e.id),className:"card--action row middle inline margin-t-s",children:[Object(mt.jsx)("span",{className:"margin-r-s",children:"More details"}),Object(mt.jsx)(Ea,{className:"secondary"})]})]})]})},s)}))]}),this.state.dialogType&&Object(mt.jsxs)(Ni,{title:{add:"Add Peer",edit:"Edit Peer",promote:"Promote to Known",delete:"Delete Confirmation"}[this.state.dialogType],actions:[Object(mt.jsx)("button",{type:"button",onClick:function(){return t.state.dialogIsEdit?t.peerConfigure():t.peerDelete()},disabled:this.state.dialogBusy||this.state.dialogIsEdit&&(0===this.state.dialogPeerAddress.trim().length||0===(null===(e=this.state.dialogPeerId)||void 0===e?void 0:e.trim().length)),children:this.state.dialogIsEdit?"OK":"Yes"},0),Object(mt.jsx)("button",{type:"button",onClick:function(){return t.setState({dialogPeerId:void 0,dialogPeerIdOriginal:void 0,dialogType:void 0})},disabled:this.state.dialogBusy,children:this.state.dialogIsEdit?"Cancel":"No"},1)],children:["delete"===this.state.dialogType&&Object(mt.jsx)("p",{className:"margin-b-l",children:"Are you sure you want to delete the peer?"}),this.state.dialogIsEdit&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("p",{children:["Please enter the details of the peer to ",this.state.dialogType,"."]}),Object(mt.jsx)("div",{className:"dialog--label",children:"Address"}),Object(mt.jsx)("div",{className:"dialog--value",children:Object(mt.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. /ip4/127.0.0.1/tcp/15600",value:this.state.dialogPeerAddress,disabled:this.state.dialogBusy,onChange:function(e){return t.setState({dialogPeerAddress:e.target.value})}})}),Object(mt.jsx)("div",{className:"dialog--label",children:"Id"}),Object(mt.jsx)("div",{className:"dialog--value",children:Object(mt.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. 12D3KooWC7uE9w3RN4Vh1FJAZa8SbE8yMWR6wCVBajcWpyWguV73",value:this.state.dialogPeerId,disabled:this.state.dialogBusy,onChange:function(e){return t.setState({dialogPeerId:e.target.value})}})}),Object(mt.jsx)("div",{className:"dialog--label",children:"Alias"}),Object(mt.jsx)("div",{className:"dialog--value",children:Object(mt.jsx)("input",{type:"text",className:"input--stretch",placeholder:"e.g. My Friend's Node",value:this.state.dialogPeerAlias,disabled:this.state.dialogBusy,onChange:function(e){return t.setState({dialogPeerAlias:e.target.value})}})})]}),this.state.dialogBusy&&Object(mt.jsx)(Ms,{}),Object(mt.jsx)("p",{className:st()("margin-t-l",{danger:!this.state.dialogBusy}),children:this.state.dialogStatus})]})]})})}},{key:"peerConfigure",value:function(){var e=this;this.setState({dialogBusy:!0,dialogStatus:"add"===this.state.dialogType?"Adding peer, please wait...":"Promoting peer, please wait..."},Object(i.a)(r.a.mark((function t(){var s,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=Fe.a.get("tangle"),t.prev=1,"edit"!==e.state.dialogType||!e.state.dialogPeerIdOriginal){t.next=5;break}return t.next=5,s.peerDelete(e.state.dialogPeerIdOriginal);case 5:return(a=e.state.dialogPeerAddress).endsWith("/")||(a+="/"),a+="p2p/".concat(e.state.dialogPeerId),t.next=10,s.peerAdd(a,e.state.dialogPeerAlias);case 10:e.setState({dialogBusy:!1,dialogStatus:"",dialogPeerId:void 0,dialogType:void 0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),t.t0 instanceof Error&&e.setState({dialogBusy:!1,dialogStatus:"Failed to ".concat(e.state.dialogType," peer: ").concat(t.t0.message)});case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))))}},{key:"peerDelete",value:function(){var e=this;this.setState({dialogBusy:!0,dialogStatus:"Deleting peer, please wait..."},Object(i.a)(r.a.mark((function t(){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.dialogPeerId){t.next=11;break}return s=Fe.a.get("tangle"),t.prev=2,t.next=5,s.peerDelete(e.state.dialogPeerId);case 5:e.setState({dialogBusy:!1,dialogStatus:"",dialogPeerId:void 0,dialogType:void 0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),t.t0 instanceof Error&&e.setState({dialogBusy:!1,dialogStatus:"Failed to delete peer: ".concat(t.t0.message)});case 11:case"end":return t.stop()}}),t,null,[[2,8]])}))))}},{key:"toggleBlindMode",value:function(){this._settingsService.setBlindMode(!this.state.blindMode),this.setState({blindMode:!this.state.blindMode})}}]),s}(Ye)),ki=Object(g.g)(wi),Ci=s(30),Ii=(s(139),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={events:{},eventIds:[],eventInfo:""},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),e.next=3,this.fetchEvents();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(r.a.mark((function e(t,s){var a,i,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.eventIds===s.eventIds){e.next=21;break}a=this.state.eventIds.filter((function(e){return!s.eventIds.includes(e)})),i=Object(fs.a)(a),e.prev=3,i.s();case 5:if((n=i.n()).done){e.next=13;break}return c=n.value,e.next=9,this.fetchEventInfo(c);case 9:return e.next=11,this.fetchEventStatus(c);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})));return function(t,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,s,a,n,c,o,d,u,h,p,b=this;return Object(mt.jsx)("div",{className:"participation",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsx)("div",{className:"row end",children:Object(mt.jsx)("button",{type:"button",className:"add-button",onClick:function(){return b.setState({dialogType:"add",dialogStatus:"",dialogBusy:!1})},children:"Add Event"})}),Object(mt.jsxs)("div",{className:"events-panel",children:[0===this.state.eventIds.length&&Object(mt.jsx)("p",{className:"margin-t-s",children:"There are no events."}),this.state.eventIds.map((function(e,t){var s,a,i=b.state.events[e];return Object(mt.jsx)("div",{className:"events-panel--item",children:Object(mt.jsxs)("div",{className:"card col padding-m",children:[Object(mt.jsxs)("div",{className:"col",children:[Object(mt.jsx)("div",{className:"event-id word-break-all margin-b-s",children:Object(mt.jsxs)("span",{children:[Object(mt.jsx)("h4",{children:"ID"})," ",e]})}),Object(mt.jsxs)("div",{className:"event-item event-item--stretch",children:[Object(mt.jsx)("h4",{children:"Name"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.name})]})]}),Object(mt.jsxs)("div",{className:"row wrap",children:[Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Milestone index commence"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.milestoneIndexCommence})]}),Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Milestone index start"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.milestoneIndexStart})]}),Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Milestone index end"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===i||void 0===i?void 0:i.milestoneIndexEnd})]}),Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Type"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:0===(null===i||void 0===i?void 0:i.payload.type)?"Ballot":"Staking"})]}),Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Status"}),Object(mt.jsxs)("div",{className:"event-value word-break-all",children:[null===i||void 0===i||null===(s=i.status)||void 0===s?void 0:s.status.slice(0,1).toUpperCase(),null===i||void 0===i||null===(a=i.status)||void 0===a?void 0:a.status.slice(1)]})]})]}),Object(mt.jsxs)("div",{className:"row event-actions",children:[Object(mt.jsx)("button",{type:"button",className:"card--action card--action margin-t-s margin-r-s",onClick:function(){return b.setState({dialogType:"details",dialogStatus:"",dialogBusy:!1,dialogDetailsEvent:b.state.events[e]})},children:"More details"}),Object(mt.jsx)("button",{type:"button",className:"card--action card--action-danger margin-t-s",onClick:function(){return b.setState({dialogType:"delete",dialogStatus:"",dialogBusy:!1,deleteId:e})},children:"Delete"})]})]})},t)}))]}),this.state.dialogType&&Object(mt.jsxs)(Ni,{title:{add:"Add Event",delete:"Delete Event",details:"Event details"}[this.state.dialogType],actions:[Object(mt.jsx)("button",{className:"details"===this.state.dialogType?"d-none":"",type:"button",onClick:Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==b.state.dialogType){e.next=5;break}return e.next=3,b.submitEvent();case 3:e.next=8;break;case 5:if(!b.state.deleteId){e.next=8;break}return e.next=8,b.eventDelete(b.state.deleteId);case 8:case"end":return e.stop()}}),e)}))),disabled:this.state.dialogBusy||"add"===this.state.dialogType&&(!this.state.eventInfo||0===this.state.eventInfo.trim().length||!this.validateJsonOrUrl(null===(e=this.state)||void 0===e?void 0:e.eventInfo)),children:"add"===this.state.dialogType?"OK":"Yes"},0),Object(mt.jsx)("button",{type:"button",onClick:function(){return b.setState({dialogType:void 0,deleteId:void 0,dialogDetailsEvent:void 0})},disabled:this.state.dialogBusy,children:"add"===this.state.dialogType||"details"===this.state.dialogType?"Cancel":"No"},1)],children:["delete"===this.state.dialogType&&Object(mt.jsx)("p",{className:"margin-b-l",children:"Are you sure you want to delete the event \n                                    ".concat(this.state.deleteId?this.state.events[this.state.deleteId].name:"","?")}),"details"===this.state.dialogType&&this.state.dialogDetailsEvent&&Object(mt.jsxs)("div",{className:"row wrap",children:[Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Milestone index"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===(t=this.state.dialogDetailsEvent.status)||void 0===t?void 0:t.milestoneIndex})]}),Object(mt.jsxs)("div",{className:"event-item",children:[Object(mt.jsx)("h4",{children:"Status"}),Object(mt.jsxs)("div",{className:"event-value word-break-all",children:[null===(s=this.state.dialogDetailsEvent.status)||void 0===s?void 0:s.status.slice(0,1).toUpperCase(),null===(a=this.state.dialogDetailsEvent.status)||void 0===a?void 0:a.status.slice(1)]})]}),0===this.state.dialogDetailsEvent.payload.type&&Object(mt.jsx)("div",{children:null===(n=this.state.dialogDetailsEvent.payload.questions)||void 0===n?void 0:n.map((function(e,t){return Object(mt.jsxs)("div",{className:"event-item--highlight margin-b-s",children:[Object(mt.jsxs)("div",{className:"event-item event-item--stretch",children:[Object(mt.jsx)("h4",{children:"Question"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:e.text})]}),e.answers.map((function(e,s){var a,i,n,r;return Object(mt.jsxs)("div",{className:"row wrap",children:[Object(mt.jsxs)("div",{className:"event-item event-item--small",children:[Object(mt.jsx)("h4",{children:"Answer"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:e.text})]}),Object(mt.jsxs)("div",{className:"event-item event-item--small",children:[Object(mt.jsx)("h4",{children:"current"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null!==(a=b.state.dialogDetailsEvent)&&void 0!==a&&null!==(i=a.status)&&void 0!==i&&i.questions?b.state.dialogDetailsEvent.status.questions[t].answers[s].current:""})]}),Object(mt.jsxs)("div",{className:"event-item event-item--small",children:[Object(mt.jsx)("h4",{children:"accumulated"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null!==(n=b.state.dialogDetailsEvent)&&void 0!==n&&null!==(r=n.status)&&void 0!==r&&r.questions?b.state.dialogDetailsEvent.status.questions[t].answers[s].accumulated:""})]})]},s)}))]},t)}))}),1===this.state.dialogDetailsEvent.payload.type&&Object(mt.jsxs)("div",{className:"row event-item--highlight margin-b-s",children:[Object(mt.jsxs)("div",{className:"event-item event-item--small",children:[Object(mt.jsx)("h4",{children:"Symbol"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===(c=this.state.dialogDetailsEvent.status)||void 0===c||null===(o=c.staking)||void 0===o?void 0:o.symbol})]}),Object(mt.jsxs)("div",{className:"event-item event-item--small",children:[Object(mt.jsx)("h4",{children:"Staked"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===(d=this.state.dialogDetailsEvent.status)||void 0===d||null===(u=d.staking)||void 0===u?void 0:u.staked})]}),Object(mt.jsxs)("div",{className:"event-item event-item--small",children:[Object(mt.jsx)("h4",{children:"Rewarded"}),Object(mt.jsx)("div",{className:"event-value word-break-all",children:null===(h=this.state.dialogDetailsEvent.status)||void 0===h||null===(p=h.staking)||void 0===p?void 0:p.rewarded})]})]})]}),"add"===this.state.dialogType&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsxs)("p",{children:["Please enter the details of the event to ",this.state.dialogType,"."]}),Object(mt.jsx)("div",{className:"dialog--label",children:"JSON Configuration or URL"}),Object(mt.jsxs)("div",{className:"dialog--value",children:[Object(mt.jsx)("textarea",{className:"textarea--stretch dialog--value-textarea dialog--value-textarea__json",placeholder:'e.g. { "name":"Example event title"... } or http://example.com',value:this.state.eventInfo,disabled:this.state.dialogBusy,onChange:function(e){return b.setState({eventInfo:e.target.value})}}),this.state.eventInfo&&!this.validateJsonOrUrl(this.state.eventInfo)&&Object(mt.jsx)("span",{className:"validation--error",children:"Not a valid JSON or URL"})]})]}),this.state.dialogBusy&&Object(mt.jsx)(Ms,{}),Object(mt.jsx)("p",{className:st()("margin-t-l",{danger:!this.state.dialogBusy}),children:this.state.dialogStatus})]})]})})}},{key:"fetchEvents",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/events","get",void 0,s.buildAuthHeaders());case 3:null!==(a=e.sent)&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.eventIds?this.setState({eventIds:a.data.eventIds}):console.log(a.error),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchEventInfo",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/events/".concat(t),"get",void 0,s.buildAuthHeaders());case 3:(a=e.sent).data?this.setState((function(e){return{events:Object(h.a)(Object(h.a)({},e.events),{},Object(Ci.a)({},t,a.data))}})):console.log(a.error),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchEventStatus",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/events/".concat(t,"/status"),"get",void 0,s.buildAuthHeaders());case 3:(a=e.sent).data?this.state.events[t]&&this.setState((function(e){return Object(h.a)(Object(h.a)({},e),{},{events:Object(h.a)(Object(h.a)({},e.events),{},Object(Ci.a)({},t,Object(h.a)(Object(h.a)({},e.events[t]),{},{status:a.data})))})})):console.log(a.error),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitEvent",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.eventInfo){e.next=21;break}return e.prev=1,e.next=4,this.eventAdd(JSON.parse(this.state.eventInfo));case 4:e.next=21;break;case 6:return e.prev=6,e.t0=e.catch(1),e.prev=8,t=new URL(this.state.eventInfo),e.next=12,this.fetchEventJsonConfig(t);case 12:if(!(s=e.sent)){e.next=16;break}return e.next=16,this.eventAdd(s);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(8),e.t1 instanceof Error&&this.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(e.t1.message)});case 21:case"end":return e.stop()}}),e,this,[[1,6],[8,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"eventAdd",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogBusy:!0,dialogStatus:"Adding event, please wait..."},Object(i.a)(r.a.mark((function e(){var i,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/admin/events","post",t,s.buildAuthHeaders());case 3:(i=e.sent).data?(n=i.data.eventId,a.setState((function(e){return{eventIds:[n].concat(Object(Lt.a)(e.eventIds)),dialogBusy:!1,dialogStatus:"",dialogType:void 0,eventInfo:void 0}}))):a.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(null===(c=i.error)||void 0===c?void 0:c.message)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&a.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eventDelete",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogBusy:!0,dialogStatus:"Deleting event, please wait..."},Object(i.a)(r.a.mark((function e(){var i,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/api/plugins/participation/v1/admin/events/".concat(t),"delete",void 0,s.buildAuthHeaders());case 3:i=e.sent,0===Object.keys(i).length?a.setState({eventIds:a.state.eventIds.filter((function(e){return e!==t})),dialogBusy:!1,dialogStatus:"",dialogType:void 0}):(a.setState({dialogBusy:!1,dialogStatus:"Failed to delete event: ".concat(null===(n=i.error)||void 0===n?void 0:n.message)}),console.log(i.error)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&a.setState({dialogBusy:!1,dialogStatus:"Failed to delete event: ".concat(e.t0.message)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchEventJsonConfig",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.json(t.origin,t.pathname,"get");case 3:return s=e.sent,e.abrupt("return",s.data?s.data:s);case 7:return e.prev=7,e.t0=e.catch(0),e.prev=9,e.next=12,Rt.text(t.origin,t.pathname,"get");case 12:return a=e.sent,e.abrupt("return",a.data?a.data:a);case 16:e.prev=16,e.t1=e.catch(9),e.t1 instanceof Error&&this.setState({dialogBusy:!1,dialogStatus:"Failed to add event: ".concat(e.t1.message)});case 19:case"end":return e.stop()}}),e,this,[[0,7],[9,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"validateJsonOrUrl",value:function(e){try{return JSON.parse(e),!0}catch(s){try{var t=new URL(e);return Boolean(t)}catch(a){return!1}}}}],[{key:"initPlugin",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s._isAvailable=!1,t=Fe.a.get("tangle"),e.prev=2,e.next=5,t.info();case 5:e.sent.plugins.includes("participation/v1")&&(s._isAvailable=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"pluginDetails",value:function(){if(s._isAvailable)return{title:s.PLUGIN_TITLE,description:s.PLUGIN_DESCRIPTION,settings:Object(mt.jsx)(s,{})}}},{key:"buildAuthHeaders",value:function(){var e=Fe.a.get("auth"),t={},s=e.isLoggedIn();s&&(t.Authorization="Bearer ".concat(s));var a=e.csrf();return a&&(t["X-CSRF-Token"]=a),t}}]),s}(Ye));Ii.PLUGIN_TITLE="Participation",Ii.PLUGIN_DESCRIPTION="Manage on-tangle ballots and staking events tracked by the node.",Ii._isAvailable=!1;var Mi,Ti=Ii,Ei=(s(140),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._authService=void 0,a._authService=Fe.a.get("auth"),a.state={plugins:[]},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),t=[],this._authService.isLoggedIn()&&((a=Kt.pluginDetails())&&t.push(a),(i=Ti.pluginDetails())&&t.push(i)),t.length>0&&this.setState({activeTab:t[0].title}),this.setState({plugins:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(mt.jsx)("div",{className:"plugins",children:Object(mt.jsxs)("div",{className:"content",children:[0===this.state.plugins.length&&Object(mt.jsxs)("p",{className:"margin-t-s",children:["No plugins enabled which are supported by the dashboard.",Object(mt.jsx)("br",{}),"More information about managing plugins can be found on the"," ",Object(mt.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://wiki.iota.org/hornet/post_installation/managing_a_node#plugins",children:"Hornet Developer Documentation."})]}),Object(mt.jsx)(At,{tabs:this.state.plugins.map((function(e){return e.title})),activeTab:this.state.activeTab?this.state.activeTab:"",onTabChanged:function(t){e.setState({activeTab:t})},children:this.state.plugins.map((function(e,t){return Object(mt.jsx)("div",{"data-label":e.title,children:e.settings},t)}))})]})})}}]),s}(Ye)),Pi=Ei,Li=(s(141),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={statusBusy:!0,redirect:"",error:""},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),this.trySearch()}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.trySearch()}},{key:"render",value:function(){return this.state.redirect.length>0?Object(mt.jsx)(g.a,{to:this.state.redirect}):Object(mt.jsx)("div",{className:"search",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)(u.b,{to:"/explorer",className:"row middle inline",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{className:"margin-b-m",children:"Search"}),this.state.statusBusy&&Object(mt.jsx)(Ms,{}),!this.state.statusBusy&&Object(mt.jsxs)(l.a.Fragment,{children:[this.state.error&&Object(mt.jsx)("p",{className:"danger",children:this.state.error}),Object(mt.jsx)("br",{}),Object(mt.jsx)("p",{children:"Please try again with your query in one of the following formats:"}),Object(mt.jsx)("br",{}),Object(mt.jsxs)("ul",{children:[Object(mt.jsxs)("li",{children:[Object(mt.jsx)("span",{children:"Messages"}),Object(mt.jsx)("span",{children:"64 Hex characters"})]}),Object(mt.jsxs)("li",{children:[Object(mt.jsx)("span",{children:"Message using Transaction Id"}),Object(mt.jsx)("span",{children:"64 Hex characters"})]}),Object(mt.jsxs)("li",{children:[Object(mt.jsx)("span",{children:"Addresses"}),Object(mt.jsx)("span",{children:"64 Hex characters or Bech32 Format"})]}),Object(mt.jsxs)("li",{children:[Object(mt.jsx)("span",{children:"Outputs"}),Object(mt.jsx)("span",{children:"68 Hex characters"})]}),Object(mt.jsxs)("li",{children:[Object(mt.jsx)("span",{children:"Milestone Index"}),Object(mt.jsx)("span",{children:"Numeric"})]}),Object(mt.jsxs)("li",{children:[Object(mt.jsx)("span",{children:"Indexes"}),Object(mt.jsx)("span",{children:"Maximum 64 UTF-8 chars or maximum 128 hex chars"})]})]})]})]})]})})}},{key:"trySearch",value:function(){var e,t=this,s=(null!==(e=this.props.match.params.query)&&void 0!==e?e:"").trim();s.length>0?this.setState({statusBusy:!0},Object(i.a)(r.a.mark((function e(){var a,i,n,c,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fe.a.get("tangle"),e.next=3,a.search(s);case 3:if(i=e.sent,n="",i)if(i.unavailable)n="/explorer/unavailable";else{if(l=s,i.message){c="message",o=new ks.WriteStream;try{Object(gs.serializeMessage)(o,i.message)}catch(r){r instanceof Error&&console.log(r.message)}l=ks.Converter.bytesToHex(Dt.Blake2b.sum256(o.finalBytes()),!0)}else null!==i&&void 0!==i&&i.address?c="address":i.indexMessageIds?c="indexed":i.output?(c="message",l=i.output.messageId):i.milestone&&(c="milestone");c&&(n="/explorer/".concat(c,"/").concat(l))}t.setState({error:n.length>0?"":"Nothing could be found for the search.",statusBusy:!1,redirect:n});case 7:case"end":return e.stop()}}),e)})))):this.setState({statusBusy:!1,error:"The search is empty."})}}]),s}(Ye)),Di=(s(142),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e)).state={},a}return Object(b.a)(s,[{key:"render",value:function(){return Object(mt.jsx)("div",{className:"unavailable",children:Object(mt.jsxs)("div",{className:"content",children:[Object(mt.jsxs)(u.b,{to:"/explorer",className:"row middle inline",children:[Object(mt.jsx)(ws,{className:"secondary"}),Object(mt.jsx)("h3",{className:"secondary margin-l-s",children:"Back to Explorer"})]}),Object(mt.jsxs)("div",{className:"card margin-t-m padding-l",children:[Object(mt.jsx)("h2",{className:"margin-b-m",children:"Service Unavailable"}),Object(mt.jsx)("p",{children:"The node is currently unavailable or is not synced, please try again later."})]})]})})}}]),s}(Ye)),Bi=s(23),Ai=s.n(Bi),Ri=["title","titleId"];function Ui(){return Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ui.apply(this,arguments)}function Fi(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Hi(e,t){var s=e.title,a=e.titleId,i=Fi(e,Ri);return c.createElement("svg",Ui({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Mi||(Mi=c.createElement("path",{d:"M7.6151 6.00057L11.6514 1.96311C11.7605 1.85778 11.8475 1.73179 11.9073 1.59248C11.9671 1.45318 11.9986 1.30335 12 1.15174C12.0013 1.00013 11.9724 0.849774 11.915 0.709449C11.8576 0.569124 11.7728 0.441638 11.6656 0.33443C11.5584 0.227222 11.4309 0.142439 11.2906 0.0850271C11.1502 0.0276156 10.9999 -0.00127433 10.8483 4.31112e-05C10.6967 0.00136056 10.5468 0.032859 10.4075 0.0927004C10.2682 0.152542 10.1422 0.239528 10.0369 0.348583L5.99943 4.3849L1.96311 0.348583C1.85778 0.239528 1.73179 0.152542 1.59248 0.0927004C1.45318 0.032859 1.30335 0.00136056 1.15174 4.31112e-05C1.00013 -0.00127433 0.849774 0.0276156 0.709449 0.0850271C0.569124 0.142439 0.441638 0.227222 0.33443 0.33443C0.227222 0.441638 0.142439 0.569124 0.0850271 0.709449C0.0276156 0.849774 -0.00127433 1.00013 4.31112e-05 1.15174C0.00136056 1.30335 0.032859 1.45318 0.0927004 1.59248C0.152542 1.73179 0.239528 1.85778 0.348583 1.96311L4.3849 5.99943L0.348583 10.0369C0.239528 10.1422 0.152542 10.2682 0.0927004 10.4075C0.032859 10.5468 0.00136056 10.6967 4.31112e-05 10.8483C-0.00127433 10.9999 0.0276156 11.1502 0.0850271 11.2906C0.142439 11.4309 0.227222 11.5584 0.33443 11.6656C0.441638 11.7728 0.569124 11.8576 0.709449 11.915C0.849774 11.9724 1.00013 12.0013 1.15174 12C1.30335 11.9986 1.45318 11.9671 1.59248 11.9073C1.73179 11.8475 1.85778 11.7605 1.96311 11.6514L5.99943 7.6151L10.0369 11.6514C10.1422 11.7605 10.2682 11.8475 10.4075 11.9073C10.5468 11.9671 10.6967 11.9986 10.8483 12C10.9999 12.0013 11.1502 11.9724 11.2906 11.915C11.4309 11.8576 11.5584 11.7728 11.6656 11.6656C11.7728 11.5584 11.8576 11.4309 11.915 11.2906C11.9724 11.1502 12.0013 10.9999 12 10.8483C11.9986 10.6967 11.9671 10.5468 11.9073 10.4075C11.8475 10.2682 11.7605 10.1422 11.6514 10.0369L7.6151 5.99943V6.00057Z",fill:"#9AADCE"})))}var zi,Vi=c.forwardRef(Hi),Yi=(s.p,["title","titleId"]);function Wi(){return Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wi.apply(this,arguments)}function Ki(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function qi(e,t){var s=e.title,a=e.titleId,i=Ki(e,Yi);return c.createElement("svg",Wi({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,zi||(zi=c.createElement("path",{d:"M6 3H8C8.53043 3 9.03914 3.21071 9.41421 3.58579C9.78929 3.96086 10 4.46957 10 5V19C10 19.5304 9.78929 20.0391 9.41421 20.4142C9.03914 20.7893 8.53043 21 8 21H6C5.46957 21 4.96086 20.7893 4.58579 20.4142C4.21071 20.0391 4 19.5304 4 19V5C4 4.46957 4.21071 3.96086 4.58579 3.58579C4.96086 3.21071 5.46957 3 6 3V3ZM6 5V19H8V5H6ZM16 3H18C18.5304 3 19.0391 3.21071 19.4142 3.58579C19.7893 3.96086 20 4.46957 20 5V19C20 19.5304 19.7893 20.0391 19.4142 20.4142C19.0391 20.7893 18.5304 21 18 21H16C15.4696 21 14.9609 20.7893 14.5858 20.4142C14.2107 20.0391 14 19.5304 14 19V5C14 4.46957 14.2107 3.96086 14.5858 3.58579C14.9609 3.21071 15.4696 3 16 3V3ZM16 5V19H18V5H16Z",fill:"#9AADCE"})))}var Gi,Zi=c.forwardRef(qi),Ji=(s.p,["title","titleId"]);function Qi(){return Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qi.apply(this,arguments)}function Xi(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function $i(e,t){var s=e.title,a=e.titleId,i=Xi(e,Ji);return c.createElement("svg",Qi({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),s?c.createElement("title",{id:a},s):null,Gi||(Gi=c.createElement("path",{d:"M7.78205 4.3598L19.2432 11.5176L7.92341 18.8969L7.78205 4.3598Z",stroke:"#9AADCE",strokeWidth:2,strokeLinejoin:"round"})))}var en=c.forwardRef($i),tn=(s.p,s(179),function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._graphElement=void 0,a._graph=void 0,a._renderer=void 0,a._graphics=void 0,a._vizualizerService=void 0,a._metricsService=void 0,a._tangleService=void 0,a._themeService=void 0,a._mpsMetricsSubscription=void 0,a._resize=void 0,a._enteredVertexId=void 0,a._graphElement=null,a._resize=function(){return a.resize()},a._vizualizerService=Fe.a.get("visualizer"),a._metricsService=Fe.a.get("metrics"),a._tangleService=Fe.a.get("tangle"),a._themeService=Fe.a.get("theme"),a.state={mps:"-",total:"-",tips:"-",referenced:"-",conflicting:"-",solid:"-",isActive:!0,theme:a._themeService.get()},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),window.addEventListener("resize",this._resize),this._vizualizerService.subscribe((function(t,s){"add"===s||"update"===s?e.updateVertex(t):"delete"===s&&e.deleteVertex(t)}),(function(t){e.state.isActive&&e.setState({total:t.total.toString(),tips:t.tips.toString(),referenced:t.total>0?"".concat((t.referenced/t.total*100).toFixed(2),"%"):"-",conflicting:t.total>0?"".concat((t.conflicting/t.total*100).toFixed(2),"%"):"-",solid:t.total>0?"".concat((t.solid/t.total*100).toFixed(2),"%"):"-"})}),(function(t,s,a){return e.referenceVertex(t,s,a)})),this._mpsMetricsSubscription=this._metricsService.subscribe(Re.MPSMetrics,(function(t){t&&e.state.isActive&&e.setState({mps:t.new.toString()})})),He.subscribe("theme","visualizer",(function(t){e.setState({theme:t},(function(){return e.styleAllLinks()}))}))}},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),this._mpsMetricsSubscription&&(this._metricsService.unsubscribe(this._mpsMetricsSubscription),this._mpsMetricsSubscription=void 0),this._vizualizerService.unsubscribe(),He.unsubscribe("theme","visualizer"),this._graph=void 0,this._graphics=void 0,this._renderer=void 0,this._graphElement=null,window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){var e=this;return Object(mt.jsxs)("div",{className:"visualizer",children:[Object(mt.jsx)("div",{className:"canvas",ref:function(t){return e.setupGraph(t)}}),Object(mt.jsx)("div",{className:"action-panel-container",children:Object(mt.jsx)("div",{className:"card padding-0",children:Object(mt.jsx)("button",{className:"icon-button",type:"button",onClick:function(){return e.toggleActivity()},children:this.state.isActive?Object(mt.jsx)(Zi,{}):Object(mt.jsx)(en,{})})})}),Object(mt.jsx)("div",{className:"stats-panel-container",children:Object(mt.jsxs)("div",{className:"card stats-panel",children:[Object(mt.jsx)("div",{className:"card--label",children:"Messages"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.total}),Object(mt.jsx)("div",{className:"card--label",children:"MPS"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.mps}),Object(mt.jsx)("div",{className:"card--label",children:"Tips"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.tips}),Object(mt.jsx)("div",{className:"card--label",children:"Referenced"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.referenced}),Object(mt.jsx)("div",{className:"card--label",children:"Conflicting"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.conflicting}),Object(mt.jsx)("div",{className:"card--label",children:"Solid"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.solid})]})}),Object(mt.jsx)("div",{className:"key-panel-container",children:Object(mt.jsxs)("div",{className:"card key-panel",children:[Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--solid"}),Object(mt.jsx)("div",{className:"key-label",children:"Solid"})]}),Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--unsolid"}),Object(mt.jsx)("div",{className:"key-label",children:"Unsolid"})]}),Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--referenced"}),Object(mt.jsx)("div",{className:"key-label",children:"Referenced"})]}),Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--conflicting"}),Object(mt.jsx)("div",{className:"key-label",children:"Conflicting"})]}),Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--milestone"}),Object(mt.jsx)("div",{className:"key-label",children:"Milestone"})]}),Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--unknown"}),Object(mt.jsx)("div",{className:"key-label",children:"Unknown"})]}),Object(mt.jsxs)("div",{className:"key-panel-item",children:[Object(mt.jsx)("div",{className:"key-marker vertex-state--tip"}),Object(mt.jsx)("div",{className:"key-label",children:"Tip"})]})]})}),this.state.selected&&this._graphElement&&Object(mt.jsx)("div",{className:"info-panel-container",children:Object(mt.jsxs)("div",{className:"card fill padding-m",children:[Object(mt.jsxs)("div",{className:"row middle spread",children:[Object(mt.jsxs)("div",{className:"row middle",children:[Object(mt.jsx)("div",{className:st()("info-panel--key","vertex-state--".concat(this.state.selected.state.toLowerCase()))}),Object(mt.jsxs)("h3",{children:[this.state.selected.state,this.state.selected.title]})]}),Object(mt.jsx)("button",{type:"button",className:"icon-button",onClick:function(){return e.selectNode()},children:Object(mt.jsx)(Vi,{})})]}),Object(mt.jsxs)("div",{className:"col",children:[this.state.selected.vertex.fullId&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Message Id"}),Object(mt.jsx)("div",{className:"card--value",children:Object(mt.jsx)("a",{href:this.calculateMessageLink(this.state.selected.vertex),target:"_blank",rel:"noopener noreferrer",children:this.state.selected.vertex.fullId})})]}),this.state.selected.payload&&this.state.selected.payload.type===gs.TRANSACTION_PAYLOAD_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Total"}),Object(mt.jsx)("div",{className:"card--value",children:gs.UnitsHelper.formatBest(this.calculateTotal())})]}),this.state.selected.payload&&this.state.selected.payload.type===gs.MILESTONE_PAYLOAD_TYPE&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Index"}),Object(mt.jsx)("div",{className:"card--value",children:this.state.selected.payload.index}),Object(mt.jsx)("div",{className:"card--label",children:"Date"}),Object(mt.jsx)("div",{className:"card--value",children:et.date(this.state.selected.payload.timestamp,!1)})]}),this.state.selected.payload&&this.state.selected.payload.type===gs.TAGGED_DATA_PAYLOAD_TYPE&&this.state.selected.payload.tag&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)("div",{className:"card--label",children:"Index UTF8"}),Object(mt.jsx)("div",{className:"card--value",children:Object(mt.jsx)("a",{href:this.calculateIndexedLink(this.state.selected.payload.tag),target:"_blank",rel:"noopener noreferrer",children:ks.Converter.hexToUtf8(this.state.selected.payload.tag)})}),Object(mt.jsx)("div",{className:"card--label",children:"Index Hex"}),Object(mt.jsx)("div",{className:"card--value",children:Object(mt.jsx)("a",{href:this.calculateIndexedLink(this.state.selected.payload.tag),target:"_blank",rel:"noopener noreferrer",children:this.state.selected.payload.tag})})]})]})]})})]})}},{key:"setupGraph",value:function(e){var t=this;if(this._graphElement=e,e&&!this._graph){this._graph=Ai.a.Graph.graph(),this._graphics=Ai.a.Graph.View.webglGraphics();var a=Ai.a.Graph.Layout.forceDirected(this._graph,{springLength:10,springCoeff:1e-4,stableThreshold:.15,gravity:-2,dragCoeff:.02,timeStep:20,theta:.8});this._graphics.node((function(e){return Ai.a.Graph.View.webglSquare(t.calculateSize(e.data),"#".concat(s.STATE_COLOR_MAP[t.calculateState(e.data)].toString(16)))})),this._graphics.link((function(){return Ai.a.Graph.View.webglLine("#".concat(s.THEME_COLOR_LINKS[t.state.theme].toString(16)))})),this._renderer=Ai.a.Graph.View.renderer(this._graph,{container:e,graphics:this._graphics,layout:a,renderLinks:!0});var i=Ai.a.Graph.webglInputEvents(this._graphics,this._graph);i.click((function(e){return t.selectNode(e)})),i.dblClick((function(e){t.selectNode(),window.open(t.calculateMessageLink(e.data),"_blank")})),i.mouseEnter((function(e){var s,a;t.state.selected||(t._enteredVertexId&&(t.connectedLinkStyle(t._enteredVertexId,!1),t._enteredVertexId=void 0),e&&(t._enteredVertexId=null!==(s=null===(a=e.data)||void 0===a?void 0:a.shortId)&&void 0!==s?s:e.id.slice(0,7),t.connectedLinkStyle(t._enteredVertexId,!0)))})),i.mouseLeave((function(e){t._enteredVertexId&&(t.connectedLinkStyle(t._enteredVertexId,!1),t._enteredVertexId=void 0)})),this._renderer.run(),this._graphics.scale(1,{x:e.clientWidth/2,y:e.clientHeight/2});for(var n=0;n<12;n++)this._renderer.zoomOut()}}},{key:"updateVertex",value:function(e){var t=this;if(this._graph){var s=this.updateNodeUI(e.shortId);if(s||(s=this._graph.addNode(e.shortId,e)),e.parents)for(var a=[],i=function(i){var n=e.parents[i];a.includes(n)||s.links&&s.links.some((function(e){return e.toId===n}))||(a.push(n),t._graph.addLink(e.shortId,n))},n=0;n<e.parents.length;n++)i(n)}}},{key:"updateNodeUI",value:function(e){if(this._graphics&&this._graph){var t,a=null===(t=this._graph)||void 0===t?void 0:t.getNode(e);if(a){var i=this._graphics.getNodeUI(e);i&&(i.color=s.STATE_COLOR_MAP[this.calculateState(a.data)],i.size=this.calculateSize(a.data))}return a}}},{key:"calculateState",value:function(e){return e&&e.parents?e.isMilestone?"Milestone":e.isTip?"Tip":e.isConflicting?"Conflicting":e.isReferenced?"Referenced":e.isSolid?"Solid":"Unsolid":"Unknown"}},{key:"calculateSize",value:function(e){return e&&e.parents?e.isSelected||e.isMilestone?30:20:10}},{key:"deleteVertex",value:function(e){this._graph&&(this._graph.removeNode(e.shortId),this.state.selected&&this.state.selected.vertex.shortId===e.shortId&&(this.setState({selected:void 0}),this.connectedLinkStyle(this.state.selected.vertex.shortId,!1)),this._enteredVertexId&&this._enteredVertexId===e.shortId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0))}},{key:"referenceVertex",value:function(e,t,s){var a=this;if(this._graph){var i=this._graph.getNode(e);if(i){this.dfsIterator(i,(function(e){if(a._graph){var i=a._graph.getNode(e);if(!i||!i.data)return!0;if(!i.data.isReferenced&&!i.data.isConflicting)return t.includes(i.data.shortId)?(s.conflicting++,i.data.isConflicting=!0,a.updateVertex(i.data),!1):(s.referenced++,i.data.isReferenced=!0,a.updateVertex(i.data),!1)}return!0}),void 0,!1,[])}}}},{key:"dfsIterator",value:function(e,t,s,a,i){if(this._graph){i.push(e);for(var n=0;i.length>n;){var r,c,l=i[n++],o=null!==(r=null===(c=l.data)||void 0===c?void 0:c.shortId)&&void 0!==r?r:l.id.slice(0,7);if(null===t||void 0===t||!t(o)){var d,u=Object(fs.a)(l.links);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(!a&&h.fromId===o){s&&s(h.id);var p=this._graph.getNode(h.toId);p&&!i.includes(p)&&i.push(p)}if(a&&h.toId===o){s&&s(h.id);var b=this._graph.getNode(h.fromId);b&&!i.includes(b)&&i.push(b)}}}catch(v){u.e(v)}finally{u.f()}}}}}},{key:"resize",value:function(){this._graphics&&this._graphElement&&(this._graphics.updateSize(),this._graphics.scale(1,{x:this._graphElement.clientWidth/2,y:this._graphElement.clientHeight/2}))}},{key:"toggleActivity",value:function(){this._renderer&&(this.state.isActive?this._renderer.pause():this._renderer.resume()),this.setState({isActive:!this.state.isActive})}},{key:"selectNode",value:function(e){var t=this;this.state.selected&&(this.state.selected.vertex.isSelected=!1,this.updateNodeUI(this.state.selected.vertex.shortId),this.connectedLinkStyle(this.state.selected.vertex.shortId,!1)),e?(e.data||(e.data={shortId:e.id}),e.data.isSelected=!0,this.updateNodeUI(e.id),this._enteredVertexId&&(this.connectedLinkStyle(this._enteredVertexId,!1),this._enteredVertexId=void 0),this.connectedLinkStyle(e.data.shortId,!0),this.setState({selected:{vertex:null===e||void 0===e?void 0:e.data,state:this.calculateState(e.data)}},Object(i.a)(r.a.mark((function s(){var a,i,n;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(null===(a=e.data)||void 0===a||!a.fullId){s.next=7;break}return s.next=3,t._tangleService.payload(e.data.fullId);case 3:i=s.sent,n="",i?i.type===gs.TRANSACTION_PAYLOAD_TYPE?n=" - Transaction":i.type===gs.MILESTONE_PAYLOAD_TYPE?n="":i.type===gs.TAGGED_DATA_PAYLOAD_TYPE&&(n=" - Indexation"):e.data.isMilestone&&(n=" - Checkpoint"),t.setState({selected:{vertex:null===e||void 0===e?void 0:e.data,state:t.calculateState(e.data),payload:i,title:n}});case 7:case"end":return s.stop()}}),s)}))))):this.setState({selected:void 0})}},{key:"calculateMessageLink",value:function(e){return null!==e&&void 0!==e&&e.fullId?"".concat(window.location.protocol,"//").concat(window.location.host,"/explorer/message/").concat(e.fullId):""}},{key:"calculateIndexedLink",value:function(e){return"".concat(window.location.protocol,"//").concat(window.location.host,"/explorer/indexed/").concat(e)}},{key:"connectedLinkStyle",value:function(e,t){var a=this;if(this._graph){var i=this._graph.getNode(e);if(i){this.dfsIterator(i,void 0,(function(e){if(a._graphics){var i=a._graphics.getLinkUI(e);i&&(i.color=t?s.COLOR_LINK_CHILDREN:s.THEME_COLOR_LINKS[a.state.theme])}}),!0,[]),this.dfsIterator(i,void 0,(function(e){if(a._graphics){var i=a._graphics.getLinkUI(e);i&&(i.color=t?s.COLOR_LINK_PARENTS:s.THEME_COLOR_LINKS[a.state.theme])}}),!1,[])}}}},{key:"styleAllLinks",value:function(){var e=this;this._graph&&this._graphics&&this._graph.forEachLink((function(t){if(e._graphics){var a=e._graphics.getLinkUI(t.id);a&&(a.color=s.THEME_COLOR_LINKS[e.state.theme])}}))}},{key:"calculateTotal",value:function(){var e,t,s=0;if((null===(e=this.state.selected)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.type)===gs.TRANSACTION_PAYLOAD_TYPE){var a,i=Object(fs.a)(this.state.selected.payload.essence.outputs);try{for(i.s();!(a=i.n()).done;){var n=a.value;n.type===gs.BASIC_OUTPUT_TYPE&&(s+=Number(n.amount))}}catch(r){i.e(r)}finally{i.f()}}return s}}]),s}(Ye));tn.STATE_COLOR_MAP={Solid:1286275071,Unsolid:2414279423,Referenced:1642628351,Conflicting:4287323391,Milestone:1718286079,Tip:4291453695,Unknown:2595081983},tn.THEME_COLOR_LINKS={dark:4294967074,light:3722305023},tn.COLOR_LINK_CHILDREN=4284132095,tn.COLOR_LINK_PARENTS=65535;var sn=tn,an=function(e){Object(j.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(p.a)(this,s),(a=t.call(this,e))._themeService=void 0,a._authService=void 0,a._metricsService=void 0,a._publicNodeStatusSubscription=void 0,a._statusSubscription=void 0,a._syncStatusSubscription=void 0,a._alias=void 0,a._lmi=void 0,a._cmi=void 0,a._lastStatus=void 0,a._statusTimer=void 0,a._themeService=Fe.a.get("theme"),a._authService=Fe.a.get("auth"),a._metricsService=Fe.a.get("metrics"),a._lastStatus=0,a.state={isLoggedIn:Boolean(a._authService.isLoggedIn()),theme:a._themeService.get(),online:!1,syncHealth:!1,nodeHealth:!1},a.updateTitle(),a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(v.a)(Object(m.a)(s.prototype),"componentDidMount",this).call(this),He.subscribe("auth-state","app",(function(e){t.setState({isLoggedIn:e})})),He.subscribe("theme","app",(function(e){t.setState({theme:e})})),this._statusSubscription=this._metricsService.subscribe(Re.NodeStatus,(function(e){e&&e.node_alias!==t._alias&&(t._alias=e.node_alias,t.updateTitle())})),this._syncStatusSubscription=this._metricsService.subscribe(Re.SyncStatus,(function(e){if(e){var s=e.lmi?e.lmi.toString():"",a=e.cmi?e.cmi.toString():"";s===t._lmi&&a===t._cmi||(t._cmi=a,t._lmi=s,t.updateTitle())}})),this._publicNodeStatusSubscription=this._metricsService.subscribe(Re.PublicNodeStatus,(function(e){e&&(t._lastStatus=Date.now(),t.state.online||(He.publish("online",!0),t.setState({online:!0})),e.is_healthy!==t.state.nodeHealth&&t.setState({nodeHealth:e.is_healthy}),e.is_synced!==t.state.syncHealth&&t.setState({syncHealth:e.is_synced}))})),this._statusTimer=setInterval((function(){Date.now()-t._lastStatus>1e4&&t.state.online&&(t.setState({online:!1}),He.publish("online",!1))}),1e3);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Object(v.a)(Object(m.a)(s.prototype),"componentWillUnmount",this).call(this),He.unsubscribe("auth-state","app"),He.unsubscribe("theme","app"),this._statusSubscription&&(this._metricsService.unsubscribe(this._statusSubscription),this._statusSubscription=void 0),this._syncStatusSubscription&&(this._metricsService.unsubscribe(this._syncStatusSubscription),this._syncStatusSubscription=void 0),this._publicNodeStatusSubscription&&(this._metricsService.unsubscribe(this._publicNodeStatusSubscription),this._publicNodeStatusSubscription=void 0),void 0!==this._statusTimer&&(clearInterval(this._statusTimer),this._statusTimer=void 0)}},{key:"render",value:function(){var e=this,t=[{label:"Home",icon:Object(mt.jsx)(A,{}),route:"/",hidden:!this.state.isLoggedIn},{label:"Analytics",icon:Object(mt.jsx)(N,{}),route:"/analytics",hidden:!this.state.isLoggedIn},{label:"Peers",icon:Object(mt.jsx)(pe,{}),route:"/peers",hidden:!this.state.isLoggedIn},{label:"Explorer",icon:Object(mt.jsx)(T,{}),route:"/explorer"},{label:"Visualizer",icon:Object(mt.jsx)(Ue,{}),route:"/visualizer"},{label:"Plugins",icon:Object(mt.jsx)(ke,{}),route:"/plugins",hidden:!this.state.isLoggedIn},{label:"Login",icon:Object(mt.jsx)(ce,{}),route:"/login",hidden:this.state.isLoggedIn},{label:"Logout",icon:Object(mt.jsx)(te,{}),function:function(){return e._authService.logout()},hidden:!this.state.isLoggedIn}],s=[{label:"Light",icon:Object(mt.jsx)(Pe,{}),function:function(){return e._themeService.apply("light",!0)},hidden:"light"===this.state.theme},{label:"Dark",icon:Object(mt.jsx)(K,{}),function:function(){return e._themeService.apply("dark",!0)},hidden:"dark"===this.state.theme}];return Object(mt.jsxs)("div",{className:"app",children:[Object(mt.jsx)(Ge,{size:"phone",aboveBelow:"above",children:Object(mt.jsx)(Pt,{fullWidth:!1,middle:this.state.online?t:[],end:this.state.online?s:[]})}),Object(mt.jsxs)("div",{className:"col fill",children:[Object(mt.jsx)(It,{children:Object(mt.jsx)(Ge,{size:"phone",aboveBelow:"below",children:Object(mt.jsx)(Tt,{children:Object(mt.jsx)(Pt,{fullWidth:!0,middle:this.state.online?t:[],end:this.state.online?s:[]})})})}),Object(mt.jsxs)("div",{className:"fill scroll-content",children:[!this.state.online&&Object(mt.jsx)("p",{className:"padding-l",children:"The node is offline or loading."}),this.state.online&&Object(mt.jsxs)(l.a.Fragment,{children:[Object(mt.jsx)(Ge,{size:"tablet",aboveBelow:"below",children:Object(mt.jsxs)("div",{className:"card card__flat row middle health-indicators",children:[Object(mt.jsx)(ft,{label:"Health",healthy:this.state.nodeHealth,className:"child margin-r-l"}),Object(mt.jsx)(ft,{label:"Sync",healthy:this.state.syncHealth,className:"child"})]})}),Object(mt.jsxs)(g.d,{children:[this.state.isLoggedIn&&[Object(mt.jsx)(g.b,{exact:!0,path:"/",component:function(){return Object(mt.jsx)(Oi,{})}},"home"),Object(mt.jsx)(g.b,{path:"/analytics/:section?",component:function(e){return Object(mt.jsx)(Zt,Object(h.a)({},e))}},"analytics"),Object(mt.jsx)(g.b,{exact:!0,path:"/peers",component:function(){return Object(mt.jsx)(ki,{})}},"peers"),Object(mt.jsx)(g.b,{path:"/peers/:id",component:function(e){return Object(mt.jsx)(Si,Object(h.a)({},e))}},"peer")],!this.state.isLoggedIn&&Object(mt.jsx)(g.b,{path:"/",exact:!0,component:function(){return Object(mt.jsx)(js,{})}}),Object(mt.jsx)(g.b,{path:"/explorer",exact:!0,component:function(){return Object(mt.jsx)(js,{})}}),Object(mt.jsx)(g.b,{path:"/explorer/search/:query?",component:function(e){return Object(mt.jsx)(Li,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/explorer/unavailable",component:function(e){return Object(mt.jsx)(Di,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/explorer/message/:messageId",component:function(e){return Object(mt.jsx)(wa,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/explorer/milestone/:milestoneIndex",component:function(e){return Object(mt.jsx)(La,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/explorer/indexed/:index",component:function(e){return Object(mt.jsx)(Xs,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/explorer/address/:address",component:function(e){return Object(mt.jsx)(Js,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/visualizer",component:function(e){return Object(mt.jsx)(sn,Object(h.a)({},e))}}),Object(mt.jsx)(g.b,{path:"/plugins",component:function(){return Object(mt.jsx)(Pi,{})}}),Object(mt.jsx)(g.b,{path:"/login",component:function(){return Object(mt.jsx)(xi,{})}}),Object(mt.jsx)(g.b,{exact:!0,path:"*",component:function(){return Object(mt.jsx)(g.a,{to:"/"})}})]})]})]})]})]})}},{key:"updateTitle",value:function(){var e=ze.getConfiguration().name;this._alias&&(e+=" (".concat(this._alias,")")),this._lmi&&this._cmi&&(e+=" ".concat(this._cmi," / ").concat(this._lmi)),document.title=e}}]),s}(Ye),nn=Object(g.g)(an),rn=(s(180),function(){function e(){if(Object(p.a)(this,e),this._jwt=void 0,this._csrf=void 0,this._jwt=void 0,document.cookie){var t=document.cookie.split(";").find((function(e){return e.trim().startsWith("_csrf")}));if(t){var s=t.split("=");2===s.length&&(this._csrf=s[1])}}}return Object(b.a)(e,[{key:"initialize",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fe.a.get("storage"),!(s=t.load("dashboard-jwt"))){e.next=5;break}return e.next=5,this.login(void 0,void 0,s);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(i.a)(r.a.mark((function e(t,s,a){var i,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logout(),e.prev=1,i={},this._csrf&&(i["X-CSRF-Token"]=this._csrf),e.next=6,Rt.json("".concat(window.location.protocol,"//").concat(window.location.host),"/auth","post",{user:t,password:s,jwt:a},i);case 6:(n=e.sent).jwt&&(c=Fe.a.get("storage"),this._jwt=n.jwt,c.save("dashboard-jwt",this._jwt),He.publish("auth-state",!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.abrupt("return",void 0!==this._jwt);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t,s,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this._jwt&&(Fe.a.get("storage").remove("dashboard-jwt"),this._jwt=void 0,He.publish("auth-state",!1))}},{key:"isLoggedIn",value:function(){return this._jwt}},{key:"csrf",value:function(){return this._csrf}}]),e}()),cn=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,[{key:"load",value:function(e){var t;if(window.localStorage)try{var s=window.localStorage.getItem(e);s&&(t=JSON.parse(s))}catch(a){}return t}},{key:"save",value:function(e,t){if(window.localStorage)try{var s=JSON.stringify(t);window.localStorage.setItem(e,s)}catch(a){}}},{key:"remove",value:function(e){if(window.localStorage)try{window.localStorage.removeItem(e)}catch(t){}}},{key:"clear",value:function(e){if(window.localStorage)try{if(e){for(var t=[],s=window.localStorage.length,a=0;a<s;a++){var i=window.localStorage.key(a);null!==i&&void 0!==i&&i.startsWith(e)&&t.push(i)}for(var n=0,r=t;n<r.length;n++){var c=r[n];window.localStorage.removeItem(c)}}else window.localStorage.clear()}catch(l){}}}]),e}(),ln=function(){function e(){Object(p.a)(this,e),this._webSocketService=void 0,this._webSocketSubscriptions=void 0,this._cached=void 0,this._subscriptions=void 0,this._webSocketService=Fe.a.get("web-socket"),this._webSocketSubscriptions=[],this._subscriptions={},this._cached={}}return Object(b.a)(e,[{key:"initialize",value:function(){for(var e=this,t=[{topic:Re.SyncStatus,isPublic:!0},{topic:Re.NodeStatus,isPublic:!1},{topic:Re.PublicNodeStatus,isPublic:!0},{topic:Re.MPSMetrics,isPublic:!0},{topic:Re.DBSizeMetric,isPublic:!1},{topic:Re.PeerMetric,isPublic:!1},{topic:Re.Ms,isPublic:!0},{topic:Re.ConfirmedMsMetrics,isPublic:!0},{topic:Re.SpamMetrics,isPublic:!1},{topic:Re.AvgSpamMetrics,isPublic:!1}],s=function(){var t=i[a];e._webSocketSubscriptions.push(e._webSocketService.subscribe(t.topic,!t.isPublic,(function(s){e.triggerCallbacks(t.topic,s)})))},a=0,i=t;a<i.length;a++)s()}},{key:"closedown",value:function(){for(var e=0;e<this._webSocketSubscriptions.length;e++)this._webSocketService.unsubscribe(this._webSocketSubscriptions[e]);this._webSocketSubscriptions=[]}},{key:"subscribe",value:function(e,t,s){this._subscriptions[e]||(this._subscriptions[e]=[]);var a=ks.Converter.bytesToHex(ks.RandomHelper.generate(32));return this._subscriptions[e].push({subscriptionId:a,singleCallback:t,multipleCallback:s}),this._cached[e]&&this._cached[e].length>0&&(s&&s(this._cached[e]),t&&t(this._cached[e][this._cached[e].length-1])),a}},{key:"unsubscribe",value:function(e){var t,s=Object(fs.a)(Object.keys(this._subscriptions).map((function(e){return Number(e)})));try{for(s.s();!(t=s.n()).done;){var a=t.value,i=this._subscriptions[a].findIndex((function(t){return t.subscriptionId===e}));if(i>=0&&(this._subscriptions[a].splice(i,1),0===this._subscriptions[a].length)){delete this._subscriptions[a];break}}}catch(n){s.e(n)}finally{s.f()}}},{key:"triggerCallbacks",value:function(e,t){var s;(this._cached[e]||(this._cached[e]=[]),e===Re.DBSizeMetric||e===Re.ConfirmedMsMetrics)?Array.isArray(t)?(s=this._cached[e]).push.apply(s,Object(Lt.a)(t)):this._cached[e].push(t):this._cached[e].push(t);if(this._cached[e]=this._cached[e].slice(-60),this._subscriptions[e]){var a,i=Object(fs.a)(this._subscriptions[e]);try{for(i.s();!(a=i.n()).done;){var n=a.value;n.singleCallback&&n.singleCallback(this._cached[e][this._cached[e].length-1]),n.multipleCallback&&n.multipleCallback(this._cached[e])}}catch(r){i.e(r)}finally{i.f()}}}}]),e}(),on=function(){function e(){Object(p.a)(this,e),this._networkId=void 0,this._bech32Hrp=void 0,this._networkId=void 0,this._bech32Hrp=void 0}return Object(b.a)(e,[{key:"initialize",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._bech32Hrp&&this._networkId){e.next=12;break}return t=Fe.a.get("tangle"),e.prev=2,e.next=5,t.info();case 5:s=e.sent,this._bech32Hrp=s.protocol.bech32HRP,this._networkId=s.protocol.networkName,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBech32Hrp",value:function(){var e;return null!==(e=this._bech32Hrp)&&void 0!==e?e:"iota"}},{key:"getNetworkId",value:function(){var e;return null!==(e=this._networkId)&&void 0!==e?e:""}}]),e}(),dn=function(){function e(){Object(p.a)(this,e),this._blindMode=void 0,this._storageService=void 0,this._storageService=Fe.a.get("storage"),this._blindMode=!1}return Object(b.a)(e,[{key:"initialize",value:function(){var e;this._blindMode=null!==(e=this._storageService.load("blindMode"))&&void 0!==e&&e}},{key:"getBlindMode",value:function(){return this._blindMode}},{key:"setBlindMode",value:function(e){this._blindMode=e,this._storageService.save("blindMode",this._blindMode),He.publish("settings.blindMode",this._blindMode)}}]),e}(),un=function(){function e(){Object(p.a)(this,e),this._nodeInfo=void 0,this._authService=void 0,this._authService=Fe.a.get("auth")}return Object(b.a)(e,[{key:"info",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.buildClient(),e.next=3,t.info();case 3:return this._nodeInfo=e.sent,e.abrupt("return",this._nodeInfo);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s,a,i,n,c,l,o,d,u,h,p,b,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.toLowerCase(),a=this.buildClient(),e.prev=2,!/^\d+$/.test(t)){e.next=8;break}return e.next=6,a.milestone(Number.parseInt(t,10));case 6:return i=e.sent,e.abrupt("return",{milestone:i});case 8:e.next=14;break;case 10:if(e.prev=10,e.t0=e.catch(2),!(e.t0 instanceof gs.ClientError&&this.checkForUnavailable(e.t0))){e.next=14;break}return e.abrupt("return",{unavailable:!0});case 14:if(e.prev=14,this._nodeInfo){e.next=18;break}return e.next=18,this.info();case 18:if(!this._nodeInfo||!gs.Bech32Helper.matches(s,this._nodeInfo.protocol.bech32HRP)){e.next=28;break}return e.next=21,this.addressBalance(s);case 21:if(!(n=e.sent)){e.next=28;break}return c=new gs.IndexerPluginClient(a),e.next=26,c.outputs({addressBech32:s});case 26:return l=e.sent,e.abrupt("return",{address:n,addressOutputIds:l.items});case 28:e.next=34;break;case 30:if(e.prev=30,e.t1=e.catch(14),!(e.t1 instanceof gs.ClientError&&this.checkForUnavailable(e.t1))){e.next=34;break}return e.abrupt("return",{unavailable:!0});case 34:if(!ks.Converter.isHex(s,!0)||66!==s.length){e.next=57;break}return e.prev=35,e.next=38,a.message(s);case 38:return o=e.sent,e.abrupt("return",{message:o});case 42:if(e.prev=42,e.t2=e.catch(35),!(e.t2 instanceof gs.ClientError&&this.checkForUnavailable(e.t2))){e.next=46;break}return e.abrupt("return",{unavailable:!0});case 46:return e.prev=46,e.next=49,a.transactionIncludedMessage(s);case 49:return d=e.sent,e.abrupt("return",{message:d});case 53:if(e.prev=53,e.t3=e.catch(46),!(e.t3 instanceof gs.ClientError&&this.checkForUnavailable(e.t3))){e.next=57;break}return e.abrupt("return",{unavailable:!0});case 57:if(e.prev=57,!ks.Converter.isHex(s)||68!==s.length){e.next=63;break}return e.next=61,a.output(s);case 61:return u=e.sent,e.abrupt("return",{output:u});case 63:e.next=69;break;case 65:if(e.prev=65,e.t4=e.catch(57),!(e.t4 instanceof gs.ClientError&&this.checkForUnavailable(e.t4))){e.next=69;break}return e.abrupt("return",{unavailable:!0});case 69:if(e.prev=69,this._nodeInfo){e.next=73;break}return e.next=73,this.info();case 73:if(!this._nodeInfo||!ks.Converter.isHex(s)||64!==s.length){e.next=84;break}return h=gs.Bech32Helper.toBech32(gs.ED25519_ADDRESS_TYPE,ks.Converter.hexToBytes(s),this._nodeInfo.protocol.bech32HRP),e.next=77,this.addressBalance(h);case 77:if(!((p=e.sent)&&p.ledgerIndex>0)){e.next=84;break}return b=new gs.IndexerPluginClient(a),e.next=82,b.outputs({addressBech32:h});case 82:return v=e.sent,e.abrupt("return",{address:p,addressOutputIds:v.items});case 84:e.next=90;break;case 86:if(e.prev=86,e.t5=e.catch(69),!(e.t5 instanceof gs.ClientError&&this.checkForUnavailable(e.t5))){e.next=90;break}return e.abrupt("return",{unavailable:!0});case 90:return e.abrupt("return",{});case 91:case"end":return e.stop()}}),e,this,[[2,10],[14,30],[35,42],[46,53],[57,65],[69,86]])})));return function(t){return e.apply(this,arguments)}}()},{key:"payload",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.message(t);case 4:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.payload);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"outputDetails",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.output(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addressBalance",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,Object(gs.addressBalance)(s,t);case 4:return(a=e.sent).address=t,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"milestoneDetails",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.milestone(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"messageDetails",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.buildClient(),e.next=4,s.messageMetadata(t);case 4:return a=e.sent,e.next=7,s.messageChildren(t);case 7:return i=e.sent,e.abrupt("return",{metadata:a,childrenIds:i?i.childrenMessageIds:void 0});case 11:if(e.prev=11,e.t0=e.catch(0),!(e.t0 instanceof gs.ClientError&&this.checkForUnavailable(e.t0))){e.next=15;break}return e.abrupt("return",{unavailable:!0});case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"peerAdd",value:function(){var e=Object(i.a)(r.a.mark((function e(t,s){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.buildClient(),e.next=3,a.peerAdd(t,s);case 3:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"peerDelete",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.buildClient(),e.next=3,s.peerDelete(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildClient",value:function(){var e=this._authService.isLoggedIn(),t={};e&&(t.Authorization="Bearer ".concat(e));var s=this._authService.csrf();return s&&(t["X-CSRF-Token"]=s),new gs.SingleNodeClient("".concat(window.location.protocol,"//").concat(window.location.host),{basePath:"/api/v2/",headers:t})}},{key:"checkForUnavailable",value:function(e){return 503===e.httpStatus}}]),e}(),hn=function(){function e(){Object(p.a)(this,e),this._theme=void 0,this._theme="light"}return Object(b.a)(e,[{key:"initialize",value:function(){var e=Fe.a.get("storage").load("theme");this.apply(e,!1)}},{key:"apply",value:function(e,t){var s=this._theme;this._theme=null!==e&&void 0!==e?e:"light",document.body.classList.remove("theme-".concat(s)),document.body.classList.add("theme-".concat(this._theme)),He.publish("theme",this._theme),t&&this.save()}},{key:"get",value:function(){return this._theme}},{key:"save",value:function(){Fe.a.get("storage").save("theme",this._theme)}}]),e}(),pn=function(){function e(){Object(p.a)(this,e),this._webSocketService=void 0,this._subscriptions=void 0,this._vertices=void 0,this._verticesOrder=void 0,this._counts=void 0,this._verticesLimit=void 0,this._vertexCallback=void 0,this._countsCallback=void 0,this._referencedCallback=void 0,this._subscriptions=[],this._vertices={},this._verticesOrder=[],this._verticesLimit=5e3,this._counts={total:0,solid:0,referenced:0,conflicting:0,tips:0},this._webSocketService=Fe.a.get("web-socket")}return Object(b.a)(e,[{key:"subscribe",value:function(e,t,s){var a=this;this._subscriptions.push(this._webSocketService.subscribe(Re.Vertex,!1,(function(e){return a.updateVertices(e)})),this._webSocketService.subscribe(Re.MilestoneInfo,!1,(function(e){return a.updateMilestoneInfo(e)})),this._webSocketService.subscribe(Re.TipInfo,!1,(function(e){return a.updateTipInfo(e)})),this._webSocketService.subscribe(Re.ConfirmedInfo,!1,(function(e){return a.updateConfirmedInfo(e)})),this._webSocketService.subscribe(Re.SolidInfo,!1,(function(e){return a.updateSolidInfo(e)}))),this._vertexCallback=e,this._countsCallback=t,this._referencedCallback=s}},{key:"unsubscribe",value:function(){var e,t=Object(fs.a)(this._subscriptions);try{for(t.s();!(e=t.n()).done;){var s=e.value;this._webSocketService.unsubscribe(s)}}catch(a){t.e(a)}finally{t.f()}this._subscriptions=[],this._vertices={},this._verticesOrder=[]}},{key:"updateVertices",value:function(e){if(e){var t=e.id.slice(0,7),s=this._vertices[t],a="add";s?(a="update",!s.isSolid&&e.is_solid&&this._counts.solid++,!s.isReferenced&&e.is_referenced&&this._counts.referenced++,!s.isConflicting&&e.is_conflicting&&this._counts.conflicting++,!s.isTip&&e.is_tip&&this._counts.tips++):(e.is_solid&&this._counts.solid++,e.is_referenced&&this._counts.referenced++,e.is_conflicting&&this._counts.conflicting++,e.is_tip&&this._counts.tips++,this._verticesOrder.push(t),this.checkLimit(),s={fullId:e.id,shortId:t}),s.parents=e.parents,s.isSolid=e.is_solid,s.isReferenced=e.is_referenced,s.isConflicting=e.is_conflicting,s.isMilestone=e.is_milestone,s.isTip=e.is_tip,s.isSelected=e.is_selected,this._vertices[t]=s,this._counts.total=this._verticesOrder.length,this._vertexCallback&&this._vertexCallback(s,a),this._countsCallback&&this._countsCallback(this._counts)}}},{key:"checkLimit",value:function(){for(;this._verticesOrder.length>this._verticesLimit;){var e=this._verticesOrder.shift();if(e){var t=this.removeVertex(e);if(null!==t&&void 0!==t&&t.parents){var s,a=Object(fs.a)(t.parents);try{for(a.s();!(s=a.n()).done;){var i=s.value;this.removeVertex(i)}}catch(n){a.e(n)}finally{a.f()}}}}this._countsCallback&&this._countsCallback(this._counts)}},{key:"removeVertex",value:function(e){if(e){var t=this._vertices[e];return t?(t.isSolid&&this._counts.solid--,t.isReferenced&&this._counts.referenced--,t.isConflicting&&this._counts.conflicting--,t.isTip&&this._counts.tips--,delete this._vertices[e]):t={shortId:e},this._vertexCallback&&this._vertexCallback(t,"delete"),t}}},{key:"updateTipInfo",value:function(e){if(e){var t=this._vertices[e.id];t&&(this._counts.tips+=e.is_tip?1:t.isTip?-1:0,t.isTip=e.is_tip,this._vertexCallback&&this._vertexCallback(t,"update"),this._countsCallback&&this._countsCallback(this._counts))}}},{key:"updateMilestoneInfo",value:function(e){if(e){var t=this._vertices[e.id];t&&(t.isMilestone=!0,this._vertexCallback&&this._vertexCallback(t,"update"))}}},{key:"updateConfirmedInfo",value:function(e){if(e){var t=this._vertices[e.id];if(t&&!t.isReferenced){var s;if(this._referencedCallback)this._referencedCallback(e.id,null!==(s=e.excluded_ids)&&void 0!==s?s:[],this._counts);this._countsCallback&&this._countsCallback(this._counts)}}}},{key:"updateSolidInfo",value:function(e){if(e){var t=this._vertices[e.id];t&&!t.isSolid&&(t.isSolid=!0,this._counts.solid++,this._vertexCallback&&this._vertexCallback(t,"update"),this._countsCallback&&this._countsCallback(this._counts))}}}]),e}(),bn=s(79);function vn(){return vn=Object(i.a)(r.a.mark((function e(){var t,s,a,n,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe.a.register("storage",(function(){return new cn})),t=new dn,Fe.a.register("settings",(function(){return t})),s=new rn,e.next=6,s.initialize();case 6:return Fe.a.register("auth",(function(){return s})),a=new bn.a,Fe.a.register("web-socket",(function(){return a})),Fe.a.register("tangle",(function(){return new un})),(n=new hn).initialize(),Fe.a.register("theme",(function(){return n})),c=new on,e.next=16,c.initialize();case 16:return Fe.a.register("node-config",(function(){return c})),l=new ln,Fe.a.register("metrics",(function(){return l})),l.initialize(),Fe.a.register("visualizer",(function(){return new pn})),He.subscribe("auth-state","init",Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.resubscribe(),e.next=3,Kt.initPlugin();case 3:return e.next=5,Ti.initPlugin();case 5:case"end":return e.stop()}}),e)})))),He.subscribe("online","init",function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,c.initialize();case 3:a.resubscribe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=25,Kt.initPlugin();case 25:return e.next=27,Ti.initPlugin();case 27:return t.initialize(),e.abrupt("return",ze.initialize());case 29:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}(function(){return vn.apply(this,arguments)})().then((function(e){d.a.render(e?Object(mt.jsx)(u.a,{children:Object(mt.jsx)(nn,{})}):Object(mt.jsx)("div",{children:"REACT_APP_BRAND_ID is not set"}),document.querySelector("#root"))})).catch((function(e){return console.error(e)}))}],[[181,1,2]]]);
//# sourceMappingURL=main.3349bbb4.chunk.js.map